var uv=t=>{throw TypeError(t)};var Nh=(t,e,n)=>e.has(t)||uv("Cannot "+n);var B=(t,e,n)=>(Nh(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?uv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Nh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nt=(t,e,n)=>(Nh(t,e,"access private method"),n);var yu=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return B(t,e,r)}});function _I(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function G_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K_={exports:{}},gd={},Q_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),EI=Symbol.for("react.portal"),TI=Symbol.for("react.fragment"),xI=Symbol.for("react.strict_mode"),SI=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),AI=Symbol.for("react.context"),II=Symbol.for("react.forward_ref"),RI=Symbol.for("react.suspense"),bI=Symbol.for("react.memo"),PI=Symbol.for("react.lazy"),cv=Symbol.iterator;function NI(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var Y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X_=Object.assign,J_={};function Xi(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||Y_}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z_(){}Z_.prototype=Xi.prototype;function vm(t,e,n){this.props=t,this.context=e,this.refs=J_,this.updater=n||Y_}var wm=vm.prototype=new Z_;wm.constructor=vm;X_(wm,Xi.prototype);wm.isPureReactComponent=!0;var dv=Array.isArray,eE=Object.prototype.hasOwnProperty,_m={current:null},tE={key:!0,ref:!0,__self:!0,__source:!0};function nE(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)eE.call(e,r)&&!tE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fl,type:t,key:o,ref:i,props:s,_owner:_m.current}}function kI(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Em(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function DI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hv=/\/+/g;function kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DI(""+t.key):e.toString(36)}function Yu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Fl:case EI:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+kh(i,0):r,dv(s)?(n="",t!=null&&(n=t.replace(hv,"$&/")+"/"),Yu(s,e,n,"",function(c){return c})):s!=null&&(Em(s)&&(s=kI(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(hv,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",dv(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+kh(o,a);i+=Yu(o,e,n,u,s)}else if(u=NI(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+kh(o,a++),i+=Yu(o,e,n,u,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function vu(t,e,n){if(t==null)return t;var r=[],s=0;return Yu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function OI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},Xu={transition:null},VI={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:_m};function rE(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:vu,forEach:function(t,e,n){vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vu(t,function(){e++}),e},toArray:function(t){return vu(t,function(e){return e})||[]},only:function(t){if(!Em(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Xi;me.Fragment=TI;me.Profiler=SI;me.PureComponent=vm;me.StrictMode=xI;me.Suspense=RI;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;me.act=rE;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X_({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=_m.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)eE.call(e,u)&&!tE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fl,type:t.type,key:s,ref:o,props:r,_owner:i}};me.createContext=function(t){return t={$$typeof:AI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CI,_context:t},t.Consumer=t};me.createElement=nE;me.createFactory=function(t){var e=nE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:II,render:t}};me.isValidElement=Em;me.lazy=function(t){return{$$typeof:PI,_payload:{_status:-1,_result:t},_init:OI}};me.memo=function(t,e){return{$$typeof:bI,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Xu.transition;Xu.transition={};try{t()}finally{Xu.transition=e}};me.unstable_act=rE;me.useCallback=function(t,e){return Wt.current.useCallback(t,e)};me.useContext=function(t){return Wt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Wt.current.useEffect(t,e)};me.useId=function(){return Wt.current.useId()};me.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Wt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};me.useRef=function(t){return Wt.current.useRef(t)};me.useState=function(t){return Wt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Wt.current.useTransition()};me.version="18.3.1";Q_.exports=me;var T=Q_.exports;const q=G_(T),Tm=_I({__proto__:null,default:q},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI=T,LI=Symbol.for("react.element"),jI=Symbol.for("react.fragment"),FI=Object.prototype.hasOwnProperty,UI=MI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BI={key:!0,ref:!0,__self:!0,__source:!0};function sE(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)FI.call(e,r)&&!BI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:LI,type:t,key:o,ref:i,props:s,_owner:UI.current}}gd.Fragment=jI;gd.jsx=sE;gd.jsxs=sE;K_.exports=gd;var w=K_.exports,oE={exports:{}},fn={},iE={exports:{}},aE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var K=F.length;F.push(U);e:for(;0<K;){var se=K-1>>>1,L=F[se];if(0<s(L,U))F[se]=U,F[K]=L,K=se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],K=F.pop();if(K!==U){F[0]=K;e:for(var se=0,L=F.length,Z=L>>>1;se<Z;){var ie=2*(se+1)-1,Re=F[ie],ze=ie+1,Q=F[ze];if(0>s(Re,K))ze<L&&0>s(Q,Re)?(F[se]=Q,F[ze]=K,se=ze):(F[se]=Re,F[ie]=K,se=ie);else if(ze<L&&0>s(Q,K))F[se]=Q,F[ze]=K,se=ze;else break e}}return U}function s(F,U){var K=F.sortIndex-U.sortIndex;return K!==0?K:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var u=[],c=[],d=1,h=null,p=3,m=!1,S=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function P(F){if(y=!1,x(F),!S)if(n(u)!==null)S=!0,X(O);else{var U=n(c);U!==null&&te(P,U.startTime-F)}}function O(F,U){S=!1,y&&(y=!1,_(C),C=-1),m=!0;var K=p;try{for(x(U),h=n(u);h!==null&&(!(h.expirationTime>U)||F&&!k());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var L=se(h.expirationTime<=U);U=t.unstable_now(),typeof L=="function"?h.callback=L:h===n(u)&&r(u),x(U)}else r(u);h=n(u)}if(h!==null)var Z=!0;else{var ie=n(c);ie!==null&&te(P,ie.startTime-U),Z=!1}return Z}finally{h=null,p=K,m=!1}}var V=!1,A=null,C=-1,R=5,b=-1;function k(){return!(t.unstable_now()-b<R)}function D(){if(A!==null){var F=t.unstable_now();b=F;var U=!0;try{U=A(!0,F)}finally{U?N():(V=!1,A=null)}}else V=!1}var N;if(typeof v=="function")N=function(){v(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ne=H.port2;H.port1.onmessage=D,N=function(){ne.postMessage(null)}}else N=function(){E(D,0)};function X(F){A=F,V||(V=!0,N())}function te(F,U){C=E(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,X(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var K=p;p=U;try{return F()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=p;p=F;try{return U()}finally{p=K}},t.unstable_scheduleCallback=function(F,U,K){var se=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,F={id:d++,callback:U,priorityLevel:F,startTime:K,expirationTime:L,sortIndex:-1},K>se?(F.sortIndex=K,e(c,F),n(u)===null&&F===n(c)&&(y?(_(C),C=-1):y=!0,te(P,K-se))):(F.sortIndex=L,e(u,F),S||m||(S=!0,X(O))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var U=p;return function(){var K=p;p=U;try{return F.apply(this,arguments)}finally{p=K}}}})(aE);iE.exports=aE;var $I=iE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI=T,hn=$I;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lE=new Set,sl={};function ko(t,e){Oi(t,e),Oi(t+"Capture",e)}function Oi(t,e){for(sl[t]=e,t=0;t<e.length;t++)lE.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=Object.prototype.hasOwnProperty,HI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fv={},pv={};function WI(t){return bf.call(pv,t)?!0:bf.call(fv,t)?!1:HI.test(t)?pv[t]=!0:(fv[t]=!0,!1)}function qI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GI(t,e,n,r){if(e===null||typeof e>"u"||qI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function Sm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xm,Sm);Ct[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xm,Sm);Ct[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xm,Sm);Ct[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cm(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GI(e,n,s,r)&&(n=null),r||s===null?WI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=zI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),uE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),dE=Symbol.for("react.offscreen"),mv=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Dh;function Na(t){if(Dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dh=e&&e[1]||""}return`
`+Dh+t}var Oh=!1;function Vh(t,e){if(!t||Oh)return"";Oh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var u=`
`+s[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=a);break}}}finally{Oh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function KI(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Vh(t.type,!1),t;case 11:return t=Vh(t.type.render,!1),t;case 1:return t=Vh(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ri:return"Fragment";case ni:return"Portal";case Pf:return"Profiler";case Am:return"StrictMode";case Nf:return"Suspense";case kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cE:return(t.displayName||"Context")+".Consumer";case uE:return(t._context.displayName||"Context")+".Provider";case Im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case ns:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function QI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===Am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YI(t){var e=hE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=YI(t))}function fE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Of(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pE(t,e){e=e.checked,e!=null&&Cm(t,"checked",e,!1)}function Vf(t,e){pE(t,e);var n=Ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mf(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mf(t,e,n){(e!=="number"||xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ka(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function mE(t,e){var n=Ps(e.value),r=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,yE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ol(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XI=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(t){XI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$a[e]=$a[t]})});function vE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$a.hasOwnProperty(t)&&$a[t]?(""+e).trim():e+"px"}function wE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var JI=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ff(t,e){if(e){if(JI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=null;function bm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $f=null,mi=null,gi=null;function _v(t){if(t=$l(t)){if(typeof $f!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Ed(e),$f(t.stateNode,t.type,e))}}function _E(t){mi?gi?gi.push(t):gi=[t]:mi=t}function EE(){if(mi){var t=mi,e=gi;if(gi=mi=null,_v(t),e)for(t=0;t<e.length;t++)_v(e[t])}}function TE(t,e){return t(e)}function xE(){}var Mh=!1;function SE(t,e,n){if(Mh)return t(e,n);Mh=!0;try{return TE(t,e,n)}finally{Mh=!1,(mi!==null||gi!==null)&&(xE(),EE())}}function il(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var zf=!1;if(kr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){zf=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{zf=!1}function ZI(t,e,n,r,s,o,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var za=!1,Sc=null,Cc=!1,Hf=null,eR={onError:function(t){za=!0,Sc=t}};function tR(t,e,n,r,s,o,i,a,u){za=!1,Sc=null,ZI.apply(eR,arguments)}function nR(t,e,n,r,s,o,i,a,u){if(tR.apply(this,arguments),za){if(za){var c=Sc;za=!1,Sc=null}else throw Error(W(198));Cc||(Cc=!0,Hf=c)}}function Do(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ev(t){if(Do(t)!==t)throw Error(W(188))}function rR(t){var e=t.alternate;if(!e){if(e=Do(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ev(s),t;if(o===r)return Ev(s),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function AE(t){return t=rR(t),t!==null?IE(t):null}function IE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IE(t);if(e!==null)return e;t=t.sibling}return null}var RE=hn.unstable_scheduleCallback,Tv=hn.unstable_cancelCallback,sR=hn.unstable_shouldYield,oR=hn.unstable_requestPaint,st=hn.unstable_now,iR=hn.unstable_getCurrentPriorityLevel,Pm=hn.unstable_ImmediatePriority,bE=hn.unstable_UserBlockingPriority,Ac=hn.unstable_NormalPriority,aR=hn.unstable_LowPriority,PE=hn.unstable_IdlePriority,yd=null,or=null;function lR(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:dR,uR=Math.log,cR=Math.LN2;function dR(t){return t>>>=0,t===0?32:31-(uR(t)/cR|0)|0}var Tu=64,xu=4194304;function Da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Da(a):(o&=i,o!==0&&(r=Da(o)))}else i=n&~s,i!==0?r=Da(i):o!==0&&(r=Da(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),s=1<<n,r|=t[n],e&=~s;return r}function hR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-$n(o),a=1<<i,u=s[i];u===-1?(!(a&n)||a&r)&&(s[i]=hR(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Wf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NE(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function Lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function pR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$n(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function kE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DE,km,OE,VE,ME,qf=!1,Su=[],gs=null,ys=null,vs=null,al=new Map,ll=new Map,ss=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(t,e){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function xa(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=$l(e),e!==null&&km(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gR(t,e,n,r,s){switch(e){case"focusin":return gs=xa(gs,t,e,n,r,s),!0;case"dragenter":return ys=xa(ys,t,e,n,r,s),!0;case"mouseover":return vs=xa(vs,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return al.set(o,xa(al.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ll.set(o,xa(ll.get(o)||null,t,e,n,r,s)),!0}return!1}function LE(t){var e=so(t.target);if(e!==null){var n=Do(e);if(n!==null){if(e=n.tag,e===13){if(e=CE(n),e!==null){t.blockedOn=e,ME(t.priority,function(){OE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bf=r,n.target.dispatchEvent(r),Bf=null}else return e=$l(n),e!==null&&km(e),t.blockedOn=n,!1;e.shift()}return!0}function Sv(t,e,n){Ju(t)&&n.delete(e)}function yR(){qf=!1,gs!==null&&Ju(gs)&&(gs=null),ys!==null&&Ju(ys)&&(ys=null),vs!==null&&Ju(vs)&&(vs=null),al.forEach(Sv),ll.forEach(Sv)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,qf||(qf=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,yR)))}function ul(t){function e(s){return Sa(s,t)}if(0<Su.length){Sa(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gs!==null&&Sa(gs,t),ys!==null&&Sa(ys,t),vs!==null&&Sa(vs,t),al.forEach(e),ll.forEach(e),n=0;n<ss.length;n++)r=ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&ss.shift()}var yi=Br.ReactCurrentBatchConfig,Rc=!0;function vR(t,e,n,r){var s=ke,o=yi.transition;yi.transition=null;try{ke=1,Dm(t,e,n,r)}finally{ke=s,yi.transition=o}}function wR(t,e,n,r){var s=ke,o=yi.transition;yi.transition=null;try{ke=4,Dm(t,e,n,r)}finally{ke=s,yi.transition=o}}function Dm(t,e,n,r){if(Rc){var s=Gf(t,e,n,r);if(s===null)Gh(t,e,r,bc,n),xv(t,r);else if(gR(s,t,e,n,r))r.stopPropagation();else if(xv(t,r),e&4&&-1<mR.indexOf(t)){for(;s!==null;){var o=$l(s);if(o!==null&&DE(o),o=Gf(t,e,n,r),o===null&&Gh(t,e,r,bc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Gh(t,e,r,null,n)}}var bc=null;function Gf(t,e,n,r){if(bc=null,t=bm(r),t=so(t),t!==null)if(e=Do(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bc=t,null}function jE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iR()){case Pm:return 1;case bE:return 4;case Ac:case aR:return 16;case PE:return 536870912;default:return 16}default:return 16}}var ds=null,Om=null,Zu=null;function FE(){if(Zu)return Zu;var t,e=Om,n=e.length,r,s="value"in ds?ds.value:ds.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Zu=s.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cu(){return!0}function Cv(){return!1}function pn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cu:Cv,this.isPropagationStopped=Cv,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),e}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=pn(Ji),Bl=Ye({},Ji,{view:0,detail:0}),_R=pn(Bl),jh,Fh,Ca,vd=Ye({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(jh=t.screenX-Ca.screenX,Fh=t.screenY-Ca.screenY):Fh=jh=0,Ca=t),jh)},movementY:function(t){return"movementY"in t?t.movementY:Fh}}),Av=pn(vd),ER=Ye({},vd,{dataTransfer:0}),TR=pn(ER),xR=Ye({},Bl,{relatedTarget:0}),Uh=pn(xR),SR=Ye({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),CR=pn(SR),AR=Ye({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IR=pn(AR),RR=Ye({},Ji,{data:0}),Iv=pn(RR),bR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NR[t])?!!e[t]:!1}function Mm(){return kR}var DR=Ye({},Bl,{key:function(t){if(t.key){var e=bR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OR=pn(DR),VR=Ye({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rv=pn(VR),MR=Ye({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),LR=pn(MR),jR=Ye({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),FR=pn(jR),UR=Ye({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BR=pn(UR),$R=[9,13,27,32],Lm=kr&&"CompositionEvent"in window,Ha=null;kr&&"documentMode"in document&&(Ha=document.documentMode);var zR=kr&&"TextEvent"in window&&!Ha,UE=kr&&(!Lm||Ha&&8<Ha&&11>=Ha),bv=" ",Pv=!1;function BE(t,e){switch(t){case"keyup":return $R.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function HR(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(Pv=!0,bv);case"textInput":return t=e.data,t===bv&&Pv?null:t;default:return null}}function WR(t,e){if(si)return t==="compositionend"||!Lm&&BE(t,e)?(t=FE(),Zu=Om=ds=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UE&&e.locale!=="ko"?null:e.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qR[t.type]:e==="textarea"}function zE(t,e,n,r){_E(r),e=Pc(e,"onChange"),0<e.length&&(n=new Vm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wa=null,cl=null;function GR(t){e1(t,0)}function wd(t){var e=ai(t);if(fE(e))return t}function KR(t,e){if(t==="change")return e}var HE=!1;if(kr){var Bh;if(kr){var $h="oninput"in document;if(!$h){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),$h=typeof kv.oninput=="function"}Bh=$h}else Bh=!1;HE=Bh&&(!document.documentMode||9<document.documentMode)}function Dv(){Wa&&(Wa.detachEvent("onpropertychange",WE),cl=Wa=null)}function WE(t){if(t.propertyName==="value"&&wd(cl)){var e=[];zE(e,cl,t,bm(t)),SE(GR,e)}}function QR(t,e,n){t==="focusin"?(Dv(),Wa=e,cl=n,Wa.attachEvent("onpropertychange",WE)):t==="focusout"&&Dv()}function YR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wd(cl)}function XR(t,e){if(t==="click")return wd(e)}function JR(t,e){if(t==="input"||t==="change")return wd(e)}function ZR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:ZR;function dl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bf.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function Ov(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vv(t,e){var n=Ov(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ov(n)}}function qE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GE(){for(var t=window,e=xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xc(t.document)}return e}function jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eb(t){var e=GE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qE(n.ownerDocument.documentElement,n)){if(r!==null&&jm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Vv(n,o);var i=Vv(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tb=kr&&"documentMode"in document&&11>=document.documentMode,oi=null,Kf=null,qa=null,Qf=!1;function Mv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||oi==null||oi!==xc(r)||(r=oi,"selectionStart"in r&&jm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&dl(qa,r)||(qa=r,r=Pc(Kf,"onSelect"),0<r.length&&(e=new Vm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oi)))}function Au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ii={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},zh={},KE={};kr&&(KE=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function _d(t){if(zh[t])return zh[t];if(!ii[t])return t;var e=ii[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KE)return zh[t]=e[n];return t}var QE=_d("animationend"),YE=_d("animationiteration"),XE=_d("animationstart"),JE=_d("transitionend"),ZE=new Map,Lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(t,e){ZE.set(t,e),ko(e,[t])}for(var Hh=0;Hh<Lv.length;Hh++){var Wh=Lv[Hh],nb=Wh.toLowerCase(),rb=Wh[0].toUpperCase()+Wh.slice(1);Us(nb,"on"+rb)}Us(QE,"onAnimationEnd");Us(YE,"onAnimationIteration");Us(XE,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(JE,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function jv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nR(r,e,void 0,t),t.currentTarget=null}function e1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&s.isPropagationStopped())break e;jv(s,a,c),o=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&s.isPropagationStopped())break e;jv(s,a,c),o=u}}}if(Cc)throw t=Hf,Cc=!1,Hf=null,t}function Ue(t,e){var n=e[ep];n===void 0&&(n=e[ep]=new Set);var r=t+"__bubble";n.has(r)||(t1(e,t,2,!1),n.add(r))}function qh(t,e,n){var r=0;e&&(r|=4),t1(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[Iu]){t[Iu]=!0,lE.forEach(function(n){n!=="selectionchange"&&(sb.has(n)||qh(n,!1,t),qh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,qh("selectionchange",!1,e))}}function t1(t,e,n,r){switch(jE(e)){case 1:var s=vR;break;case 4:s=wR;break;default:s=Dm}n=s.bind(null,e,n,t),s=void 0,!zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gh(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;a!==null;){if(i=so(a),i===null)return;if(u=i.tag,u===5||u===6){r=o=i;continue e}a=a.parentNode}}r=r.return}SE(function(){var c=o,d=bm(n),h=[];e:{var p=ZE.get(t);if(p!==void 0){var m=Vm,S=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":m=OR;break;case"focusin":S="focus",m=Uh;break;case"focusout":S="blur",m=Uh;break;case"beforeblur":case"afterblur":m=Uh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LR;break;case QE:case YE:case XE:m=CR;break;case JE:m=FR;break;case"scroll":m=_R;break;case"wheel":m=BR;break;case"copy":case"cut":case"paste":m=IR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rv}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var v=c,x;v!==null;){x=v;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,_!==null&&(P=il(v,_),P!=null&&y.push(fl(v,P,x)))),E)break;v=v.return}0<y.length&&(p=new m(p,S,null,n,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Bf&&(S=n.relatedTarget||n.fromElement)&&(so(S)||S[Dr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=c,S=S?so(S):null,S!==null&&(E=Do(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=c),m!==S)){if(y=Av,P="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=Rv,P="onPointerLeave",_="onPointerEnter",v="pointer"),E=m==null?p:ai(m),x=S==null?p:ai(S),p=new y(P,v+"leave",m,n,d),p.target=E,p.relatedTarget=x,P=null,so(d)===c&&(y=new y(_,v+"enter",S,n,d),y.target=x,y.relatedTarget=E,P=y),E=P,m&&S)t:{for(y=m,_=S,v=0,x=y;x;x=Ko(x))v++;for(x=0,P=_;P;P=Ko(P))x++;for(;0<v-x;)y=Ko(y),v--;for(;0<x-v;)_=Ko(_),x--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=Ko(y),_=Ko(_)}y=null}else y=null;m!==null&&Fv(h,p,m,y,!1),S!==null&&E!==null&&Fv(h,E,S,y,!0)}}e:{if(p=c?ai(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=KR;else if(Nv(p))if(HE)O=JR;else{O=YR;var V=QR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=XR);if(O&&(O=O(t,c))){zE(h,O,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Mf(p,"number",p.value)}switch(V=c?ai(c):window,t){case"focusin":(Nv(V)||V.contentEditable==="true")&&(oi=V,Kf=c,qa=null);break;case"focusout":qa=Kf=oi=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Mv(h,n,d);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":Mv(h,n,d)}var A;if(Lm)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else si?BE(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(UE&&n.locale!=="ko"&&(si||C!=="onCompositionStart"?C==="onCompositionEnd"&&si&&(A=FE()):(ds=d,Om="value"in ds?ds.value:ds.textContent,si=!0)),V=Pc(c,C),0<V.length&&(C=new Iv(C,t,null,n,d),h.push({event:C,listeners:V}),A?C.data=A:(A=$E(n),A!==null&&(C.data=A)))),(A=zR?HR(t,n):WR(t,n))&&(c=Pc(c,"onBeforeInput"),0<c.length&&(d=new Iv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=A))}e1(h,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=il(t,n),o!=null&&r.unshift(fl(t,o,s)),o=il(t,e),o!=null&&r.push(fl(t,o,s))),t=t.return}return r}function Ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fv(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=il(n,o),u!=null&&i.unshift(fl(n,u,a))):s||(u=il(n,o),u!=null&&i.push(fl(n,u,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var ob=/\r\n?/g,ib=/\u0000|\uFFFD/g;function Uv(t){return(typeof t=="string"?t:""+t).replace(ob,`
`).replace(ib,"")}function Ru(t,e,n){if(e=Uv(e),Uv(t)!==e&&n)throw Error(W(425))}function Nc(){}var Yf=null,Xf=null;function Jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(ub)}:Zf;function ub(t){setTimeout(function(){throw t})}function Kh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ul(e)}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $v(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),nr="__reactFiber$"+Zi,pl="__reactProps$"+Zi,Dr="__reactContainer$"+Zi,ep="__reactEvents$"+Zi,cb="__reactListeners$"+Zi,db="__reactHandles$"+Zi;function so(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$v(t);t!==null;){if(n=t[nr])return n;t=$v(t)}return e}t=n,n=t.parentNode}return null}function $l(t){return t=t[nr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Ed(t){return t[pl]||null}var tp=[],li=-1;function Bs(t){return{current:t}}function $e(t){0>li||(t.current=tp[li],tp[li]=null,li--)}function Le(t,e){li++,tp[li]=t.current,t.current=e}var Ns={},Ft=Bs(Ns),tn=Bs(!1),Eo=Ns;function Vi(t,e){var n=t.type.contextTypes;if(!n)return Ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nn(t){return t=t.childContextTypes,t!=null}function kc(){$e(tn),$e(Ft)}function zv(t,e,n){if(Ft.current!==Ns)throw Error(W(168));Le(Ft,e),Le(tn,n)}function n1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,QI(t)||"Unknown",s));return Ye({},n,r)}function Dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,Eo=Ft.current,Le(Ft,t),Le(tn,tn.current),!0}function Hv(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=n1(t,e,Eo),r.__reactInternalMemoizedMergedChildContext=t,$e(tn),$e(Ft),Le(Ft,t)):$e(tn),Le(tn,n)}var Ar=null,Td=!1,Qh=!1;function r1(t){Ar===null?Ar=[t]:Ar.push(t)}function hb(t){Td=!0,r1(t)}function $s(){if(!Qh&&Ar!==null){Qh=!0;var t=0,e=ke;try{var n=Ar;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Td=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(t+1)),RE(Pm,$s),s}finally{ke=e,Qh=!1}}return null}var ui=[],ci=0,Oc=null,Vc=0,yn=[],vn=0,To=null,Rr=1,br="";function eo(t,e){ui[ci++]=Vc,ui[ci++]=Oc,Oc=t,Vc=e}function s1(t,e,n){yn[vn++]=Rr,yn[vn++]=br,yn[vn++]=To,To=t;var r=Rr;t=br;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var o=32-$n(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Rr=1<<32-$n(e)+s|n<<s|r,br=o+t}else Rr=1<<o|n<<s|r,br=t}function Fm(t){t.return!==null&&(eo(t,1),s1(t,1,0))}function Um(t){for(;t===Oc;)Oc=ui[--ci],ui[ci]=null,Vc=ui[--ci],ui[ci]=null;for(;t===To;)To=yn[--vn],yn[vn]=null,br=yn[--vn],yn[vn]=null,Rr=yn[--vn],yn[vn]=null}var cn=null,un=null,qe=!1,Un=null;function o1(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,un=ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=To!==null?{id:Rr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,un=null,!0):!1;default:return!1}}function np(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rp(t){if(qe){var e=un;if(e){var n=e;if(!Wv(t,e)){if(np(t))throw Error(W(418));e=ws(n.nextSibling);var r=cn;e&&Wv(t,e)?o1(r,n):(t.flags=t.flags&-4097|2,qe=!1,cn=t)}}else{if(np(t))throw Error(W(418));t.flags=t.flags&-4097|2,qe=!1,cn=t}}}function qv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function bu(t){if(t!==cn)return!1;if(!qe)return qv(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jf(t.type,t.memoizedProps)),e&&(e=un)){if(np(t))throw i1(),Error(W(418));for(;e;)o1(t,e),e=ws(e.nextSibling)}if(qv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=cn?ws(t.stateNode.nextSibling):null;return!0}function i1(){for(var t=un;t;)t=ws(t.nextSibling)}function Mi(){un=cn=null,qe=!1}function Bm(t){Un===null?Un=[t]:Un.push(t)}var fb=Br.ReactCurrentBatchConfig;function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gv(t){var e=t._init;return e(t._payload)}function a1(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=xs(_,v),_.index=0,_.sibling=null,_}function o(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function i(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,P){return v===null||v.tag!==6?(v=nf(x,_.mode,P),v.return=_,v):(v=s(v,x),v.return=_,v)}function u(_,v,x,P){var O=x.type;return O===ri?d(_,v,x.props.children,P,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ns&&Gv(O)===v.type)?(P=s(v,x.props),P.ref=Aa(_,v,x),P.return=_,P):(P=ac(x.type,x.key,x.props,null,_.mode,P),P.ref=Aa(_,v,x),P.return=_,P)}function c(_,v,x,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=rf(x,_.mode,P),v.return=_,v):(v=s(v,x.children||[]),v.return=_,v)}function d(_,v,x,P,O){return v===null||v.tag!==7?(v=wo(x,_.mode,P,O),v.return=_,v):(v=s(v,x),v.return=_,v)}function h(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nf(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wu:return x=ac(v.type,v.key,v.props,null,_.mode,x),x.ref=Aa(_,null,v),x.return=_,x;case ni:return v=rf(v,_.mode,x),v.return=_,v;case ns:var P=v._init;return h(_,P(v._payload),x)}if(ka(v)||Ea(v))return v=wo(v,_.mode,x,null),v.return=_,v;Pu(_,v)}return null}function p(_,v,x,P){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(_,v,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wu:return x.key===O?u(_,v,x,P):null;case ni:return x.key===O?c(_,v,x,P):null;case ns:return O=x._init,p(_,v,O(x._payload),P)}if(ka(x)||Ea(x))return O!==null?null:d(_,v,x,P,null);Pu(_,x)}return null}function m(_,v,x,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(x)||null,a(v,_,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case wu:return _=_.get(P.key===null?x:P.key)||null,u(v,_,P,O);case ni:return _=_.get(P.key===null?x:P.key)||null,c(v,_,P,O);case ns:var V=P._init;return m(_,v,x,V(P._payload),O)}if(ka(P)||Ea(P))return _=_.get(x)||null,d(v,_,P,O,null);Pu(v,P)}return null}function S(_,v,x,P){for(var O=null,V=null,A=v,C=v=0,R=null;A!==null&&C<x.length;C++){A.index>C?(R=A,A=null):R=A.sibling;var b=p(_,A,x[C],P);if(b===null){A===null&&(A=R);break}t&&A&&b.alternate===null&&e(_,A),v=o(b,v,C),V===null?O=b:V.sibling=b,V=b,A=R}if(C===x.length)return n(_,A),qe&&eo(_,C),O;if(A===null){for(;C<x.length;C++)A=h(_,x[C],P),A!==null&&(v=o(A,v,C),V===null?O=A:V.sibling=A,V=A);return qe&&eo(_,C),O}for(A=r(_,A);C<x.length;C++)R=m(A,_,C,x[C],P),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?C:R.key),v=o(R,v,C),V===null?O=R:V.sibling=R,V=R);return t&&A.forEach(function(k){return e(_,k)}),qe&&eo(_,C),O}function y(_,v,x,P){var O=Ea(x);if(typeof O!="function")throw Error(W(150));if(x=O.call(x),x==null)throw Error(W(151));for(var V=O=null,A=v,C=v=0,R=null,b=x.next();A!==null&&!b.done;C++,b=x.next()){A.index>C?(R=A,A=null):R=A.sibling;var k=p(_,A,b.value,P);if(k===null){A===null&&(A=R);break}t&&A&&k.alternate===null&&e(_,A),v=o(k,v,C),V===null?O=k:V.sibling=k,V=k,A=R}if(b.done)return n(_,A),qe&&eo(_,C),O;if(A===null){for(;!b.done;C++,b=x.next())b=h(_,b.value,P),b!==null&&(v=o(b,v,C),V===null?O=b:V.sibling=b,V=b);return qe&&eo(_,C),O}for(A=r(_,A);!b.done;C++,b=x.next())b=m(A,_,C,b.value,P),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?C:b.key),v=o(b,v,C),V===null?O=b:V.sibling=b,V=b);return t&&A.forEach(function(D){return e(_,D)}),qe&&eo(_,C),O}function E(_,v,x,P){if(typeof x=="object"&&x!==null&&x.type===ri&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wu:e:{for(var O=x.key,V=v;V!==null;){if(V.key===O){if(O=x.type,O===ri){if(V.tag===7){n(_,V.sibling),v=s(V,x.props.children),v.return=_,_=v;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ns&&Gv(O)===V.type){n(_,V.sibling),v=s(V,x.props),v.ref=Aa(_,V,x),v.return=_,_=v;break e}n(_,V);break}else e(_,V);V=V.sibling}x.type===ri?(v=wo(x.props.children,_.mode,P,x.key),v.return=_,_=v):(P=ac(x.type,x.key,x.props,null,_.mode,P),P.ref=Aa(_,v,x),P.return=_,_=P)}return i(_);case ni:e:{for(V=x.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=s(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=rf(x,_.mode,P),v.return=_,_=v}return i(_);case ns:return V=x._init,E(_,v,V(x._payload),P)}if(ka(x))return S(_,v,x,P);if(Ea(x))return y(_,v,x,P);Pu(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,x),v.return=_,_=v):(n(_,v),v=nf(x,_.mode,P),v.return=_,_=v),i(_)):n(_,v)}return E}var Li=a1(!0),l1=a1(!1),Mc=Bs(null),Lc=null,di=null,$m=null;function zm(){$m=di=Lc=null}function Hm(t){var e=Mc.current;$e(Mc),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vi(t,e){Lc=t,$m=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Sn(t){var e=t._currentValue;if($m!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(Lc===null)throw Error(W(308));di=t,Lc.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var oo=null;function Wm(t){oo===null?oo=[t]:oo.push(t)}function u1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rs=!1;function qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,Wm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}function Kv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jc(t,e,n,r){var s=t.updateQueue;rs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?o=c:i.next=c,i=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=s.baseState;i=0,d=c=u=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,y=a;switch(p=e,m=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){h=S.call(m,h,p);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,p=typeof S=="function"?S.call(m,h,p):S,p==null)break e;h=Ye({},h,p);break e;case 2:rs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);So|=i,t.lanes=i,t.memoizedState=h}}function Qv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var zl={},ir=Bs(zl),ml=Bs(zl),gl=Bs(zl);function io(t){if(t===zl)throw Error(W(174));return t}function Gm(t,e){switch(Le(gl,e),Le(ml,t),Le(ir,zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jf(e,t)}$e(ir),Le(ir,e)}function ji(){$e(ir),$e(ml),$e(gl)}function d1(t){io(gl.current);var e=io(ir.current),n=jf(e,t.type);e!==n&&(Le(ml,t),Le(ir,n))}function Km(t){ml.current===t&&($e(ir),$e(ml))}var Ke=Bs(0);function Fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yh=[];function Qm(){for(var t=0;t<Yh.length;t++)Yh[t]._workInProgressVersionPrimary=null;Yh.length=0}var nc=Br.ReactCurrentDispatcher,Xh=Br.ReactCurrentBatchConfig,xo=0,Qe=null,ht=null,gt=null,Uc=!1,Ga=!1,yl=0,pb=0;function kt(){throw Error(W(321))}function Ym(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function Xm(t,e,n,r,s,o){if(xo=o,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nc.current=t===null||t.memoizedState===null?vb:wb,t=n(r,s),Ga){o=0;do{if(Ga=!1,yl=0,25<=o)throw Error(W(301));o+=1,gt=ht=null,e.updateQueue=null,nc.current=_b,t=n(r,s)}while(Ga)}if(nc.current=Bc,e=ht!==null&&ht.next!==null,xo=0,gt=ht=Qe=null,Uc=!1,e)throw Error(W(300));return t}function Jm(){var t=yl!==0;return yl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Qe.memoizedState=gt=t:gt=gt.next=t,gt}function Cn(){if(ht===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=gt===null?Qe.memoizedState:gt.next;if(e!==null)gt=e,ht=t;else{if(t===null)throw Error(W(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?Qe.memoizedState=gt=t:gt=gt.next=t}return gt}function vl(t,e){return typeof e=="function"?e(t):e}function Jh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,u=null,c=o;do{var d=c.lane;if((xo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,i=r):u=u.next=h,Qe.lanes|=d,So|=d}c=c.next}while(c!==null&&c!==o);u===null?i=r:u.next=a,Hn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Qe.lanes|=o,So|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Hn(o,e.memoizedState)||(en=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function h1(){}function f1(t,e){var n=Qe,r=Cn(),s=e(),o=!Hn(r.memoizedState,s);if(o&&(r.memoizedState=s,en=!0),r=r.queue,Zm(g1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,wl(9,m1.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(W(349));xo&30||p1(n,e,s)}return s}function p1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m1(t,e,n,r){e.value=n,e.getSnapshot=r,y1(e)&&v1(t)}function g1(t,e,n){return n(function(){y1(e)&&v1(t)})}function y1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function v1(t){var e=Or(t,1);e!==null&&zn(e,t,1,-1)}function Yv(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:t},e.queue=t,t=t.dispatch=yb.bind(null,Qe,t),[e.memoizedState,t]}function wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w1(){return Cn().memoizedState}function rc(t,e,n,r){var s=Xn();Qe.flags|=t,s.memoizedState=wl(1|e,n,void 0,r===void 0?null:r)}function xd(t,e,n,r){var s=Cn();r=r===void 0?null:r;var o=void 0;if(ht!==null){var i=ht.memoizedState;if(o=i.destroy,r!==null&&Ym(r,i.deps)){s.memoizedState=wl(e,n,o,r);return}}Qe.flags|=t,s.memoizedState=wl(1|e,n,o,r)}function Xv(t,e){return rc(8390656,8,t,e)}function Zm(t,e){return xd(2048,8,t,e)}function _1(t,e){return xd(4,2,t,e)}function E1(t,e){return xd(4,4,t,e)}function T1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x1(t,e,n){return n=n!=null?n.concat([t]):null,xd(4,4,T1.bind(null,e,t),n)}function eg(){}function S1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ym(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ym(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A1(t,e,n){return xo&21?(Hn(n,e)||(n=NE(),Qe.lanes|=n,So|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function mb(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Xh.transition;Xh.transition={};try{t(!1),e()}finally{ke=n,Xh.transition=r}}function I1(){return Cn().memoizedState}function gb(t,e,n){var r=Ts(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R1(t))b1(e,n);else if(n=u1(t,e,n,r),n!==null){var s=Ht();zn(n,t,r,s),P1(n,e,r)}}function yb(t,e,n){var r=Ts(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R1(t))b1(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,i)){var u=e.interleaved;u===null?(s.next=s,Wm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=u1(t,e,s,r),n!==null&&(s=Ht(),zn(n,t,r,s),P1(n,e,r))}}function R1(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function b1(t,e){Ga=Uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}var Bc={readContext:Sn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},vb={readContext:Sn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:Sn,useEffect:Xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4194308,4,T1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gb.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:Yv,useDebugValue:eg,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=Yv(!1),e=t[0];return t=mb.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,s=Xn();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),yt===null)throw Error(W(349));xo&30||p1(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Xv(g1.bind(null,r,o,t),[t]),r.flags|=2048,wl(9,m1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Xn(),e=yt.identifierPrefix;if(qe){var n=br,r=Rr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wb={readContext:Sn,useCallback:S1,useContext:Sn,useEffect:Zm,useImperativeHandle:x1,useInsertionEffect:_1,useLayoutEffect:E1,useMemo:C1,useReducer:Jh,useRef:w1,useState:function(){return Jh(vl)},useDebugValue:eg,useDeferredValue:function(t){var e=Cn();return A1(e,ht.memoizedState,t)},useTransition:function(){var t=Jh(vl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:h1,useSyncExternalStore:f1,useId:I1,unstable_isNewReconciler:!1},_b={readContext:Sn,useCallback:S1,useContext:Sn,useEffect:Zm,useImperativeHandle:x1,useInsertionEffect:_1,useLayoutEffect:E1,useMemo:C1,useReducer:Zh,useRef:w1,useState:function(){return Zh(vl)},useDebugValue:eg,useDeferredValue:function(t){var e=Cn();return ht===null?e.memoizedState=t:A1(e,ht.memoizedState,t)},useTransition:function(){var t=Zh(vl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:h1,useSyncExternalStore:f1,useId:I1,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function op(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?Do(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=Ts(t),o=Pr(r,s);o.payload=e,n!=null&&(o.callback=n),e=_s(t,o,s),e!==null&&(zn(e,t,s,r),tc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=Ts(t),o=Pr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_s(t,o,s),e!==null&&(zn(e,t,s,r),tc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=Ts(t),s=Pr(n,r);s.tag=2,e!=null&&(s.callback=e),e=_s(t,s,r),e!==null&&(zn(e,t,r,n),tc(e,t,r))}};function Jv(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!dl(n,r)||!dl(s,o):!0}function N1(t,e,n){var r=!1,s=Ns,o=e.contextType;return typeof o=="object"&&o!==null?o=Sn(o):(s=nn(e)?Eo:Ft.current,r=e.contextTypes,o=(r=r!=null)?Vi(t,s):Ns),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Zv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qm(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Sn(o):(o=nn(e)?Eo:Ft.current,s.context=Vi(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(op(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sd.enqueueReplaceState(s,s.state,null),jc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fi(t,e){try{var n="",r=e;do n+=KI(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Eb=typeof WeakMap=="function"?WeakMap:Map;function k1(t,e,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zc||(zc=!0,yp=r),ap(t,e)},n}function D1(t,e,n){n=Pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ap(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ap(t,e),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function e0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Eb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vb.bind(null,t,e,n),e.then(t,t))}function t0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pr(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var Tb=Br.ReactCurrentOwner,en=!1;function $t(t,e,n,r){e.child=t===null?l1(e,null,n,r):Li(e,t.child,n,r)}function r0(t,e,n,r,s){n=n.render;var o=e.ref;return vi(e,s),r=Xm(t,e,n,r,o,s),n=Jm(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(qe&&n&&Fm(e),e.flags|=1,$t(t,e,r,s),e.child)}function s0(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!lg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,O1(t,e,o,r,s)):(t=ac(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:dl,n(i,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=xs(o,r),t.ref=e.ref,t.return=e,e.child=t}function O1(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(dl(o,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return lp(t,e,n,r,s)}function V1(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(fi,an),an|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(fi,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(fi,an),an|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(fi,an),an|=r;return $t(t,e,s,n),e.child}function M1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lp(t,e,n,r,s){var o=nn(n)?Eo:Ft.current;return o=Vi(e,o),vi(e,s),n=Xm(t,e,n,r,o,s),r=Jm(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(qe&&r&&Fm(e),e.flags|=1,$t(t,e,n,s),e.child)}function o0(t,e,n,r,s){if(nn(n)){var o=!0;Dc(e)}else o=!1;if(vi(e,s),e.stateNode===null)sc(t,e),N1(e,n,r),ip(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Sn(c):(c=nn(n)?Eo:Ft.current,c=Vi(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Zv(e,i,r,c),rs=!1;var p=e.memoizedState;i.state=p,jc(e,r,i,s),u=e.memoizedState,a!==r||p!==u||tn.current||rs?(typeof d=="function"&&(op(e,n,d,r),u=e.memoizedState),(a=rs||Jv(e,n,a,r,p,u,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,c1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:On(e.type,a),i.props=c,h=e.pendingProps,p=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Sn(u):(u=nn(n)?Eo:Ft.current,u=Vi(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==u)&&Zv(e,i,r,u),rs=!1,p=e.memoizedState,i.state=p,jc(e,r,i,s);var S=e.memoizedState;a!==h||p!==S||tn.current||rs?(typeof m=="function"&&(op(e,n,m,r),S=e.memoizedState),(c=rs||Jv(e,n,c,r,p,S,u)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),i.props=r,i.state=S,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return up(t,e,n,r,o,s)}function up(t,e,n,r,s,o){M1(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Hv(e,n,!1),Vr(t,e,o);r=e.stateNode,Tb.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Li(e,t.child,null,o),e.child=Li(e,null,a,o)):$t(t,e,a,o),e.memoizedState=r.state,s&&Hv(e,n,!0),e.child}function L1(t){var e=t.stateNode;e.pendingContext?zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(t,e.context,!1),Gm(t,e.containerInfo)}function i0(t,e,n,r,s){return Mi(),Bm(s),e.flags|=256,$t(t,e,n,r),e.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function j1(t,e,n){var r=e.pendingProps,s=Ke.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ke,s&1),t===null)return rp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Id(i,r,0,null),t=wo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dp(n),e.memoizedState=cp,t):tg(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return xb(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=xs(a,o):(o=wo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?dp(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=cp,r}return o=t.child,t=o.sibling,r=xs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tg(t,e){return e=Id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&Bm(r),Li(e,t.child,null,n),t=tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xb(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=ef(Error(W(422))),Nu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Id({mode:"visible",children:r.children},s,0,null),o=wo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Li(e,t.child,null,i),e.child.memoizedState=dp(i),e.memoizedState=cp,o);if(!(e.mode&1))return Nu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=ef(o,r,void 0),Nu(t,e,i,r)}if(a=(i&t.childLanes)!==0,en||a){if(r=yt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Or(t,s),zn(r,t,s,-1))}return ag(),r=ef(Error(W(421))),Nu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Mb.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,un=ws(s.nextSibling),cn=e,qe=!0,Un=null,t!==null&&(yn[vn++]=Rr,yn[vn++]=br,yn[vn++]=To,Rr=t.id,br=t.overflow,To=e),e=tg(e,r.children),e.flags|=4096,e)}function a0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function tf(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function F1(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if($t(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a0(t,n,e);else if(t.tag===19)a0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tf(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tf(e,!0,n,null,o);break;case"together":tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sb(t,e,n){switch(e.tag){case 3:L1(e),Mi();break;case 5:d1(e);break;case 1:nn(e.type)&&Dc(e);break;case 4:Gm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Mc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?j1(t,e,n):(Le(Ke,Ke.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return F1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,V1(t,e,n)}return Vr(t,e,n)}var U1,hp,B1,$1;U1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hp=function(){};B1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,io(ir.current);var o=null;switch(n){case"input":s=Of(t,s),r=Of(t,r),o=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),o=[];break;case"textarea":s=Lf(t,s),r=Lf(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nc)}Ff(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ue("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ia(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Cb(t,e,n){var r=e.pendingProps;switch(Um(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return nn(e.type)&&kc(),Dt(e),null;case 3:return r=e.stateNode,ji(),$e(tn),$e(Ft),Qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(_p(Un),Un=null))),hp(t,e),Dt(e),null;case 5:Km(e);var s=io(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)B1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Dt(e),null}if(t=io(ir.current),bu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[nr]=e,r[pl]=o,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Oa.length;s++)Ue(Oa[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":gv(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":vv(r,o),Ue("invalid",r)}Ff(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",""+a]):sl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ue("scroll",r)}switch(n){case"input":_u(r),yv(r,o,!0);break;case"textarea":_u(r),wv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[nr]=e,t[pl]=r,U1(t,e,!1,!1),e.stateNode=t;e:{switch(i=Uf(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Oa.length;s++)Ue(Oa[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":gv(t,r),s=Of(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":vv(t,r),s=Lf(t,r),Ue("invalid",t);break;default:s=r}Ff(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?wE(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&yE(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ol(t,u):typeof u=="number"&&ol(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ue("scroll",t):u!=null&&Cm(t,o,u,i))}switch(n){case"input":_u(t),yv(t,r,!1);break;case"textarea":_u(t),wv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ps(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?pi(t,!!r.multiple,o,!1):r.defaultValue!=null&&pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)$1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=io(gl.current),io(ir.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(o=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return Dt(e),null;case 13:if($e(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&un!==null&&e.mode&1&&!(e.flags&128))i1(),Mi(),e.flags|=98560,o=!1;else if(o=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[nr]=e}else Mi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),o=!1}else Un!==null&&(_p(Un),Un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?ft===0&&(ft=3):ag())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return ji(),hp(t,e),t===null&&hl(e.stateNode.containerInfo),Dt(e),null;case 10:return Hm(e.type._context),Dt(e),null;case 17:return nn(e.type)&&kc(),Dt(e),null;case 19:if($e(Ke),o=e.memoizedState,o===null)return Dt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Ia(o,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Fc(t),i!==null){for(e.flags|=128,Ia(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ke,Ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&st()>Ui&&(e.flags|=128,r=!0,Ia(o,!1),e.lanes=4194304)}else{if(!r)if(t=Fc(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qe)return Dt(e),null}else 2*st()-o.renderingStartTime>Ui&&n!==1073741824&&(e.flags|=128,r=!0,Ia(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=st(),e.sibling=null,n=Ke.current,Le(Ke,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return ig(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function Ab(t,e){switch(Um(e),e.tag){case 1:return nn(e.type)&&kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(),$e(tn),$e(Ft),Qm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Km(e),null;case 13:if($e(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Mi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ke),null;case 4:return ji(),null;case 10:return Hm(e.type._context),null;case 22:case 23:return ig(),null;case 24:return null;default:return null}}var ku=!1,Lt=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,ee=null;function hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function fp(t,e,n){try{n()}catch(r){tt(t,e,r)}}var l0=!1;function Rb(t,e){if(Yf=Rc,t=GE(),jm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(u=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=i),p===o&&++d===r&&(u=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:t,selectionRange:n},Rc=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,E=S.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:On(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){tt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return S=l0,l0=!1,S}function Ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&fp(e,n,o)}s=s.next}while(s!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z1(t){var e=t.alternate;e!==null&&(t.alternate=null,z1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[pl],delete e[ep],delete e[cb],delete e[db])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H1(t){return t.tag===5||t.tag===3||t.tag===4}function u0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nc));else if(r!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}function gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}var Et=null,Fn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)W1(t,e,n),n=n.sibling}function W1(t,e,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Lt||hi(n,e);case 6:var r=Et,s=Fn;Et=null,Qr(t,e,n),Et=r,Fn=s,Et!==null&&(Fn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Fn?(t=Et,n=n.stateNode,t.nodeType===8?Kh(t.parentNode,n):t.nodeType===1&&Kh(t,n),ul(t)):Kh(Et,n.stateNode));break;case 4:r=Et,s=Fn,Et=n.stateNode.containerInfo,Fn=!0,Qr(t,e,n),Et=r,Fn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&fp(n,e,i),s=s.next}while(s!==r)}Qr(t,e,n);break;case 1:if(!Lt&&(hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Qr(t,e,n),Lt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function c0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ib),e.forEach(function(r){var s=Lb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Fn=!1;break e;case 3:Et=a.stateNode.containerInfo,Fn=!0;break e;case 4:Et=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(Et===null)throw Error(W(160));W1(o,i,s),Et=null,Fn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){tt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q1(e,t),e=e.sibling}function q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Yn(t),r&4){try{Ka(3,t,t.return),Cd(3,t)}catch(y){tt(t,t.return,y)}try{Ka(5,t,t.return)}catch(y){tt(t,t.return,y)}}break;case 1:Nn(e,t),Yn(t),r&512&&n!==null&&hi(n,n.return);break;case 5:if(Nn(e,t),Yn(t),r&512&&n!==null&&hi(n,n.return),t.flags&32){var s=t.stateNode;try{ol(s,"")}catch(y){tt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&pE(s,o),Uf(a,i);var c=Uf(a,o);for(i=0;i<u.length;i+=2){var d=u[i],h=u[i+1];d==="style"?wE(s,h):d==="dangerouslySetInnerHTML"?yE(s,h):d==="children"?ol(s,h):Cm(s,d,h,c)}switch(a){case"input":Vf(s,o);break;case"textarea":mE(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?pi(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?pi(s,!!o.multiple,o.defaultValue,!0):pi(s,!!o.multiple,o.multiple?[]:"",!1))}s[pl]=o}catch(y){tt(t,t.return,y)}}break;case 6:if(Nn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){tt(t,t.return,y)}}break;case 3:if(Nn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(e.containerInfo)}catch(y){tt(t,t.return,y)}break;case 4:Nn(e,t),Yn(t);break;case 13:Nn(e,t),Yn(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(sg=st())),r&4&&c0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||d,Nn(e,t),Lt=c):Nn(e,t),Yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(p=ee,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ka(4,p,p.return);break;case 1:hi(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:hi(p,p.return);break;case 22:if(p.memoizedState!==null){h0(h);continue}}m!==null?(m.return=p,ee=m):h0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,u=h.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=vE("display",i))}catch(y){tt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){tt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nn(e,t),Yn(t),r&4&&c0(t);break;case 21:break;default:Nn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H1(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ol(s,""),r.flags&=-33);var o=u0(t);gp(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=u0(t);mp(t,a,i);break;default:throw Error(W(161))}}catch(u){tt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bb(t,e,n){ee=t,G1(t)}function G1(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ku;if(!i){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Lt;a=ku;var c=Lt;if(ku=i,(Lt=u)&&!c)for(ee=s;ee!==null;)i=ee,u=i.child,i.tag===22&&i.memoizedState!==null?f0(s):u!==null?(u.return=i,ee=u):f0(s);for(;o!==null;)ee=o,G1(o),o=o.sibling;ee=s,ku=a,Lt=c}d0(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ee=o):d0(t)}}function d0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Qv(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qv(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ul(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Lt||e.flags&512&&pp(e)}catch(p){tt(e,e.return,p)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function h0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function f0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(u){tt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){tt(e,s,u)}}var o=e.return;try{pp(e)}catch(u){tt(e,o,u)}break;case 5:var i=e.return;try{pp(e)}catch(u){tt(e,i,u)}}}catch(u){tt(e,e.return,u)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var Pb=Math.ceil,$c=Br.ReactCurrentDispatcher,ng=Br.ReactCurrentOwner,xn=Br.ReactCurrentBatchConfig,Ce=0,yt=null,ut=null,St=0,an=0,fi=Bs(0),ft=0,_l=null,So=0,Ad=0,rg=0,Qa=null,Jt=null,sg=0,Ui=1/0,Cr=null,zc=!1,yp=null,Es=null,Du=!1,hs=null,Hc=0,Ya=0,vp=null,oc=-1,ic=0;function Ht(){return Ce&6?st():oc!==-1?oc:oc=st()}function Ts(t){return t.mode&1?Ce&2&&St!==0?St&-St:fb.transition!==null?(ic===0&&(ic=NE()),ic):(t=ke,t!==0||(t=window.event,t=t===void 0?16:jE(t.type)),t):1}function zn(t,e,n,r){if(50<Ya)throw Ya=0,vp=null,Error(W(185));Ul(t,n,r),(!(Ce&2)||t!==yt)&&(t===yt&&(!(Ce&2)&&(Ad|=n),ft===4&&os(t,St)),rn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Ui=st()+500,Td&&$s()))}function rn(t,e){var n=t.callbackNode;fR(t,e);var r=Ic(t,t===yt?St:0);if(r===0)n!==null&&Tv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tv(n),e===1)t.tag===0?hb(p0.bind(null,t)):r1(p0.bind(null,t)),lb(function(){!(Ce&6)&&$s()}),n=null;else{switch(kE(r)){case 1:n=Pm;break;case 4:n=bE;break;case 16:n=Ac;break;case 536870912:n=PE;break;default:n=Ac}n=tT(n,K1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K1(t,e){if(oc=-1,ic=0,Ce&6)throw Error(W(327));var n=t.callbackNode;if(wi()&&t.callbackNode!==n)return null;var r=Ic(t,t===yt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wc(t,r);else{e=r;var s=Ce;Ce|=2;var o=Y1();(yt!==t||St!==e)&&(Cr=null,Ui=st()+500,vo(t,e));do try{Db();break}catch(a){Q1(t,a)}while(!0);zm(),$c.current=o,Ce=s,ut!==null?e=0:(yt=null,St=0,e=ft)}if(e!==0){if(e===2&&(s=Wf(t),s!==0&&(r=s,e=wp(t,s))),e===1)throw n=_l,vo(t,0),os(t,r),rn(t,st()),n;if(e===6)os(t,r);else{if(s=t.current.alternate,!(r&30)&&!Nb(s)&&(e=Wc(t,r),e===2&&(o=Wf(t),o!==0&&(r=o,e=wp(t,o))),e===1))throw n=_l,vo(t,0),os(t,r),rn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:to(t,Jt,Cr);break;case 3:if(os(t,r),(r&130023424)===r&&(e=sg+500-st(),10<e)){if(Ic(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zf(to.bind(null,t,Jt,Cr),e);break}to(t,Jt,Cr);break;case 4:if(os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-$n(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pb(r/1960))-r,10<r){t.timeoutHandle=Zf(to.bind(null,t,Jt,Cr),r);break}to(t,Jt,Cr);break;case 5:to(t,Jt,Cr);break;default:throw Error(W(329))}}}return rn(t,st()),t.callbackNode===n?K1.bind(null,t):null}function wp(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(vo(t,e).flags|=256),t=Wc(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&_p(e)),t}function _p(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function Nb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Hn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function os(t,e){for(e&=~rg,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function p0(t){if(Ce&6)throw Error(W(327));wi();var e=Ic(t,0);if(!(e&1))return rn(t,st()),null;var n=Wc(t,e);if(t.tag!==0&&n===2){var r=Wf(t);r!==0&&(e=r,n=wp(t,r))}if(n===1)throw n=_l,vo(t,0),os(t,e),rn(t,st()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,Jt,Cr),rn(t,st()),null}function og(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Ui=st()+500,Td&&$s())}}function Co(t){hs!==null&&hs.tag===0&&!(Ce&6)&&wi();var e=Ce;Ce|=1;var n=xn.transition,r=ke;try{if(xn.transition=null,ke=1,t)return t()}finally{ke=r,xn.transition=n,Ce=e,!(Ce&6)&&$s()}}function ig(){an=fi.current,$e(fi)}function vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ab(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Um(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kc();break;case 3:ji(),$e(tn),$e(Ft),Qm();break;case 5:Km(r);break;case 4:ji();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:Hm(r.type._context);break;case 22:case 23:ig()}n=n.return}if(yt=t,ut=t=xs(t.current,null),St=an=e,ft=0,_l=null,rg=Ad=So=0,Jt=Qa=null,oo!==null){for(e=0;e<oo.length;e++)if(n=oo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}oo=null}return t}function Q1(t,e){do{var n=ut;try{if(zm(),nc.current=Bc,Uc){for(var r=Qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uc=!1}if(xo=0,gt=ht=Qe=null,Ga=!1,yl=0,ng.current=null,n===null||n.return===null){ft=1,_l=e,ut=null;break}e:{var o=t,i=n.return,a=n,u=e;if(e=St,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=t0(i);if(m!==null){m.flags&=-257,n0(m,i,a,o,e),m.mode&1&&e0(o,c,e),e=m,u=c;var S=e.updateQueue;if(S===null){var y=new Set;y.add(u),e.updateQueue=y}else S.add(u);break e}else{if(!(e&1)){e0(o,c,e),ag();break e}u=Error(W(426))}}else if(qe&&a.mode&1){var E=t0(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),n0(E,i,a,o,e),Bm(Fi(u,a));break e}}o=u=Fi(u,a),ft!==4&&(ft=2),Qa===null?Qa=[o]:Qa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=k1(o,u,e);Kv(o,_);break e;case 1:a=u;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Es===null||!Es.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=D1(o,a,e);Kv(o,P);break e}}o=o.return}while(o!==null)}J1(n)}catch(O){e=O,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function Y1(){var t=$c.current;return $c.current=Bc,t===null?Bc:t}function ag(){(ft===0||ft===3||ft===2)&&(ft=4),yt===null||!(So&268435455)&&!(Ad&268435455)||os(yt,St)}function Wc(t,e){var n=Ce;Ce|=2;var r=Y1();(yt!==t||St!==e)&&(Cr=null,vo(t,e));do try{kb();break}catch(s){Q1(t,s)}while(!0);if(zm(),Ce=n,$c.current=r,ut!==null)throw Error(W(261));return yt=null,St=0,ft}function kb(){for(;ut!==null;)X1(ut)}function Db(){for(;ut!==null&&!sR();)X1(ut)}function X1(t){var e=eT(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?J1(t):ut=e,ng.current=null}function J1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ab(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ut=null;return}}else if(n=Cb(n,e,an),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);ft===0&&(ft=5)}function to(t,e,n){var r=ke,s=xn.transition;try{xn.transition=null,ke=1,Ob(t,e,n,r)}finally{xn.transition=s,ke=r}return null}function Ob(t,e,n,r){do wi();while(hs!==null);if(Ce&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pR(t,o),t===yt&&(ut=yt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,tT(Ac,function(){return wi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var i=ke;ke=1;var a=Ce;Ce|=4,ng.current=null,Rb(t,n),q1(n,t),eb(Xf),Rc=!!Yf,Xf=Yf=null,t.current=n,bb(n),oR(),Ce=a,ke=i,xn.transition=o}else t.current=n;if(Du&&(Du=!1,hs=t,Hc=s),o=t.pendingLanes,o===0&&(Es=null),lR(n.stateNode),rn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zc)throw zc=!1,t=yp,yp=null,t;return Hc&1&&t.tag!==0&&wi(),o=t.pendingLanes,o&1?t===vp?Ya++:(Ya=0,vp=t):Ya=0,$s(),null}function wi(){if(hs!==null){var t=kE(Hc),e=xn.transition,n=ke;try{if(xn.transition=null,ke=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,Hc=0,Ce&6)throw Error(W(331));var s=Ce;for(Ce|=4,ee=t.current;ee!==null;){var o=ee,i=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ee=c;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Ka(8,d,o)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var p=d.sibling,m=d.return;if(z1(d),d===c){ee=null;break}if(p!==null){p.return=m,ee=p;break}ee=m}}}var S=o.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ee=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ee=i;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ka(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ee=_;break e}ee=o.return}}var v=t.current;for(ee=v;ee!==null;){i=ee;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ee=x;else e:for(i=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(O){tt(a,a.return,O)}if(a===i){ee=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ee=P;break e}ee=a.return}}if(Ce=s,$s(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{ke=n,xn.transition=e}}return!1}function m0(t,e,n){e=Fi(n,e),e=k1(t,e,1),t=_s(t,e,1),e=Ht(),t!==null&&(Ul(t,1,e),rn(t,e))}function tt(t,e,n){if(t.tag===3)m0(t,t,n);else for(;e!==null;){if(e.tag===3){m0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){t=Fi(n,t),t=D1(e,t,1),e=_s(e,t,1),t=Ht(),e!==null&&(Ul(e,1,t),rn(e,t));break}}e=e.return}}function Vb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(St&n)===n&&(ft===4||ft===3&&(St&130023424)===St&&500>st()-sg?vo(t,0):rg|=n),rn(t,e)}function Z1(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=Ht();t=Or(t,e),t!==null&&(Ul(t,e,n),rn(t,n))}function Mb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z1(t,n)}function Lb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Z1(t,n)}var eT;eT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,Sb(t,e,n);en=!!(t.flags&131072)}else en=!1,qe&&e.flags&1048576&&s1(e,Vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sc(t,e),t=e.pendingProps;var s=Vi(e,Ft.current);vi(e,n),s=Xm(null,e,r,t,s,n);var o=Jm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(o=!0,Dc(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qm(e),s.updater=Sd,e.stateNode=s,s._reactInternals=e,ip(e,r,t,n),e=up(null,e,r,!0,o,n)):(e.tag=0,qe&&o&&Fm(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Fb(r),t=On(r,t),s){case 0:e=lp(null,e,r,t,n);break e;case 1:e=o0(null,e,r,t,n);break e;case 11:e=r0(null,e,r,t,n);break e;case 14:e=s0(null,e,r,On(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),lp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),o0(t,e,r,s,n);case 3:e:{if(L1(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,s=o.element,c1(t,e),jc(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Fi(Error(W(423)),e),e=i0(t,e,r,n,s);break e}else if(r!==s){s=Fi(Error(W(424)),e),e=i0(t,e,r,n,s);break e}else for(un=ws(e.stateNode.containerInfo.firstChild),cn=e,qe=!0,Un=null,n=l1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mi(),r===s){e=Vr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return d1(e),t===null&&rp(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Jf(r,s)?i=null:o!==null&&Jf(r,o)&&(e.flags|=32),M1(t,e),$t(t,e,i,n),e.child;case 6:return t===null&&rp(e),null;case 13:return j1(t,e,n);case 4:return Gm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Li(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),r0(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Le(Mc,r._currentValue),r._currentValue=i,o!==null)if(Hn(o.value,i)){if(o.children===s.children&&!tn.current){e=Vr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Pr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),sp(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),sp(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vi(e,n),s=Sn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=On(r,e.pendingProps),s=On(r.type,s),s0(t,e,r,s,n);case 15:return O1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:On(r,s),sc(t,e),e.tag=1,nn(r)?(t=!0,Dc(e)):t=!1,vi(e,n),N1(e,r,s),ip(e,r,s,n),up(null,e,r,!0,t,n);case 19:return F1(t,e,n);case 22:return V1(t,e,n)}throw Error(W(156,e.tag))};function tT(t,e){return RE(t,e)}function jb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new jb(t,e,n,r)}function lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fb(t){if(typeof t=="function")return lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Im)return 11;if(t===Rm)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ac(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")lg(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ri:return wo(n.children,s,o,e);case Am:i=8,s|=8;break;case Pf:return t=Tn(12,n,e,s|2),t.elementType=Pf,t.lanes=o,t;case Nf:return t=Tn(13,n,e,s),t.elementType=Nf,t.lanes=o,t;case kf:return t=Tn(19,n,e,s),t.elementType=kf,t.lanes=o,t;case dE:return Id(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uE:i=10;break e;case cE:i=9;break e;case Im:i=11;break e;case Rm:i=14;break e;case ns:i=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Tn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function wo(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Id(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=dE,t.lanes=n,t.stateNode={isHidden:!1},t}function nf(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function rf(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ub(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ug(t,e,n,r,s,o,i,a,u){return t=new Ub(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qm(o),t}function Bb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nT(t){if(!t)return Ns;t=t._reactInternals;e:{if(Do(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(nn(n))return n1(t,n,e)}return e}function rT(t,e,n,r,s,o,i,a,u){return t=ug(n,r,!0,t,s,o,i,a,u),t.context=nT(null),n=t.current,r=Ht(),s=Ts(n),o=Pr(r,s),o.callback=e??null,_s(n,o,s),t.current.lanes=s,Ul(t,s,r),rn(t,r),t}function Rd(t,e,n,r){var s=e.current,o=Ht(),i=Ts(s);return n=nT(n),e.context===null?e.context=n:e.pendingContext=n,e=Pr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(s,e,i),t!==null&&(zn(t,s,i,o),tc(t,s,i)),i}function qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cg(t,e){g0(t,e),(t=t.alternate)&&g0(t,e)}function $b(){return null}var sT=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}bd.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Rd(t,e,null,null)};bd.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Co(function(){Rd(null,t,null,null)}),e[Dr]=null}};function bd(t){this._internalRoot=t}bd.prototype.unstable_scheduleHydration=function(t){if(t){var e=VE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ss.length&&e!==0&&e<ss[n].priority;n++);ss.splice(n,0,t),n===0&&LE(t)}};function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y0(){}function zb(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=qc(i);o.call(c)}}var i=rT(e,r,t,0,null,!1,!1,"",y0);return t._reactRootContainer=i,t[Dr]=i.current,hl(t.nodeType===8?t.parentNode:t),Co(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=qc(u);a.call(c)}}var u=ug(t,0,!1,null,null,!1,!1,"",y0);return t._reactRootContainer=u,t[Dr]=u.current,hl(t.nodeType===8?t.parentNode:t),Co(function(){Rd(e,u,n,r)}),u}function Nd(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var u=qc(i);a.call(u)}}Rd(e,i,t,s)}else i=zb(n,e,t,s,r);return qc(i)}DE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Da(e.pendingLanes);n!==0&&(Nm(e,n|1),rn(e,st()),!(Ce&6)&&(Ui=st()+500,$s()))}break;case 13:Co(function(){var r=Or(t,1);if(r!==null){var s=Ht();zn(r,t,1,s)}}),cg(t,1)}};km=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Ht();zn(e,t,134217728,n)}cg(t,134217728)}};OE=function(t){if(t.tag===13){var e=Ts(t),n=Or(t,e);if(n!==null){var r=Ht();zn(n,t,e,r)}cg(t,e)}};VE=function(){return ke};ME=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};$f=function(t,e,n){switch(e){case"input":if(Vf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ed(r);if(!s)throw Error(W(90));fE(r),Vf(r,s)}}}break;case"textarea":mE(t,n);break;case"select":e=n.value,e!=null&&pi(t,!!n.multiple,e,!1)}};TE=og;xE=Co;var Hb={usingClientEntryPoint:!1,Events:[$l,ai,Ed,_E,EE,og]},Ra={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wb={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{yd=Ou.inject(Wb),or=Ou}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(e))throw Error(W(200));return Bb(t,e,null,n)};fn.createRoot=function(t,e){if(!hg(t))throw Error(W(299));var n=!1,r="",s=sT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ug(t,1,!1,null,null,n,!1,r,s),t[Dr]=e.current,hl(t.nodeType===8?t.parentNode:t),new dg(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=AE(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return Co(t)};fn.hydrate=function(t,e,n){if(!Pd(e))throw Error(W(200));return Nd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!hg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=sT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=rT(e,null,t,1,n??null,s,!1,o,i),t[Dr]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bd(e)};fn.render=function(t,e,n){if(!Pd(e))throw Error(W(200));return Nd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(W(40));return t._reactRootContainer?(Co(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};fn.unstable_batchedUpdates=og;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Nd(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function oT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oT)}catch(t){console.error(t)}}oT(),oE.exports=fn;var Oo=oE.exports;const iT=G_(Oo);var aT,v0=Oo;aT=v0.createRoot,v0.hydrateRoot;const qb=1,Gb=1e6;let sf=0;function Kb(){return sf=(sf+1)%Number.MAX_SAFE_INTEGER,sf.toString()}const of=new Map,w0=t=>{if(of.has(t))return;const e=setTimeout(()=>{of.delete(t),Xa({type:"REMOVE_TOAST",toastId:t})},Gb);of.set(t,e)},Qb=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,qb)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?w0(n):t.toasts.forEach(r=>{w0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lc=[];let uc={toasts:[]};function Xa(t){uc=Qb(uc,t),lc.forEach(e=>{e(uc)})}function Yb({...t}){const e=Kb(),n=s=>Xa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Xa({type:"DISMISS_TOAST",toastId:e});return Xa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Xb(){const[t,e]=T.useState(uc);return T.useEffect(()=>(lc.push(e),()=>{const n=lc.indexOf(e);n>-1&&lc.splice(n,1)}),[t]),{...t,toast:Yb,dismiss:n=>Xa({type:"DISMISS_TOAST",toastId:n})}}function ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function _0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lT(...t){return e=>{let n=!1;const r=t.map(s=>{const o=_0(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():_0(t[s],null)}}}}function nt(...t){return T.useCallback(lT(...t),t)}function Hl(t,e=[]){let n=[];function r(o,i){const a=T.createContext(i),u=n.length;n=[...n,i];const c=h=>{var _;const{scope:p,children:m,...S}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[u])||a,E=T.useMemo(()=>S,Object.values(S));return w.jsx(y.Provider,{value:E,children:m})};c.displayName=o+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[t])==null?void 0:y[u])||a,S=T.useContext(m);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>T.createContext(i));return function(a){const u=(a==null?void 0:a[t])||o;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,Jb(s,...e)]}function Jb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(o)[`__scope${c}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function El(t){const e=eP(t),n=T.forwardRef((r,s)=>{const{children:o,...i}=r,a=T.Children.toArray(o),u=a.find(nP);if(u){const c=u.props.children,d=a.map(h=>h===u?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:h);return w.jsx(e,{...i,ref:s,children:T.isValidElement(c)?T.cloneElement(c,void 0,d):null})}return w.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Zb=El("Slot");function eP(t){const e=T.forwardRef((n,r)=>{const{children:s,...o}=n;if(T.isValidElement(s)){const i=sP(s),a=rP(o,s.props);return s.type!==T.Fragment&&(a.ref=r?lT(r,i):i),T.cloneElement(s,a)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uT=Symbol("radix.slottable");function tP(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=uT,e}function nP(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uT}function rP(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function sP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cT(t){const e=t+"CollectionProvider",[n,r]=Hl(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:E,children:_}=y,v=q.useRef(null),x=q.useRef(new Map).current;return w.jsx(s,{scope:E,itemMap:x,collectionRef:v,children:_})};i.displayName=e;const a=t+"CollectionSlot",u=El(a),c=q.forwardRef((y,E)=>{const{scope:_,children:v}=y,x=o(a,_),P=nt(E,x.collectionRef);return w.jsx(u,{ref:P,children:v})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=El(d),m=q.forwardRef((y,E)=>{const{scope:_,children:v,...x}=y,P=q.useRef(null),O=nt(E,P),V=o(d,_);return q.useEffect(()=>(V.itemMap.set(P,{ref:P,...x}),()=>void V.itemMap.delete(P))),w.jsx(p,{[h]:"",ref:O,children:v})});m.displayName=d;function S(y){const E=o(t+"CollectionConsumer",y);return q.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((V,A)=>x.indexOf(V.ref.current)-x.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},S,r]}var oP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=oP.reduce((t,e)=>{const n=El(`Primitive.${e}`),r=T.forwardRef((s,o)=>{const{asChild:i,...a}=s,u=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(u,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function dT(t,e){t&&Oo.flushSync(()=>t.dispatchEvent(e))}function Wn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function iP(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aP="DismissableLayer",Ep="dismissableLayer.update",lP="dismissableLayer.pointerDownOutside",uP="dismissableLayer.focusOutside",E0,hT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kd=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...u}=t,c=T.useContext(hT),[d,h]=T.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=T.useState({}),S=nt(e,A=>h(A)),y=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),v=d?y.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,P=v>=_,O=dP(A=>{const C=A.target,R=[...c.branches].some(b=>b.contains(C));!P||R||(s==null||s(A),i==null||i(A),A.defaultPrevented||a==null||a())},p),V=hP(A=>{const C=A.target;[...c.branches].some(b=>b.contains(C))||(o==null||o(A),i==null||i(A),A.defaultPrevented||a==null||a())},p);return iP(A=>{v===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),T.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(E0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),T0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=E0)}},[d,p,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),T0())},[d,c]),T.useEffect(()=>{const A=()=>m({});return document.addEventListener(Ep,A),()=>document.removeEventListener(Ep,A)},[]),w.jsx(De.div,{...u,ref:S,style:{pointerEvents:x?P?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,V.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,O.onPointerDownCapture)})});kd.displayName=aP;var cP="DismissableLayerBranch",fT=T.forwardRef((t,e)=>{const n=T.useContext(hT),r=T.useRef(null),s=nt(e,r);return T.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),w.jsx(De.div,{...t,ref:s})});fT.displayName=cP;function dP(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){pT(lP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hP(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t),r=T.useRef(!1);return T.useEffect(()=>{const s=o=>{o.target&&!r.current&&pT(uP,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T0(){const t=new CustomEvent(Ep);document.dispatchEvent(t)}function pT(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dT(s,o):s.dispatchEvent(o)}var fP=kd,pP=fT,At=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},mP="Portal",fg=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=T.useState(!1);At(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?iT.createPortal(w.jsx(De.div,{...r,ref:e}),i):null});fg.displayName=mP;function gP(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var pg=t=>{const{present:e,children:n}=t,r=yP(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),o=nt(r.ref,vP(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:o}):null};pg.displayName="Presence";function yP(t){const[e,n]=T.useState(),r=T.useRef(null),s=T.useRef(t),o=T.useRef("none"),i=t?"mounted":"unmounted",[a,u]=gP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=Vu(r.current);o.current=a==="mounted"?c:"none"},[a]),At(()=>{const c=r.current,d=s.current;if(d!==t){const p=o.current,m=Vu(c);t?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),At(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Vu(r.current).includes(m.animationName);if(m.target===e&&y&&(u("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=m=>{m.target===e&&(o.current=Vu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Vu(t){return(t==null?void 0:t.animationName)||"none"}function vP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wP=Tm[" useInsertionEffect ".trim().toString()]||At;function Tp({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=_P({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const d=T.useRef(t!==void 0);T.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=T.useCallback(d=>{var h;if(a){const p=EP(d)?d(t):d;p!==t&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,t,o,i]);return[u,c]}function _P({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),s=T.useRef(n),o=T.useRef(e);return wP(()=>{o.current=e},[e]),T.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function EP(t){return typeof t=="function"}var mT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TP="VisuallyHidden",Dd=T.forwardRef((t,e)=>w.jsx(De.span,{...t,ref:e,style:{...mT,...t.style}}));Dd.displayName=TP;var xP=Dd,mg="ToastProvider",[gg,SP,CP]=cT("Toast"),[gT,X3]=Hl("Toast",[CP]),[AP,Od]=gT(mg),yT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,u]=T.useState(null),[c,d]=T.useState(0),h=T.useRef(!1),p=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mg}\`. Expected non-empty \`string\`.`),w.jsx(gg.Provider,{scope:e,children:w.jsx(AP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:T.useCallback(()=>d(m=>m+1),[]),onToastRemove:T.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:i})})};yT.displayName=mg;var vT="ToastViewport",IP=["F8"],xp="toast.viewportPause",Sp="toast.viewportResume",wT=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=IP,label:s="Notifications ({hotkey})",...o}=t,i=Od(vT,n),a=SP(n),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),h=T.useRef(null),p=nt(e,h,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=i.toastCount>0;T.useEffect(()=>{const E=_=>{var x;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),T.useEffect(()=>{const E=u.current,_=h.current;if(S&&E&&_){const v=()=>{if(!i.isClosePausedRef.current){const V=new CustomEvent(xp);_.dispatchEvent(V),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const V=new CustomEvent(Sp);_.dispatchEvent(V),i.isClosePausedRef.current=!1}},P=V=>{!E.contains(V.relatedTarget)&&x()},O=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",v),E.addEventListener("focusout",P),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[S,i.isClosePausedRef]);const y=T.useCallback(({tabbingDirection:E})=>{const v=a().map(x=>{const P=x.ref.current,O=[P,...UP(P)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return T.useEffect(()=>{const E=h.current;if(E){const _=v=>{var O,V,A;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const C=document.activeElement,R=v.shiftKey;if(v.target===E&&R){(O=c.current)==null||O.focus();return}const D=y({tabbingDirection:R?"backwards":"forwards"}),N=D.findIndex(H=>H===C);af(D.slice(N+1))?v.preventDefault():R?(V=c.current)==null||V.focus():(A=d.current)==null||A.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,y]),w.jsxs(pP,{ref:u,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&w.jsx(Cp,{ref:c,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});af(E)}}),w.jsx(gg.Slot,{scope:n,children:w.jsx(De.ol,{tabIndex:-1,...o,ref:p})}),S&&w.jsx(Cp,{ref:d,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});af(E)}})]})});wT.displayName=vT;var _T="ToastFocusProxy",Cp=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=Od(_T,n);return w.jsx(Dd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});Cp.displayName=_T;var Wl="Toast",RP="toast.swipeStart",bP="toast.swipeMove",PP="toast.swipeCancel",NP="toast.swipeEnd",ET=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a,u]=Tp({prop:r,defaultProp:s??!0,onChange:o,caller:Wl});return w.jsx(pg,{present:n||a,children:w.jsx(OP,{open:a,...i,ref:e,onClose:()=>u(!1),onPause:Wn(t.onPause),onResume:Wn(t.onResume),onSwipeStart:ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});ET.displayName=Wl;var[kP,DP]=gT(Wl,{onClose(){}}),OP=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...S}=t,y=Od(Wl,n),[E,_]=T.useState(null),v=nt(e,H=>_(H)),x=T.useRef(null),P=T.useRef(null),O=s||y.duration,V=T.useRef(0),A=T.useRef(O),C=T.useRef(0),{onToastAdd:R,onToastRemove:b}=y,k=Wn(()=>{var ne;(E==null?void 0:E.contains(document.activeElement))&&((ne=y.viewport)==null||ne.focus()),i()}),D=T.useCallback(H=>{!H||H===1/0||(window.clearTimeout(C.current),V.current=new Date().getTime(),C.current=window.setTimeout(k,H))},[k]);T.useEffect(()=>{const H=y.viewport;if(H){const ne=()=>{D(A.current),c==null||c()},X=()=>{const te=new Date().getTime()-V.current;A.current=A.current-te,window.clearTimeout(C.current),u==null||u()};return H.addEventListener(xp,X),H.addEventListener(Sp,ne),()=>{H.removeEventListener(xp,X),H.removeEventListener(Sp,ne)}}},[y.viewport,O,u,c,D]),T.useEffect(()=>{o&&!y.isClosePausedRef.current&&D(O)},[o,O,y.isClosePausedRef,D]),T.useEffect(()=>(R(),()=>b()),[R,b]);const N=T.useMemo(()=>E?RT(E):null,[E]);return y.viewport?w.jsxs(w.Fragment,{children:[N&&w.jsx(VP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),w.jsx(kP,{scope:n,onClose:k,children:Oo.createPortal(w.jsx(gg.ItemSlot,{scope:n,children:w.jsx(fP,{asChild:!0,onEscapeKeyDown:ve(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...S,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ve(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ve(t.onPointerDown,H=>{H.button===0&&(x.current={x:H.clientX,y:H.clientY})}),onPointerMove:ve(t.onPointerMove,H=>{if(!x.current)return;const ne=H.clientX-x.current.x,X=H.clientY-x.current.y,te=!!P.current,F=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=F?U(0,ne):0,se=F?0:U(0,X),L=H.pointerType==="touch"?10:2,Z={x:K,y:se},ie={originalEvent:H,delta:Z};te?(P.current=Z,Mu(bP,h,ie,{discrete:!1})):x0(Z,y.swipeDirection,L)?(P.current=Z,Mu(RP,d,ie,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ne)>L||Math.abs(X)>L)&&(x.current=null)}),onPointerUp:ve(t.onPointerUp,H=>{const ne=P.current,X=H.target;if(X.hasPointerCapture(H.pointerId)&&X.releasePointerCapture(H.pointerId),P.current=null,x.current=null,ne){const te=H.currentTarget,F={originalEvent:H,delta:ne};x0(ne,y.swipeDirection,y.swipeThreshold)?Mu(NP,m,F,{discrete:!0}):Mu(PP,p,F,{discrete:!0}),te.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),VP=t=>{const{__scopeToast:e,children:n,...r}=t,s=Od(Wl,e),[o,i]=T.useState(!1),[a,u]=T.useState(!1);return jP(()=>i(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:w.jsx(fg,{asChild:!0,children:w.jsx(Dd,{...r,children:o&&w.jsxs(w.Fragment,{children:[s.label," ",n]})})})},MP="ToastTitle",TT=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(De.div,{...r,ref:e})});TT.displayName=MP;var LP="ToastDescription",xT=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(De.div,{...r,ref:e})});xT.displayName=LP;var ST="ToastAction",CT=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?w.jsx(IT,{altText:n,asChild:!0,children:w.jsx(yg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ST}\`. Expected non-empty \`string\`.`),null)});CT.displayName=ST;var AT="ToastClose",yg=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=DP(AT,n);return w.jsx(IT,{asChild:!0,children:w.jsx(De.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,s.onClose)})})});yg.displayName=AT;var IT=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return w.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function RT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),FP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...RT(r))}}),e}function Mu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dT(s,o):s.dispatchEvent(o)}var x0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function jP(t=()=>{}){const e=Wn(t);At(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function FP(t){return t.nodeType===t.ELEMENT_NODE}function UP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function af(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var BP=yT,bT=wT,PT=ET,NT=TT,kT=xT,DT=CT,OT=yg;function VT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=VT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=VT(t))&&(r&&(r+=" "),r+=e);return r}const S0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C0=MT,Vd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return C0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=o==null?void 0:o[c];if(d===null)return null;const p=S0(d)||S0(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(S=>{let[y,E]=S;return Array.isArray(E)?E.includes({...o,...a}[y]):{...o,...a}[y]===E})?[...c,h,p]:c},[]);return C0(t,i,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},u)=>T.createElement("svg",{ref:u,...zP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LT("lucide",s),...a},[...i.map(([c,d])=>T.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=(t,e)=>{const n=T.forwardRef(({className:r,...s},o)=>T.createElement(HP,{ref:o,iconNode:e,className:LT(`lucide-${$P(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=An("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=An("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=An("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=An("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=An("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=An("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=An("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=An("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=An("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=An("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=An("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=An("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wg="-",JP=t=>{const e=eN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(wg);return a[0]===""&&a.length!==1&&a.shift(),BT(a,e)||ZP(i)},getConflictingClassGroupIds:(i,a)=>{const u=n[i]||[];return a&&r[i]?[...u,...r[i]]:u}}},BT=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?BT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(wg);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},A0=/^\[(.+)\]$/,ZP=t=>{if(A0.test(t)){const e=A0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nN(Object.entries(t.classGroups),n).forEach(([o,i])=>{Ap(i,r,o,e)}),r},Ap=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:I0(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(tN(s)){Ap(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Ap(i,I0(e,o),n,r)})})},I0=(t,e)=>{let n=t;return e.split(wg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tN=t=>t.isThemeGetter,nN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,rN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},$T="!",sN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const u=[];let c=0,d=0,h;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+o)===e)){u.push(a.slice(d,E)),d=E+o;continue}if(_==="/"){h=E;continue}}_==="["?c++:_==="]"&&c--}const p=u.length===0?a:a.substring(d),m=p.startsWith($T),S=m?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},oN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},iN=t=>({cache:rN(t.cacheSize),parseClassName:sN(t),...JP(t)}),aN=/\s+/,lN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(aN);let a="";for(let u=i.length-1;u>=0;u-=1){const c=i[u],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let S=!!m,y=r(S?p.substring(0,m):p);if(!y){if(!S){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}S=!1}const E=oN(d).join(":"),_=h?E+$T:E,v=_+y;if(o.includes(v))continue;o.push(v);const x=s(y,S);for(let P=0;P<x.length;++P){const O=x[P];o.push(_+O)}a=c+(a.length>0?" "+a:a)}return a};function uN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zT(e))&&(r&&(r+=" "),r+=n);return r}const zT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zT(t[r]))&&(n&&(n+=" "),n+=e);return n};function cN(t,...e){let n,r,s,o=i;function i(u){const c=e.reduce((d,h)=>h(d),t());return n=iN(c),r=n.cache.get,s=n.cache.set,o=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=lN(u,n);return s(u,d),d}return function(){return o(uN.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HT=/^\[(?:([a-z-]+):)?(.+)\]$/i,dN=/^\d+\/\d+$/,hN=new Set(["px","full","screen"]),fN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xr=t=>_i(t)||hN.has(t)||dN.test(t),Yr=t=>ea(t,"length",CN),_i=t=>!!t&&!Number.isNaN(Number(t)),lf=t=>ea(t,"number",_i),ba=t=>!!t&&Number.isInteger(Number(t)),vN=t=>t.endsWith("%")&&_i(t.slice(0,-1)),de=t=>HT.test(t),Xr=t=>fN.test(t),wN=new Set(["length","size","percentage"]),_N=t=>ea(t,wN,WT),EN=t=>ea(t,"position",WT),TN=new Set(["image","url"]),xN=t=>ea(t,TN,IN),SN=t=>ea(t,"",AN),Pa=()=>!0,ea=(t,e,n)=>{const r=HT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},CN=t=>pN.test(t)&&!mN.test(t),WT=()=>!1,AN=t=>gN.test(t),IN=t=>yN.test(t),RN=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),o=Fe("borderRadius"),i=Fe("borderSpacing"),a=Fe("borderWidth"),u=Fe("contrast"),c=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),p=Fe("gap"),m=Fe("gradientColorStops"),S=Fe("gradientColorStopPositions"),y=Fe("inset"),E=Fe("margin"),_=Fe("opacity"),v=Fe("padding"),x=Fe("saturate"),P=Fe("scale"),O=Fe("sepia"),V=Fe("skew"),A=Fe("space"),C=Fe("translate"),R=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",de,e],D=()=>[de,e],N=()=>["",xr,Yr],H=()=>["auto",_i,de],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",de],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[_i,de];return{cacheSize:500,separator:":",theme:{colors:[Pa],spacing:[xr,Yr],blur:["none","",Xr,de],brightness:se(),borderColor:[t],borderRadius:["none","","full",Xr,de],borderSpacing:D(),borderWidth:N(),contrast:se(),grayscale:U(),hueRotate:se(),invert:U(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[vN,Yr],inset:k(),margin:k(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:U(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Xr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),de]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ba,de]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ba,de]}],"grid-cols":[{"grid-cols":[Pa]}],"col-start-end":[{col:["auto",{span:["full",ba,de]},de]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Pa]}],"row-start-end":[{row:["auto",{span:[ba,de]},de]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[Xr]},Xr]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xr,Yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lf]}],"font-family":[{font:[Pa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",_i,lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xr,Yr]}],"underline-offset":[{"underline-offset":["auto",xr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),EN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_N]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[xr,de]}],"outline-w":[{outline:[xr,Yr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[xr,Yr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xr,SN]}],"shadow-color":[{shadow:[Pa]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Xr,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ba,de]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xr,Yr,lf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bN=cN(RN);function xe(...t){return bN(MT(t))}const PN=BP,qT=T.forwardRef(({className:t,...e},n)=>w.jsx(bT,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));qT.displayName=bT.displayName;const NN=Vd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GT=T.forwardRef(({className:t,variant:e,...n},r)=>w.jsx(PT,{ref:r,className:xe(NN({variant:e}),t),...n}));GT.displayName=PT.displayName;const kN=T.forwardRef(({className:t,...e},n)=>w.jsx(DT,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));kN.displayName=DT.displayName;const KT=T.forwardRef(({className:t,...e},n)=>w.jsx(OT,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(UT,{className:"h-4 w-4"})}));KT.displayName=OT.displayName;const QT=T.forwardRef(({className:t,...e},n)=>w.jsx(NT,{ref:n,className:xe("text-sm font-semibold",t),...e}));QT.displayName=NT.displayName;const YT=T.forwardRef(({className:t,...e},n)=>w.jsx(kT,{ref:n,className:xe("text-sm opacity-90",t),...e}));YT.displayName=kT.displayName;function DN(){const{toasts:t}=Xb();return w.jsxs(PN,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return w.jsxs(GT,{...o,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(QT,{children:n}),r&&w.jsx(YT,{children:r})]}),s,w.jsx(KT,{})]},e)}),w.jsx(qT,{})]})}var R0=["light","dark"],ON="(prefers-color-scheme: dark)",VN=T.createContext(void 0),MN={setTheme:t=>{},themes:[]},LN=()=>{var t;return(t=T.useContext(VN))!=null?t:MN};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:u})=>{let c=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?R0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,y=!1,E=!0)=>{let _=i?i[S]:S,v=y?S+"|| ''":`'${_}'`,x="";return s&&E&&!y&&R0.includes(S)&&(x+=`d.style.colorScheme = '${S}';`),n==="class"?y||_?x+=`c.add(${v})`:x+="null":_&&(x+=`d[s](n,${v})`),x},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${ON}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${h}}catch(t){}}();`;return T.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:m}})});var jN=t=>{switch(t){case"success":return BN;case"info":return zN;case"warning":return $N;case"error":return HN;default:return null}},FN=Array(12).fill(0),UN=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},FN.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$N=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qN=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ip=1,GN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ip++,i=this.toasts.find(u=>u.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:r}),{...u,...e,id:o,dismissible:a,title:r}):u):this.addToast({title:r,...s,dismissible:a,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),o=r!==void 0,i,a=s.then(async c=>{if(i=["resolve",c],q.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(QN(c)&&!c.ok){o=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){o=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(i=["reject",c],n.error!==void 0){o=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;o&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,d)=>a.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Ip++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qt=new GN,KN=(t,e)=>{let n=(e==null?void 0:e.id)||Ip++;return Qt.addToast({title:t,...e,id:n}),n},QN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",YN=KN,XN=()=>Qt.toasts,JN=()=>Qt.getActiveToasts();Object.assign(YN,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:XN,getToasts:JN});function ZN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ZN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lu(t){return t.label!==void 0}var ek=3,tk="32px",nk="16px",b0=4e3,rk=356,sk=14,ok=20,ik=200;function kn(...t){return t.filter(Boolean).join(" ")}function ak(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var lk=t=>{var e,n,r,s,o,i,a,u,c,d,h;let{invert:p,toast:m,unstyled:S,interacting:y,setHeights:E,visibleToasts:_,heights:v,index:x,toasts:P,expanded:O,removeToast:V,defaultRichColors:A,closeButton:C,style:R,cancelButtonStyle:b,actionButtonStyle:k,className:D="",descriptionClassName:N="",duration:H,position:ne,gap:X,loadingIcon:te,expandByDefault:F,classNames:U,icons:K,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:L}=t,[Z,ie]=q.useState(null),[Re,ze]=q.useState(null),[Q,be]=q.useState(!1),[He,ge]=q.useState(!1),[he,ye]=q.useState(!1),[it,Rt]=q.useState(!1),[In,Rn]=q.useState(!1),[yr,Ws]=q.useState(0),[vr,Uo]=q.useState(0),zr=q.useRef(m.duration||H||b0),eu=q.useRef(null),bn=q.useRef(null),ua=x===0,tu=x+1<=_,Ne=m.type,Je=m.dismissible!==!1,Bo=m.className||"",nu=m.descriptionClassName||"",qs=q.useMemo(()=>v.findIndex(ae=>ae.toastId===m.id)||0,[v,m.id]),yh=q.useMemo(()=>{var ae;return(ae=m.closeButton)!=null?ae:C},[m.closeButton,C]),Hr=q.useMemo(()=>m.duration||H||b0,[m.duration,H]),$o=q.useRef(0),wr=q.useRef(0),zo=q.useRef(0),Wr=q.useRef(null),[vh,ca]=ne.split("-"),da=q.useMemo(()=>v.reduce((ae,Se,Oe)=>Oe>=qs?ae:ae+Se.height,0),[v,qs]),ha=qN(),Gs=m.invert||p,Ks=Ne==="loading";wr.current=q.useMemo(()=>qs*X+da,[qs,da]),q.useEffect(()=>{zr.current=Hr},[Hr]),q.useEffect(()=>{be(!0)},[]),q.useEffect(()=>{let ae=bn.current;if(ae){let Se=ae.getBoundingClientRect().height;return Uo(Se),E(Oe=>[{toastId:m.id,height:Se,position:m.position},...Oe]),()=>E(Oe=>Oe.filter(vt=>vt.toastId!==m.id))}},[E,m.id]),q.useLayoutEffect(()=>{if(!Q)return;let ae=bn.current,Se=ae.style.height;ae.style.height="auto";let Oe=ae.getBoundingClientRect().height;ae.style.height=Se,Uo(Oe),E(vt=>vt.find(Gt=>Gt.toastId===m.id)?vt.map(Gt=>Gt.toastId===m.id?{...Gt,height:Oe}:Gt):[{toastId:m.id,height:Oe,position:m.position},...vt])},[Q,m.title,m.description,E,m.id]);let mn=q.useCallback(()=>{ge(!0),Ws(wr.current),E(ae=>ae.filter(Se=>Se.toastId!==m.id)),setTimeout(()=>{V(m)},ik)},[m,V,E,wr]);q.useEffect(()=>{if(m.promise&&Ne==="loading"||m.duration===1/0||m.type==="loading")return;let ae;return O||y||L&&ha?(()=>{if(zo.current<$o.current){let Se=new Date().getTime()-$o.current;zr.current=zr.current-Se}zo.current=new Date().getTime()})():zr.current!==1/0&&($o.current=new Date().getTime(),ae=setTimeout(()=>{var Se;(Se=m.onAutoClose)==null||Se.call(m,m),mn()},zr.current)),()=>clearTimeout(ae)},[O,y,m,Ne,L,ha,mn]),q.useEffect(()=>{m.delete&&mn()},[mn,m.delete]);function _r(){var ae,Se,Oe;return K!=null&&K.loading?q.createElement("div",{className:kn(U==null?void 0:U.loader,(ae=m==null?void 0:m.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":Ne==="loading"},K.loading):te?q.createElement("div",{className:kn(U==null?void 0:U.loader,(Se=m==null?void 0:m.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Ne==="loading"},te):q.createElement(UN,{className:kn(U==null?void 0:U.loader,(Oe=m==null?void 0:m.classNames)==null?void 0:Oe.loader),visible:Ne==="loading"})}return q.createElement("li",{tabIndex:0,ref:bn,className:kn(D,Bo,U==null?void 0:U.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Ne],(n=m==null?void 0:m.classNames)==null?void 0:n[Ne]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:A,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":In,"data-removed":He,"data-visible":tu,"data-y-position":vh,"data-x-position":ca,"data-index":x,"data-front":ua,"data-swiping":he,"data-dismissible":Je,"data-type":Ne,"data-invert":Gs,"data-swipe-out":it,"data-swipe-direction":Re,"data-expanded":!!(O||F&&Q),style:{"--index":x,"--toasts-before":x,"--z-index":P.length-x,"--offset":`${He?yr:wr.current}px`,"--initial-height":F?"auto":`${vr}px`,...R,...m.style},onDragEnd:()=>{ye(!1),ie(null),Wr.current=null},onPointerDown:ae=>{Ks||!Je||(eu.current=new Date,Ws(wr.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(ye(!0),Wr.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Se,Oe,vt;if(it||!Je)return;Wr.current=null;let Gt=Number(((ae=bn.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),We=Number(((Se=bn.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qn=new Date().getTime()-((Oe=eu.current)==null?void 0:Oe.getTime()),wt=Z==="x"?Gt:We,Kt=Math.abs(wt)/Qn;if(Math.abs(wt)>=ok||Kt>.11){Ws(wr.current),(vt=m.onDismiss)==null||vt.call(m,m),ze(Z==="x"?Gt>0?"right":"left":We>0?"down":"up"),mn(),Rt(!0),Rn(!1);return}ye(!1),ie(null)},onPointerMove:ae=>{var Se,Oe,vt,Gt;if(!Wr.current||!Je||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let We=ae.clientY-Wr.current.y,Qn=ae.clientX-Wr.current.x,wt=(Oe=t.swipeDirections)!=null?Oe:ak(ne);!Z&&(Math.abs(Qn)>1||Math.abs(We)>1)&&ie(Math.abs(Qn)>Math.abs(We)?"x":"y");let Kt={x:0,y:0};Z==="y"?(wt.includes("top")||wt.includes("bottom"))&&(wt.includes("top")&&We<0||wt.includes("bottom")&&We>0)&&(Kt.y=We):Z==="x"&&(wt.includes("left")||wt.includes("right"))&&(wt.includes("left")&&Qn<0||wt.includes("right")&&Qn>0)&&(Kt.x=Qn),(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&Rn(!0),(vt=bn.current)==null||vt.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(Gt=bn.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},yh&&!m.jsx?q.createElement("button",{"aria-label":se,"data-disabled":Ks,"data-close-button":!0,onClick:Ks||!Je?()=>{}:()=>{var ae;mn(),(ae=m.onDismiss)==null||ae.call(m,m)},className:kn(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=K==null?void 0:K.close)!=null?o:WN):null,m.jsx||T.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:q.createElement(q.Fragment,null,Ne||m.icon||m.promise?q.createElement("div",{"data-icon":"",className:kn(U==null?void 0:U.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||_r():null,m.type!=="loading"?m.icon||(K==null?void 0:K[Ne])||jN(Ne):null):null,q.createElement("div",{"data-content":"",className:kn(U==null?void 0:U.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:kn(U==null?void 0:U.title,(u=m==null?void 0:m.classNames)==null?void 0:u.title)},typeof m.title=="function"?m.title():m.title),m.description?q.createElement("div",{"data-description":"",className:kn(N,nu,U==null?void 0:U.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),T.isValidElement(m.cancel)?m.cancel:m.cancel&&Lu(m.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||b,onClick:ae=>{var Se,Oe;Lu(m.cancel)&&Je&&((Oe=(Se=m.cancel).onClick)==null||Oe.call(Se,ae),mn())},className:kn(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,T.isValidElement(m.action)?m.action:m.action&&Lu(m.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:ae=>{var Se,Oe;Lu(m.action)&&((Oe=(Se=m.action).onClick)==null||Oe.call(Se,ae),!ae.defaultPrevented&&mn())},className:kn(U==null?void 0:U.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function P0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function uk(t,e){let n={};return[t,e].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?nk:tk;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${i}-${c}`]=a:n[`${i}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(a)}),n}var ck=T.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:u,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:S=ek,toastOptions:y,dir:E=P0(),gap:_=sk,loadingIcon:v,icons:x,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:O}=t,[V,A]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([r].concat(V.filter(L=>L.position).map(L=>L.position)))),[V,r]),[R,b]=q.useState([]),[k,D]=q.useState(!1),[N,H]=q.useState(!1),[ne,X]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=q.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=q.useRef(null),K=q.useRef(!1),se=q.useCallback(L=>{A(Z=>{var ie;return(ie=Z.find(Re=>Re.id===L.id))!=null&&ie.delete||Qt.dismiss(L.id),Z.filter(({id:Re})=>Re!==L.id)})},[]);return q.useEffect(()=>Qt.subscribe(L=>{if(L.dismiss){A(Z=>Z.map(ie=>ie.id===L.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{iT.flushSync(()=>{A(Z=>{let ie=Z.findIndex(Re=>Re.id===L.id);return ie!==-1?[...Z.slice(0,ie),{...Z[ie],...L},...Z.slice(ie+1)]:[L,...Z]})})})}),[]),q.useEffect(()=>{if(d!=="system"){X(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:Z})=>{X(Z?"dark":"light")})}catch{L.addListener(({matches:ie})=>{try{X(ie?"dark":"light")}catch(Re){console.error(Re)}})}},[d]),q.useEffect(()=>{V.length<=1&&D(!1)},[V]),q.useEffect(()=>{let L=Z=>{var ie,Re;s.every(ze=>Z[ze]||Z.code===ze)&&(D(!0),(ie=te.current)==null||ie.focus()),Z.code==="Escape"&&(document.activeElement===te.current||(Re=te.current)!=null&&Re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s]),q.useEffect(()=>{if(te.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,K.current=!1)}},[te.current]),q.createElement("section",{ref:e,"aria-label":`${P} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((L,Z)=>{var ie;let[Re,ze]=L.split("-");return V.length?q.createElement("ol",{key:L,dir:E==="auto"?P0():E,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":Re,"data-lifted":k&&V.length>1&&!o,"data-x-position":ze,style:{"--front-toast-height":`${((ie=R[0])==null?void 0:ie.height)||0}px`,"--width":`${rk}px`,"--gap":`${_}px`,...m,...uk(u,c)},onBlur:Q=>{K.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(K.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||K.current||(K.current=!0,U.current=Q.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{N||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},V.filter(Q=>!Q.position&&Z===0||Q.position===L).map((Q,be)=>{var He,ge;return q.createElement(lk,{key:Q.id,icons:x,index:be,toast:Q,defaultRichColors:h,duration:(He=y==null?void 0:y.duration)!=null?He:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ge=y==null?void 0:y.closeButton)!=null?ge:i,interacting:N,position:L,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:se,toasts:V.filter(he=>he.position==Q.position),heights:R.filter(he=>he.position==Q.position),setHeights:b,expandByDefault:o,gap:_,loadingIcon:v,expanded:k,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const dk=({...t})=>{const{theme:e="system"}=LN();return w.jsx(ck,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var hk=Tm[" useId ".trim().toString()]||(()=>{}),fk=0;function _g(t){const[e,n]=T.useState(hk());return At(()=>{n(r=>r??String(fk++))},[t]),e?`radix-${e}`:""}const pk=["top","right","bottom","left"],ks=Math.min,ln=Math.max,Gc=Math.round,ju=Math.floor,ar=t=>({x:t,y:t}),mk={left:"right",right:"left",bottom:"top",top:"bottom"},gk={start:"end",end:"start"};function Rp(t,e,n){return ln(t,ks(e,n))}function Mr(t,e){return typeof t=="function"?t(e):t}function Lr(t){return t.split("-")[0]}function ta(t){return t.split("-")[1]}function Eg(t){return t==="x"?"y":"x"}function Tg(t){return t==="y"?"height":"width"}const yk=new Set(["top","bottom"]);function sr(t){return yk.has(Lr(t))?"y":"x"}function xg(t){return Eg(sr(t))}function vk(t,e,n){n===void 0&&(n=!1);const r=ta(t),s=xg(t),o=Tg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Kc(i)),[i,Kc(i)]}function wk(t){const e=Kc(t);return[bp(t),e,bp(e)]}function bp(t){return t.replace(/start|end/g,e=>gk[e])}const N0=["left","right"],k0=["right","left"],_k=["top","bottom"],Ek=["bottom","top"];function Tk(t,e,n){switch(t){case"top":case"bottom":return n?e?k0:N0:e?N0:k0;case"left":case"right":return e?_k:Ek;default:return[]}}function xk(t,e,n,r){const s=ta(t);let o=Tk(Lr(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(bp)))),o}function Kc(t){return t.replace(/left|right|bottom|top/g,e=>mk[e])}function Sk(t){return{top:0,right:0,bottom:0,left:0,...t}}function XT(t){return typeof t!="number"?Sk(t):{top:t,right:t,bottom:t,left:t}}function Qc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function D0(t,e,n){let{reference:r,floating:s}=t;const o=sr(e),i=xg(e),a=Tg(i),u=Lr(e),c=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(u){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ta(e)){case"start":m[i]-=p*(n&&c?-1:1);break;case"end":m[i]+=p*(n&&c?-1:1);break}return m}const Ck=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=D0(c,r,u),p=r,m={},S=0;for(let y=0;y<a.length;y++){const{name:E,fn:_}=a[y],{x:v,y:x,data:P,reset:O}=await _({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:i,elements:{reference:t,floating:e}});d=v??d,h=x??h,m={...m,[E]:{...m[E],...P}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=D0(c,p,u)),y=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function Tl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Mr(e,t),S=XT(m),E=a[p?h==="floating"?"reference":"floating":h],_=Qc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),P=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},O=Qc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:u}):v);return{top:(_.top-O.top+S.top)/P.y,bottom:(O.bottom-_.bottom+S.bottom)/P.y,left:(_.left-O.left+S.left)/P.x,right:(O.right-_.right+S.right)/P.x}}const Ak=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Mr(t,e)||{};if(c==null)return{};const h=XT(d),p={x:n,y:r},m=xg(s),S=Tg(m),y=await i.getDimensions(c),E=m==="y",_=E?"top":"left",v=E?"bottom":"right",x=E?"clientHeight":"clientWidth",P=o.reference[S]+o.reference[m]-p[m]-o.floating[S],O=p[m]-o.reference[m],V=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let A=V?V[x]:0;(!A||!await(i.isElement==null?void 0:i.isElement(V)))&&(A=a.floating[x]||o.floating[S]);const C=P/2-O/2,R=A/2-y[S]/2-1,b=ks(h[_],R),k=ks(h[v],R),D=b,N=A-y[S]-k,H=A/2-y[S]/2+C,ne=Rp(D,H,N),X=!u.arrow&&ta(s)!=null&&H!==ne&&o.reference[S]/2-(H<D?b:k)-y[S]/2<0,te=X?H<D?H-D:H-N:0;return{[m]:p[m]+te,data:{[m]:ne,centerOffset:H-ne-te,...X&&{alignmentOffset:te}},reset:X}}}),Ik=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...E}=Mr(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Lr(s),v=sr(a),x=Lr(a)===a,P=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=p||(x||!y?[Kc(a)]:wk(a)),V=S!=="none";!p&&V&&O.push(...xk(a,y,S,P));const A=[a,...O],C=await Tl(e,E),R=[];let b=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&R.push(C[_]),h){const H=vk(s,i,P);R.push(C[H[0]],C[H[1]])}if(b=[...b,{placement:s,overflows:R}],!R.every(H=>H<=0)){var k,D;const H=(((k=o.flip)==null?void 0:k.index)||0)+1,ne=A[H];if(ne&&(!(h==="alignment"?v!==sr(ne):!1)||b.every(F=>F.overflows[0]>0&&sr(F.placement)===v)))return{data:{index:H,overflows:b},reset:{placement:ne}};let X=(D=b.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(m){case"bestFit":{var N;const te=(N=b.filter(F=>{if(V){const U=sr(F.placement);return U===v||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:N[0];te&&(X=te);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function O0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function V0(t){return pk.some(e=>t[e]>=0)}const Rk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Mr(t,e);switch(r){case"referenceHidden":{const o=await Tl(e,{...s,elementContext:"reference"}),i=O0(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:V0(i)}}}case"escaped":{const o=await Tl(e,{...s,altBoundary:!0}),i=O0(o,n.floating);return{data:{escapedOffsets:i,escaped:V0(i)}}}default:return{}}}}},JT=new Set(["left","top"]);async function bk(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Lr(n),a=ta(n),u=sr(n)==="y",c=JT.has(i)?-1:1,d=o&&u?-1:1,h=Mr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(m=a==="end"?S*-1:S),u?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const Pk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,u=await bk(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:i}}}}},Nk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:E=>{let{x:_,y:v}=E;return{x:_,y:v}}},...u}=Mr(t,e),c={x:n,y:r},d=await Tl(e,u),h=sr(Lr(s)),p=Eg(h);let m=c[p],S=c[h];if(o){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+d[E],x=m-d[_];m=Rp(v,m,x)}if(i){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=S+d[E],x=S-d[_];S=Rp(v,S,x)}const y=a.fn({...e,[p]:m,[h]:S});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:o,[h]:i}}}}}},kk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Mr(t,e),d={x:n,y:r},h=sr(s),p=Eg(h);let m=d[p],S=d[h];const y=Mr(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const x=p==="y"?"height":"width",P=o.reference[p]-o.floating[x]+E.mainAxis,O=o.reference[p]+o.reference[x]-E.mainAxis;m<P?m=P:m>O&&(m=O)}if(c){var _,v;const x=p==="y"?"width":"height",P=JT.has(Lr(s)),O=o.reference[h]-o.floating[x]+(P&&((_=i.offset)==null?void 0:_[h])||0)+(P?0:E.crossAxis),V=o.reference[h]+o.reference[x]+(P?0:((v=i.offset)==null?void 0:v[h])||0)-(P?E.crossAxis:0);S<O?S=O:S>V&&(S=V)}return{[p]:m,[h]:S}}}},Dk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:u=()=>{},...c}=Mr(t,e),d=await Tl(e,c),h=Lr(s),p=ta(s),m=sr(s)==="y",{width:S,height:y}=o.floating;let E,_;h==="top"||h==="bottom"?(E=h,_=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,E=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,x=S-d.left-d.right,P=ks(y-d[E],v),O=ks(S-d[_],x),V=!e.middlewareData.shift;let A=P,C=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=v),V&&!p){const b=ln(d.left,0),k=ln(d.right,0),D=ln(d.top,0),N=ln(d.bottom,0);m?C=S-2*(b!==0||k!==0?b+k:ln(d.left,d.right)):A=y-2*(D!==0||N!==0?D+N:ln(d.top,d.bottom))}await u({...e,availableWidth:C,availableHeight:A});const R=await i.getDimensions(a.floating);return S!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Md(){return typeof window<"u"}function na(t){return ZT(t)?(t.nodeName||"").toLowerCase():"#document"}function dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gr(t){var e;return(e=(ZT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZT(t){return Md()?t instanceof Node||t instanceof dn(t).Node:!1}function qn(t){return Md()?t instanceof Element||t instanceof dn(t).Element:!1}function fr(t){return Md()?t instanceof HTMLElement||t instanceof dn(t).HTMLElement:!1}function M0(t){return!Md()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dn(t).ShadowRoot}const Ok=new Set(["inline","contents"]);function ql(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Ok.has(s)}const Vk=new Set(["table","td","th"]);function Mk(t){return Vk.has(na(t))}const Lk=[":popover-open",":modal"];function Ld(t){return Lk.some(e=>{try{return t.matches(e)}catch{return!1}})}const jk=["transform","translate","scale","rotate","perspective"],Fk=["transform","translate","scale","rotate","perspective","filter"],Uk=["paint","layout","strict","content"];function Sg(t){const e=Cg(),n=qn(t)?Gn(t):t;return jk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Fk.some(r=>(n.willChange||"").includes(r))||Uk.some(r=>(n.contain||"").includes(r))}function Bk(t){let e=Ds(t);for(;fr(e)&&!Bi(e);){if(Sg(e))return e;if(Ld(e))return null;e=Ds(e)}return null}function Cg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $k=new Set(["html","body","#document"]);function Bi(t){return $k.has(na(t))}function Gn(t){return dn(t).getComputedStyle(t)}function jd(t){return qn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ds(t){if(na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||M0(t)&&t.host||gr(t);return M0(e)?e.host:e}function ex(t){const e=Ds(t);return Bi(e)?t.ownerDocument?t.ownerDocument.body:t.body:fr(e)&&ql(e)?e:ex(e)}function xl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ex(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=dn(s);if(o){const a=Pp(i);return e.concat(i,i.visualViewport||[],ql(s)?s:[],a&&n?xl(a):[])}return e.concat(s,xl(s,[],n))}function Pp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tx(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=fr(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=Gc(n)!==o||Gc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Ag(t){return qn(t)?t:t.contextElement}function Ei(t){const e=Ag(t);if(!fr(e))return ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=tx(e);let i=(o?Gc(n.width):n.width)/r,a=(o?Gc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const zk=ar(0);function nx(t){const e=dn(t);return!Cg()||!e.visualViewport?zk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Hk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dn(t)?!1:e}function Ao(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Ag(t);let i=ar(1);e&&(r?qn(r)&&(i=Ei(r)):i=Ei(t));const a=Hk(o,n,r)?nx(o):ar(0);let u=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=dn(o),m=r&&qn(r)?dn(r):r;let S=p,y=Pp(S);for(;y&&r&&m!==S;){const E=Ei(y),_=y.getBoundingClientRect(),v=Gn(y),x=_.left+(y.clientLeft+parseFloat(v.paddingLeft))*E.x,P=_.top+(y.clientTop+parseFloat(v.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,h*=E.y,u+=x,c+=P,S=dn(y),y=Pp(S)}}return Qc({width:d,height:h,x:u,y:c})}function Ig(t,e){const n=jd(t).scrollLeft;return e?e.left+n:Ao(gr(t)).left+n}function rx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ig(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function Wk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=gr(r),a=e?Ld(e.floating):!1;if(r===i||a&&o)return n;let u={scrollLeft:0,scrollTop:0},c=ar(1);const d=ar(0),h=fr(r);if((h||!h&&!o)&&((na(r)!=="body"||ql(i))&&(u=jd(r)),fr(r))){const m=Ao(r);c=Ei(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!h&&!o?rx(i,u,!0):ar(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function qk(t){return Array.from(t.getClientRects())}function Gk(t){const e=gr(t),n=jd(t),r=t.ownerDocument.body,s=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ig(t);const a=-n.scrollTop;return Gn(r).direction==="rtl"&&(i+=ln(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function Kk(t,e){const n=dn(t),r=gr(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,u=0;if(s){o=s.width,i=s.height;const c=Cg();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:o,height:i,x:a,y:u}}const Qk=new Set(["absolute","fixed"]);function Yk(t,e){const n=Ao(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=fr(t)?Ei(t):ar(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,u=s*o.x,c=r*o.y;return{width:i,height:a,x:u,y:c}}function L0(t,e,n){let r;if(e==="viewport")r=Kk(t,n);else if(e==="document")r=Gk(gr(t));else if(qn(e))r=Yk(e,n);else{const s=nx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qc(r)}function sx(t,e){const n=Ds(t);return n===e||!qn(n)||Bi(n)?!1:Gn(n).position==="fixed"||sx(n,e)}function Xk(t,e){const n=e.get(t);if(n)return n;let r=xl(t,[],!1).filter(a=>qn(a)&&na(a)!=="body"),s=null;const o=Gn(t).position==="fixed";let i=o?Ds(t):t;for(;qn(i)&&!Bi(i);){const a=Gn(i),u=Sg(i);!u&&a.position==="fixed"&&(s=null),(o?!u&&!s:!u&&a.position==="static"&&!!s&&Qk.has(s.position)||ql(i)&&!u&&sx(t,i))?r=r.filter(d=>d!==i):s=a,i=Ds(i)}return e.set(t,r),r}function Jk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Ld(e)?[]:Xk(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((c,d)=>{const h=L0(e,d,s);return c.top=ln(h.top,c.top),c.right=ks(h.right,c.right),c.bottom=ks(h.bottom,c.bottom),c.left=ln(h.left,c.left),c},L0(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Zk(t){const{width:e,height:n}=tx(t);return{width:e,height:n}}function e2(t,e,n){const r=fr(e),s=gr(e),o=n==="fixed",i=Ao(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const u=ar(0);function c(){u.x=Ig(s)}if(r||!r&&!o)if((na(e)!=="body"||ql(s))&&(a=jd(e)),r){const m=Ao(e,!0,o,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else s&&c();o&&!r&&s&&c();const d=s&&!r&&!o?rx(s,a):ar(0),h=i.left+a.scrollLeft-u.x-d.x,p=i.top+a.scrollTop-u.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function uf(t){return Gn(t).position==="static"}function j0(t,e){if(!fr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gr(t)===n&&(n=n.ownerDocument.body),n}function ox(t,e){const n=dn(t);if(Ld(t))return n;if(!fr(t)){let s=Ds(t);for(;s&&!Bi(s);){if(qn(s)&&!uf(s))return s;s=Ds(s)}return n}let r=j0(t,e);for(;r&&Mk(r)&&uf(r);)r=j0(r,e);return r&&Bi(r)&&uf(r)&&!Sg(r)?n:r||Bk(t)||n}const t2=async function(t){const e=this.getOffsetParent||ox,n=this.getDimensions,r=await n(t.floating);return{reference:e2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n2(t){return Gn(t).direction==="rtl"}const r2={convertOffsetParentRelativeRectToViewportRelativeRect:Wk,getDocumentElement:gr,getClippingRect:Jk,getOffsetParent:ox,getElementRects:t2,getClientRects:qk,getDimensions:Zk,getScale:Ei,isElement:qn,isRTL:n2};function ix(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function s2(t,e){let n=null,r;const s=gr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const S=ju(h),y=ju(s.clientWidth-(d+p)),E=ju(s.clientHeight-(h+m)),_=ju(d),x={rootMargin:-S+"px "+-y+"px "+-E+"px "+-_+"px",threshold:ln(0,ks(1,u))||1};let P=!0;function O(V){const A=V[0].intersectionRatio;if(A!==u){if(!P)return i();A?i(!1,A):r=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!ix(c,t.getBoundingClientRect())&&i(),P=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return i(!0),o}function o2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Ag(t),d=s||o?[...c?xl(c):[],...xl(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const h=c&&a?s2(c,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!u&&m.observe(c),m.observe(e));let S,y=u?Ao(t):null;u&&E();function E(){const _=Ao(t);y&&!ix(y,_)&&n(),y=_,S=requestAnimationFrame(E)}return n(),()=>{var _;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,u&&cancelAnimationFrame(S)}}const i2=Pk,a2=Nk,l2=Ik,u2=Dk,c2=Rk,F0=Ak,d2=kk,h2=(t,e,n)=>{const r=new Map,s={platform:r2,...n},o={...s.platform,_c:r};return Ck(t,e,{...s,platform:o})};var f2=typeof document<"u",p2=function(){},dc=f2?T.useLayoutEffect:p2;function Yc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Yc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function ax(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function U0(t,e){const n=ax(t);return Math.round(e*n)/n}function cf(t){const e=T.useRef(t);return dc(()=>{e.current=t}),e}function m2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,h]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=T.useState(r);Yc(p,r)||m(r);const[S,y]=T.useState(null),[E,_]=T.useState(null),v=T.useCallback(F=>{F!==V.current&&(V.current=F,y(F))},[]),x=T.useCallback(F=>{F!==A.current&&(A.current=F,_(F))},[]),P=o||S,O=i||E,V=T.useRef(null),A=T.useRef(null),C=T.useRef(d),R=u!=null,b=cf(u),k=cf(s),D=cf(c),N=T.useCallback(()=>{if(!V.current||!A.current)return;const F={placement:e,strategy:n,middleware:p};k.current&&(F.platform=k.current),h2(V.current,A.current,F).then(U=>{const K={...U,isPositioned:D.current!==!1};H.current&&!Yc(C.current,K)&&(C.current=K,Oo.flushSync(()=>{h(K)}))})},[p,e,n,k,D]);dc(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const H=T.useRef(!1);dc(()=>(H.current=!0,()=>{H.current=!1}),[]),dc(()=>{if(P&&(V.current=P),O&&(A.current=O),P&&O){if(b.current)return b.current(P,O,N);N()}},[P,O,N,b,R]);const ne=T.useMemo(()=>({reference:V,floating:A,setReference:v,setFloating:x}),[v,x]),X=T.useMemo(()=>({reference:P,floating:O}),[P,O]),te=T.useMemo(()=>{const F={position:n,left:0,top:0};if(!X.floating)return F;const U=U0(X.floating,d.x),K=U0(X.floating,d.y);return a?{...F,transform:"translate("+U+"px, "+K+"px)",...ax(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:K}},[n,a,X.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:N,refs:ne,elements:X,floatingStyles:te}),[d,N,ne,X,te])}const g2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?F0({element:r.current,padding:s}).fn(n):{}:r?F0({element:r,padding:s}).fn(n):{}}}},y2=(t,e)=>({...i2(t),options:[t,e]}),v2=(t,e)=>({...a2(t),options:[t,e]}),w2=(t,e)=>({...d2(t),options:[t,e]}),_2=(t,e)=>({...l2(t),options:[t,e]}),E2=(t,e)=>({...u2(t),options:[t,e]}),T2=(t,e)=>({...c2(t),options:[t,e]}),x2=(t,e)=>({...g2(t),options:[t,e]});var S2="Arrow",lx=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return w.jsx(De.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});lx.displayName=S2;var C2=lx;function A2(t){const[e,n]=T.useState(void 0);return At(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Rg="Popper",[ux,Fd]=Hl(Rg),[I2,cx]=ux(Rg),dx=t=>{const{__scopePopper:e,children:n}=t,[r,s]=T.useState(null);return w.jsx(I2,{scope:e,anchor:r,onAnchorChange:s,children:n})};dx.displayName=Rg;var hx="PopperAnchor",fx=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=cx(hx,n),i=T.useRef(null),a=nt(e,i);return T.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:w.jsx(De.div,{...s,ref:a})});fx.displayName=hx;var bg="PopperContent",[R2,b2]=ux(bg),px=T.forwardRef((t,e)=>{var Q,be,He,ge,he,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:S,...y}=t,E=cx(bg,n),[_,v]=T.useState(null),x=nt(e,it=>v(it)),[P,O]=T.useState(null),V=A2(P),A=(V==null?void 0:V.width)??0,C=(V==null?void 0:V.height)??0,R=r+(o!=="center"?"-"+o:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],D=k.length>0,N={padding:b,boundary:k.filter(N2),altBoundary:D},{refs:H,floatingStyles:ne,placement:X,isPositioned:te,middlewareData:F}=m2({strategy:"fixed",placement:R,whileElementsMounted:(...it)=>o2(...it,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[y2({mainAxis:s+C,alignmentAxis:i}),u&&v2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?w2():void 0,...N}),u&&_2({...N}),E2({...N,apply:({elements:it,rects:Rt,availableWidth:In,availableHeight:Rn})=>{const{width:yr,height:Ws}=Rt.reference,vr=it.floating.style;vr.setProperty("--radix-popper-available-width",`${In}px`),vr.setProperty("--radix-popper-available-height",`${Rn}px`),vr.setProperty("--radix-popper-anchor-width",`${yr}px`),vr.setProperty("--radix-popper-anchor-height",`${Ws}px`)}}),P&&x2({element:P,padding:a}),k2({arrowWidth:A,arrowHeight:C}),p&&T2({strategy:"referenceHidden",...N})]}),[U,K]=yx(X),se=Wn(S);At(()=>{te&&(se==null||se())},[te,se]);const L=(Q=F.arrow)==null?void 0:Q.x,Z=(be=F.arrow)==null?void 0:be.y,ie=((He=F.arrow)==null?void 0:He.centerOffset)!==0,[Re,ze]=T.useState();return At(()=>{_&&ze(window.getComputedStyle(_).zIndex)},[_]),w.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:te?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ge=F.transformOrigin)==null?void 0:ge.x,(he=F.transformOrigin)==null?void 0:he.y].join(" "),...((ye=F.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(R2,{scope:n,placedSide:U,onArrowChange:O,arrowX:L,arrowY:Z,shouldHideArrow:ie,children:w.jsx(De.div,{"data-side":U,"data-align":K,...y,ref:x,style:{...y.style,animation:te?void 0:"none"}})})})});px.displayName=bg;var mx="PopperArrow",P2={top:"bottom",right:"left",bottom:"top",left:"right"},gx=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=b2(mx,r),i=P2[o.placedSide];return w.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:w.jsx(C2,{...s,ref:n,style:{...s.style,display:"block"}})})});gx.displayName=mx;function N2(t){return t!==null}var k2=t=>({name:"transformOrigin",options:t,fn(e){var E,_,v;const{placement:n,rects:r,middlewareData:s}=e,i=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=i?0:t.arrowWidth,u=i?0:t.arrowHeight,[c,d]=yx(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+u/2;let S="",y="";return c==="bottom"?(S=i?h:`${p}px`,y=`${-u}px`):c==="top"?(S=i?h:`${p}px`,y=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,y=i?h:`${m}px`):c==="left"&&(S=`${r.floating.width+u}px`,y=i?h:`${m}px`),{data:{x:S,y}}}});function yx(t){const[e,n="center"]=t.split("-");return[e,n]}var D2=dx,vx=fx,wx=px,_x=gx,[Ud,Z3]=Hl("Tooltip",[Fd]),Pg=Fd(),Ex="TooltipProvider",O2=700,B0="tooltip.open",[V2,Tx]=Ud(Ex),xx=t=>{const{__scopeTooltip:e,delayDuration:n=O2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,i=T.useRef(!0),a=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),w.jsx(V2,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),i.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:T.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};xx.displayName=Ex;var Sx="Tooltip",[e6,Bd]=Ud(Sx),Np="TooltipTrigger",M2=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bd(Np,n),o=Tx(Np,n),i=Pg(n),a=T.useRef(null),u=nt(e,a,s.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),h=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),w.jsx(vx,{asChild:!0,...i,children:w.jsx(De.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ve(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ve(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ve(t.onBlur,s.onClose),onClick:ve(t.onClick,s.onClose)})})});M2.displayName=Np;var L2="TooltipPortal",[t6,j2]=Ud(L2,{forceMount:void 0}),$i="TooltipContent",Cx=T.forwardRef((t,e)=>{const n=j2($i,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Bd($i,t.__scopeTooltip);return w.jsx(pg,{present:r||i.open,children:i.disableHoverableContent?w.jsx(Ax,{side:s,...o,ref:e}):w.jsx(F2,{side:s,...o,ref:e})})}),F2=T.forwardRef((t,e)=>{const n=Bd($i,t.__scopeTooltip),r=Tx($i,t.__scopeTooltip),s=T.useRef(null),o=nt(e,s),[i,a]=T.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=T.useCallback(()=>{a(null),h(!1)},[h]),m=T.useCallback((S,y)=>{const E=S.currentTarget,_={x:S.clientX,y:S.clientY},v=H2(_,E.getBoundingClientRect()),x=W2(_,v),P=q2(y.getBoundingClientRect()),O=K2([...x,...P]);a(O),h(!0)},[h]);return T.useEffect(()=>()=>p(),[p]),T.useEffect(()=>{if(u&&d){const S=E=>m(E,d),y=E=>m(E,u);return u.addEventListener("pointerleave",S),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",y)}}},[u,d,m,p]),T.useEffect(()=>{if(i){const S=y=>{const E=y.target,_={x:y.clientX,y:y.clientY},v=(u==null?void 0:u.contains(E))||(d==null?void 0:d.contains(E)),x=!G2(_,i);v?p():x&&(p(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,d,i,c,p]),w.jsx(Ax,{...t,ref:o})}),[U2,B2]=Ud(Sx,{isInside:!1}),$2=tP("TooltipContent"),Ax=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,u=Bd($i,n),c=Pg(n),{onClose:d}=u;return T.useEffect(()=>(document.addEventListener(B0,d),()=>document.removeEventListener(B0,d)),[d]),T.useEffect(()=>{if(u.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(u.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,d]),w.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:w.jsxs(wx,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx($2,{children:r}),w.jsx(U2,{scope:n,isInside:!0,children:w.jsx(xP,{id:u.contentId,role:"tooltip",children:s||r})})]})})});Cx.displayName=$i;var Ix="TooltipArrow",z2=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Pg(n);return B2(Ix,n).isInside?null:w.jsx(_x,{...s,...r,ref:e})});z2.displayName=Ix;function H2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function q2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function G2(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],u=e[i],c=a.x,d=a.y,h=u.x,p=u.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function K2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Q2(e)}function Q2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Y2=xx,Rx=Cx;const X2=Y2,J2=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(Rx,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));J2.displayName=Rx.displayName;var $d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zd=typeof window>"u"||"Deno"in globalThis;function Vn(){}function Z2(t,e){return typeof t=="function"?t(e):t}function eD(t){return typeof t=="number"&&t>=0&&t!==1/0}function tD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kp(t,e){return typeof t=="function"?t(e):t}function nD(t,e){return typeof t=="function"?t(e):t}function $0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==Ng(i,e.options))return!1}else if(!Cl(e.queryKey,i))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function z0(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Sl(e.options.mutationKey)!==Sl(o))return!1}else if(!Cl(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ng(t,e){return((e==null?void 0:e.queryKeyHashFn)||Sl)(t)}function Sl(t){return JSON.stringify(t,(e,n)=>Dp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Cl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Cl(t[n],e[n])):!1}function bx(t,e){if(t===e)return t;const n=H0(t)&&H0(e);if(n||Dp(t)&&Dp(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),i=o.length,a=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<i;d++){const h=n?d:o[d];(!n&&u.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=bx(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===i&&c===s?t:a}return e}function H0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dp(t){if(!W0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!W0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function W0(t){return Object.prototype.toString.call(t)==="[object Object]"}function rD(t){return new Promise(e=>{setTimeout(e,t)})}function sD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bx(t,e):e}function oD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var kg=Symbol();function Px(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ho,is,Ai,F_,aD=(F_=class extends $d{constructor(){super();Ie(this,ho);Ie(this,is);Ie(this,Ai);ce(this,Ai,e=>{if(!zd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,is)||this.setEventListener(B(this,Ai))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,is))==null||e.call(this),ce(this,is,void 0))}setEventListener(e){var n;ce(this,Ai,e),(n=B(this,is))==null||n.call(this),ce(this,is,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,ho)!==e&&(ce(this,ho,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,ho)=="boolean"?B(this,ho):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ho=new WeakMap,is=new WeakMap,Ai=new WeakMap,F_),Nx=new aD,Ii,as,Ri,U_,lD=(U_=class extends $d{constructor(){super();Ie(this,Ii,!0);Ie(this,as);Ie(this,Ri);ce(this,Ri,e=>{if(!zd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,as)||this.setEventListener(B(this,Ri))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,as))==null||e.call(this),ce(this,as,void 0))}setEventListener(e){var n;ce(this,Ri,e),(n=B(this,as))==null||n.call(this),ce(this,as,e(this.setOnline.bind(this)))}setOnline(e){B(this,Ii)!==e&&(ce(this,Ii,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Ii)}},Ii=new WeakMap,as=new WeakMap,Ri=new WeakMap,U_),Xc=new lD;function uD(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function cD(t){return Math.min(1e3*2**t,3e4)}function kx(t){return(t??"online")==="online"?Xc.isOnline():!0}var Dx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function df(t){return t instanceof Dx}function Ox(t){let e=!1,n=0,r=!1,s;const o=uD(),i=y=>{var E;r||(p(new Dx(y)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Nx.isFocused()&&(t.networkMode==="always"||Xc.isOnline())&&t.canRun(),d=()=>kx(t.networkMode)&&t.canRun(),h=y=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,y),s==null||s(),o.resolve(y))},p=y=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,y),s==null||s(),o.reject(y))},m=()=>new Promise(y=>{var E;s=_=>{(r||c())&&y(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),S=()=>{if(r)return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(h).catch(_=>{var V;if(r)return;const v=t.retry??(zd?0:3),x=t.retryDelay??cD,P=typeof x=="function"?x(n,_):x,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!O){p(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),rD(P).then(()=>c()?void 0:m()).then(()=>{e?p(_):S()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?S():m().then(S),o)}}var dD=t=>setTimeout(t,0);function hD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=dD;const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||i()}return u},batchCalls:a=>(...u)=>{o(()=>{a(...u)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var zt=hD(),fo,B_,Vx=(B_=class{constructor(){Ie(this,fo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eD(this.gcTime)&&ce(this,fo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zd?1/0:5*60*1e3))}clearGcTimeout(){B(this,fo)&&(clearTimeout(B(this,fo)),ce(this,fo,void 0))}},fo=new WeakMap,B_),bi,po,gn,mo,Vt,Ll,go,Ln,Sr,$_,fD=($_=class extends Vx{constructor(n){super();Ie(this,Ln);Ie(this,bi);Ie(this,po);Ie(this,gn);Ie(this,mo);Ie(this,Vt);Ie(this,Ll);Ie(this,go);ce(this,go,!1),ce(this,Ll,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,mo,n.client),ce(this,gn,B(this,mo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,bi,mD(this.options)),this.state=n.state??B(this,bi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Vt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Ll),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,gn).remove(this)}setData(n,r){const s=sD(this.state.data,n,this.options);return Nt(this,Ln,Sr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Nt(this,Ln,Sr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,o;const r=(s=B(this,Vt))==null?void 0:s.promise;return(o=B(this,Vt))==null||o.cancel(n),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,bi))}isActive(){return this.observers.some(n=>nD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>kp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!tD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,gn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Vt)&&(B(this,go)?B(this,Vt).cancel({revert:!0}):B(this,Vt).cancelRetry()),this.scheduleGc()),B(this,gn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,Ln,Sr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Vt))return B(this,Vt).continueRetry(),B(this,Vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(S=>S.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ce(this,go,!0),s.signal)})},i=()=>{const m=Px(this.options,r),y=(()=>{const E={client:B(this,mo),queryKey:this.queryKey,meta:this.meta};return o(E),E})();return ce(this,go,!1),this.options.persister?this.options.persister(m,y,this):m(y)},u=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,mo),state:this.state,fetchFn:i};return o(m),m})();(d=this.options.behavior)==null||d.onFetch(u,this),ce(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=u.fetchOptions)==null?void 0:h.meta))&&Nt(this,Ln,Sr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const c=m=>{var S,y,E,_;df(m)&&m.silent||Nt(this,Ln,Sr).call(this,{type:"error",error:m}),df(m)||((y=(S=B(this,gn).config).onError)==null||y.call(S,m,this),(_=(E=B(this,gn).config).onSettled)==null||_.call(E,this.state.data,m,this)),this.scheduleGc()};return ce(this,Vt,Ox({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var S,y,E,_;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){c(v);return}(y=(S=B(this,gn).config).onSuccess)==null||y.call(S,m,this),(_=(E=B(this,gn).config).onSettled)==null||_.call(E,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,S)=>{Nt(this,Ln,Sr).call(this,{type:"failed",failureCount:m,error:S})},onPause:()=>{Nt(this,Ln,Sr).call(this,{type:"pause"})},onContinue:()=>{Nt(this,Ln,Sr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),B(this,Vt).start()}},bi=new WeakMap,po=new WeakMap,gn=new WeakMap,mo=new WeakMap,Vt=new WeakMap,Ll=new WeakMap,go=new WeakMap,Ln=new WeakSet,Sr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...pD(s.data,this.options),fetchMeta:n.meta??null};case"success":return ce(this,po,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return df(o)&&o.revert&&B(this,po)?{...B(this,po),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,gn).notify({query:this,type:"updated",action:n})})},$_);function pD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,z_,gD=(z_=class extends $d{constructor(e={}){super();Ie(this,Zn);this.config=e,ce(this,Zn,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??Ng(s,n);let i=this.get(o);return i||(i=new fD({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){B(this,Zn).has(e.queryHash)||(B(this,Zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Zn).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Zn).get(e)}getAll(){return[...B(this,Zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$0(e,r)):n}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zn=new WeakMap,z_),er,Bt,yo,tr,Jr,H_,yD=(H_=class extends Vx{constructor(n){super();Ie(this,tr);Ie(this,er);Ie(this,Bt);Ie(this,yo);this.mutationId=n.mutationId,ce(this,Bt,n.mutationCache),ce(this,er,[]),this.state=n.state||vD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,er).includes(n)||(B(this,er).push(n),this.clearGcTimeout(),B(this,Bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,er,B(this,er).filter(r=>r!==n)),this.scheduleGc(),B(this,Bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,er).length||(this.state.status==="pending"?this.scheduleGc():B(this,Bt).remove(this))}continue(){var n;return((n=B(this,yo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,u,c,d,h,p,m,S,y,E,_,v,x,P,O,V,A,C,R;const r=()=>{Nt(this,tr,Jr).call(this,{type:"continue"})};ce(this,yo,Ox({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,k)=>{Nt(this,tr,Jr).call(this,{type:"failed",failureCount:b,error:k})},onPause:()=>{Nt(this,tr,Jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Bt).canRun(this)}));const s=this.state.status==="pending",o=!B(this,yo).canStart();try{if(s)r();else{Nt(this,tr,Jr).call(this,{type:"pending",variables:n,isPaused:o}),await((a=(i=B(this,Bt).config).onMutate)==null?void 0:a.call(i,n,this));const k=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));k!==this.state.context&&Nt(this,tr,Jr).call(this,{type:"pending",context:k,variables:n,isPaused:o})}const b=await B(this,yo).start();return await((h=(d=B(this,Bt).config).onSuccess)==null?void 0:h.call(d,b,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,b,n,this.state.context)),await((y=(S=B(this,Bt).config).onSettled)==null?void 0:y.call(S,b,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,b,null,n,this.state.context)),Nt(this,tr,Jr).call(this,{type:"success",data:b}),b}catch(b){try{throw await((x=(v=B(this,Bt).config).onError)==null?void 0:x.call(v,b,n,this.state.context,this)),await((O=(P=this.options).onError)==null?void 0:O.call(P,b,n,this.state.context)),await((A=(V=B(this,Bt).config).onSettled)==null?void 0:A.call(V,void 0,b,this.state.variables,this.state.context,this)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,b,n,this.state.context)),b}finally{Nt(this,tr,Jr).call(this,{type:"error",error:b})}}finally{B(this,Bt).runNext(this)}}},er=new WeakMap,Bt=new WeakMap,yo=new WeakMap,tr=new WeakSet,Jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zt.batch(()=>{B(this,er).forEach(s=>{s.onMutationUpdate(n)}),B(this,Bt).notify({mutation:this,type:"updated",action:n})})},H_);function vD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ir,jn,jl,W_,wD=(W_=class extends $d{constructor(e={}){super();Ie(this,Ir);Ie(this,jn);Ie(this,jl);this.config=e,ce(this,Ir,new Set),ce(this,jn,new Map),ce(this,jl,0)}build(e,n,r){const s=new yD({mutationCache:this,mutationId:++yu(this,jl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,Ir).add(e);const n=Fu(e);if(typeof n=="string"){const r=B(this,jn).get(n);r?r.push(e):B(this,jn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Ir).delete(e)){const n=Fu(e);if(typeof n=="string"){const r=B(this,jn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,jn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Fu(e);if(typeof n=="string"){const r=B(this,jn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Fu(e);if(typeof n=="string"){const s=(r=B(this,jn).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zt.batch(()=>{B(this,Ir).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Ir).clear(),B(this,jn).clear()})}getAll(){return Array.from(B(this,Ir))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>z0(n,r))}findAll(e={}){return this.getAll().filter(n=>z0(e,n))}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vn))))}},Ir=new WeakMap,jn=new WeakMap,jl=new WeakMap,W_);function Fu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function q0(t){return{onFetch:(e,n)=>{var d,h,p,m,S;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],i=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const E=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=Px(e.options,e.fetchOptions),v=async(x,P,O)=>{if(y)return Promise.reject();if(P==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};return E(k),k})(),C=await _(A),{maxPages:R}=e.options,b=O?iD:oD;return{pages:b(x.pages,C,R),pageParams:b(x.pageParams,P,R)}};if(s&&o.length){const x=s==="backward",P=x?_D:G0,O={pages:o,pageParams:i},V=P(r,O);a=await v(O,V,x)}else{const x=t??o.length;do{const P=u===0?i[0]??r.initialPageParam:G0(r,a);if(u>0&&P==null)break;a=await v(a,P),u++}while(u<x)}return a};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function G0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _D(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var et,ls,us,Pi,Ni,cs,ki,Di,q_,ED=(q_=class{constructor(t={}){Ie(this,et);Ie(this,ls);Ie(this,us);Ie(this,Pi);Ie(this,Ni);Ie(this,cs);Ie(this,ki);Ie(this,Di);ce(this,et,t.queryCache||new gD),ce(this,ls,t.mutationCache||new wD),ce(this,us,t.defaultOptions||{}),ce(this,Pi,new Map),ce(this,Ni,new Map),ce(this,cs,0)}mount(){yu(this,cs)._++,B(this,cs)===1&&(ce(this,ki,Nx.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,et).onFocus())})),ce(this,Di,Xc.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,et).onOnline())})))}unmount(){var t,e;yu(this,cs)._--,B(this,cs)===0&&((t=B(this,ki))==null||t.call(this),ce(this,ki,void 0),(e=B(this,Di))==null||e.call(this),ce(this,Di,void 0))}isFetching(t){return B(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,ls).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(kp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,et).get(r.queryHash),o=s==null?void 0:s.state.data,i=Z2(e,o);if(i!==void 0)return B(this,et).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>B(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,et);zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,et);return zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zt.batch(()=>B(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(t,e={}){return zt.batch(()=>(B(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zt.batch(()=>B(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Vn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,et).build(this,e);return n.isStaleByTime(kp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=q0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}ensureInfiniteQueryData(t){return t.behavior=q0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xc.isOnline()?B(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,et)}getMutationCache(){return B(this,ls)}getDefaultOptions(){return B(this,us)}setDefaultOptions(t){ce(this,us,t)}setQueryDefaults(t,e){B(this,Pi).set(Sl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Pi).values()],n={};return e.forEach(r=>{Cl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Ni).set(Sl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Ni).values()],n={};return e.forEach(r=>{Cl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ng(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,et).clear(),B(this,ls).clear()}},et=new WeakMap,ls=new WeakMap,us=new WeakMap,Pi=new WeakMap,Ni=new WeakMap,cs=new WeakMap,ki=new WeakMap,Di=new WeakMap,q_),TD=T.createContext(void 0),xD=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(TD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const K0="popstate";function SD(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return Op("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lx(s)}return AD(e,n,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CD(){return Math.random().toString(36).substr(2,8)}function Q0(t,e){return{usr:t.state,key:t.key,idx:e}}function Op(t,e,n,r){return n===void 0&&(n=null),Jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hd(e):e,{state:n,key:e&&e.key||r||CD()})}function Lx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=fs.Pop,u=null,c=d();c==null&&(c=0,i.replaceState(Jc({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=fs.Pop;let E=d(),_=E==null?null:E-c;c=E,u&&u({action:a,location:y.location,delta:_})}function p(E,_){a=fs.Push;let v=Op(y.location,E,_);c=d()+1;let x=Q0(v,c),P=y.createHref(v);try{i.pushState(x,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(P)}o&&u&&u({action:a,location:y.location,delta:1})}function m(E,_){a=fs.Replace;let v=Op(y.location,E,_);c=d();let x=Q0(v,c),P=y.createHref(v);i.replaceState(x,"",P),o&&u&&u({action:a,location:y.location,delta:0})}function S(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:Lx(E);return v=v.replace(/ $/,"%20"),sn(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let y={get action(){return a},get location(){return t(s,i)},listen(E){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(K0,h),u=E,()=>{s.removeEventListener(K0,h),u=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let _=S(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(E){return i.go(E)}};return y}var Y0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Y0||(Y0={}));function ID(t,e,n){return n===void 0&&(n="/"),RD(t,e,n,!1)}function RD(t,e,n,r){let s=typeof e=="string"?Hd(e):e,o=Ux(s.pathname||"/",n);if(o==null)return null;let i=jx(t);bD(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=UD(o);a=jD(i[u],c,r)}return a}function jx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(sn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ti([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(sn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jx(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:MD(c,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let u of Fx(o.path))s(o,i,u)}),e}function Fx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Fx(r.join("/")),a=[];return a.push(...i.map(u=>u===""?o:[o,u].join("/"))),s&&a.push(...i),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function bD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PD=/^:[\w-]+$/,ND=3,kD=2,DD=1,OD=10,VD=-2,X0=t=>t==="*";function MD(t,e){let n=t.split("/"),r=n.length;return n.some(X0)&&(r+=VD),e&&(r+=kD),n.filter(s=>!X0(s)).reduce((s,o)=>s+(PD.test(o)?ND:o===""?DD:OD),r)}function LD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function jD(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=J0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=J0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Ti([o,h.pathname]),pathnameBase:BD(Ti([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Ti([o,h.pathnameBase]))}return i}function J0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let y=a[h]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const S=a[h];return m&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function FD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function UD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ux(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),BD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function $D(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bx=["post","put","patch","delete"];new Set(Bx);const zD=["get",...Bx];new Set(zD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}const HD=T.createContext(null),WD=T.createContext(null),$x=T.createContext(null),Wd=T.createContext(null),qd=T.createContext({outlet:null,matches:[],isDataRoute:!1}),zx=T.createContext(null);function Dg(){return T.useContext(Wd)!=null}function Hx(){return Dg()||sn(!1),T.useContext(Wd).location}function qD(t,e){return GD(t,e)}function GD(t,e,n,r){Dg()||sn(!1);let{navigator:s}=T.useContext($x),{matches:o}=T.useContext(qd),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=Hx(),d;if(e){var h;let E=typeof e=="string"?Hd(e):e;u==="/"||(h=E.pathname)!=null&&h.startsWith(u)||sn(!1),d=E}else d=c;let p=d.pathname||"/",m=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=ID(t,{pathname:m}),y=JD(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ti([u,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Ti([u,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&y?T.createElement(Wd.Provider,{value:{location:Zc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fs.Pop}},y):y}function KD(){let t=nO(),e=$D(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const QD=T.createElement(KD,null);class YD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(qd.Provider,{value:this.props.routeContext},T.createElement(zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XD(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(HD);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(qd.Provider,{value:e},r)}function JD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||sn(!1),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,S=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||S){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let m,S=!1,y=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||QD,u&&(c<0&&p===0?(S=!0,E=null):c===p&&(S=!0,E=h.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,p+1)),v=()=>{let x;return m?x=y:S?x=E:h.route.Component?x=T.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,T.createElement(XD,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(YD,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var Vp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vp||{});function ZD(t){let e=T.useContext(WD);return e||sn(!1),e}function eO(t){let e=T.useContext(qd);return e||sn(!1),e}function tO(t){let e=eO(),n=e.matches[e.matches.length-1];return n.route.id||sn(!1),n.route.id}function nO(){var t;let e=T.useContext(zx),n=ZD(Vp.UseRouteError),r=tO(Vp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mp(t){sn(!1)}function sO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fs.Pop,navigator:o,static:i=!1,future:a}=t;Dg()&&sn(!1);let u=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:o,static:i,future:Zc({v7_relativeSplatPath:!1},a)}),[u,a,o,i]);typeof r=="string"&&(r=Hd(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:S="default"}=r,y=T.useMemo(()=>{let E=Ux(d,u);return E==null?null:{location:{pathname:E,search:h,hash:p,state:m,key:S},navigationType:s}},[u,d,h,p,m,S,s]);return y==null?null:T.createElement($x.Provider,{value:c},T.createElement(Wd.Provider,{children:n,value:y}))}function oO(t){let{children:e,location:n}=t;return qD(Lp(e),n)}new Promise(()=>{});function Lp(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let o=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Lp(r.props.children,o));return}r.type!==Mp&&sn(!1),!r.props.index||!r.props.children||sn(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Lp(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iO="6";try{window.__reactRouterVersion=iO}catch{}const aO="startTransition",Z0=Tm[aO];function lO(t){let{basename:e,children:n,future:r,window:s}=t,o=T.useRef();o.current==null&&(o.current=SD({window:s,v5Compat:!0}));let i=o.current,[a,u]=T.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=T.useCallback(h=>{c&&Z0?Z0(()=>u(h)):u(h)},[u,c]);return T.useLayoutEffect(()=>i.listen(d),[i,d]),T.useEffect(()=>rO(r),[r]),T.createElement(sO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var ew;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ew||(ew={}));var tw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tw||(tw={}));const uO=Vd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ps=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Zb:"button";return w.jsx(i,{className:xe(uO({variant:e,size:n,className:t})),ref:o,...s})});ps.displayName="Button";const cO=({activeTab:t,onTabChange:e,isEditing:n})=>{const r=[{id:"search",label:"Find Best Card",icon:cc},{id:"cards",label:"All Cards",icon:QP},{id:"add",label:"Add Card",icon:FT}],s=n?[...r,{id:"edit",label:"Edit Card",icon:YP}]:r;return w.jsx("nav",{className:"border-b border-border bg-background/80 backdrop-blur-sm sticky top-0 z-10",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-gradient-financial rounded-lg",children:w.jsx(vg,{className:"h-6 w-6 text-white"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-foreground",children:"CardAssist"}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Smart Credit Card Assistant"})]})]}),w.jsx("div",{className:"flex items-center gap-2",children:s.map(o=>{const i=o.icon,a=t===o.id;return w.jsxs(ps,{variant:a?"default":"ghost",onClick:()=>e(o.id),className:`flex items-center gap-2 ${a?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:[w.jsx(i,{className:"h-4 w-4"}),w.jsx("span",{className:"hidden sm:inline",children:o.label})]},o.id)})})]})})})},ao=T.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ao.displayName="Card";const Gd=T.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));Gd.displayName="CardHeader";const Kd=T.forwardRef(({className:t,...e},n)=>w.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Kd.displayName="CardTitle";const dO=T.forwardRef(({className:t,...e},n)=>w.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));dO.displayName="CardDescription";const lo=T.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));lo.displayName="CardContent";const hO=T.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));hO.displayName="CardFooter";const at=T.forwardRef(({className:t,type:e,...n},r)=>w.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));at.displayName="Input";var ed=(t=>(t.AXIS_BANK="Axis Bank",t.FEDERAL_BANK="Federal Bank",t.HDFC_BANK="HDFC Bank",t.ICICI_BANK="ICICI Bank",t.IDFC_FIRST_BANK="IDFC First Bank",t.INDUSIND_BANK="IndusInd Bank",t.RBL_BANK="RBL Bank",t.SBI_BANK="SBI Bank",t.YES_BANK="Yes Bank",t.KOTAK_MAHINDRA_BANK="Kotak Mahindra Bank",t.BANK_OF_BARODA="Bank of Baroda",t))(ed||{}),Zt=(t=>(t.PREMIUM="premium",t.REGULAR="regular",t.ENTRY="entry",t.COBRAND="cobrand",t))(Zt||{}),wn=(t=>(t.CASHBACK="cashback",t.REWARD_POINTS="reward_points",t))(wn||{});const Wx=["Flipkart","Amazon","Swiggy","Zomato","Uber","Ola","BookMyShow","BigBasket","Travel","Fuel","Groceries","Shopping","Online Shopping","Dining","Entertainment","Utilities","General"],qx=T.forwardRef(({className:t,...e},n)=>w.jsx("div",{className:"relative w-full overflow-auto",children:w.jsx("table",{ref:n,className:xe("w-full caption-bottom text-sm",t),...e})}));qx.displayName="Table";const Gx=T.forwardRef(({className:t,...e},n)=>w.jsx("thead",{ref:n,className:xe("[&_tr]:border-b",t),...e}));Gx.displayName="TableHeader";const Kx=T.forwardRef(({className:t,...e},n)=>w.jsx("tbody",{ref:n,className:xe("[&_tr:last-child]:border-0",t),...e}));Kx.displayName="TableBody";const fO=T.forwardRef(({className:t,...e},n)=>w.jsx("tfoot",{ref:n,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));fO.displayName="TableFooter";const jp=T.forwardRef(({className:t,...e},n)=>w.jsx("tr",{ref:n,className:xe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));jp.displayName="TableRow";const Va=T.forwardRef(({className:t,...e},n)=>w.jsx("th",{ref:n,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Va.displayName="TableHead";const Ma=T.forwardRef(({className:t,...e},n)=>w.jsx("td",{ref:n,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ma.displayName="TableCell";const pO=T.forwardRef(({className:t,...e},n)=>w.jsx("caption",{ref:n,className:xe("mt-4 text-sm text-muted-foreground",t),...e}));pO.displayName="TableCaption";const mO=()=>{};var nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],u=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},Yx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;u||(m=64,i||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||h==null)throw new yO;const p=o<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const S=c<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vO=function(t){const e=Qx(t);return Yx.encodeByteArray(e,!0)},td=function(t){return vO(t).replace(/\./g,"")},wO=function(t){try{return Yx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=()=>_O().__FIREBASE_DEFAULTS__,TO=()=>{if(typeof process>"u"||typeof nw>"u")return;const t=nw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wO(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return mO()||EO()||TO()||xO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SO=t=>{var e,n;return(n=(e=Og())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Xx=t=>{const e=SO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jx=()=>{var t;return(t=Og())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[td(JSON.stringify(n)),td(JSON.stringify(i)),""].join(".")}const Ja={};function IO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?t.emulator.push(e):t.prod.push(e);return t}function RO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rw=!1;function eS(t,e){if(typeof window>"u"||typeof document>"u"||!Qd(window.location.host)||Ja[t]===e||Ja[t]||rw)return;Ja[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",o=IO().prod.length>0;function i(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{rw=!0,i()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=RO(r),m=n("text"),S=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(E,y);const P=c();u(v,_),x.append(v,S,E,P),document.body.appendChild(x)}o?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PO(){var e;const t=(e=Og())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NO(){return!PO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kO(){try{return typeof indexedDB=="object"}catch{return!1}}function DO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OO,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tS.prototype.create)}}class tS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?VO(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Vo(s,a,r)}}function VO(t,e){return t.replace(MO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MO=/\{\$([^}]+)}/g;function nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(sw(o)&&sw(i)){if(!nd(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t){return t&&t._delegate?t._delegate:t}class Io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jO(t){return t===no?void 0:t}function FO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const BO={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},$O=Te.INFO,zO={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},HO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=zO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vg{constructor(e){this.name=e,this._logLevel=$O,this._logHandler=HO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const WO=(t,e)=>e.some(n=>t instanceof n);let ow,iw;function qO(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GO(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,Fp=new WeakMap,rS=new WeakMap,hf=new WeakMap,Mg=new WeakMap;function KO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Ss(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),Mg.set(e,t),e}function QO(t){if(Fp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Fp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YO(t){Up=t(Up)}function XO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ff(this),e,...n);return rS.set(r,e.sort?e.sort():[e]),Ss(r)}:GO().includes(t)?function(...e){return t.apply(ff(this),e),Ss(nS.get(this))}:function(...e){return Ss(t.apply(ff(this),e))}}function JO(t){return typeof t=="function"?XO(t):(t instanceof IDBTransaction&&QO(t),WO(t,qO())?new Proxy(t,Up):t)}function Ss(t){if(t instanceof IDBRequest)return KO(t);if(hf.has(t))return hf.get(t);const e=JO(t);return e!==t&&(hf.set(t,e),Mg.set(e,t)),e}const ff=t=>Mg.get(t);function ZO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Ss(i);return r&&i.addEventListener("upgradeneeded",u=>{r(Ss(i.result),u.oldVersion,u.newVersion,Ss(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],pf=new Map;function aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=tV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eV.includes(n)))return;const o=async function(i,...a){const u=this.transaction(i,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return pf.set(e,o),o}YO(t=>({...t,get:(e,n,r)=>aw(e,n)||t.get(e,n,r),has:(e,n)=>!!aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",lw="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Vg("@firebase/app"),sV="@firebase/app-compat",oV="@firebase/analytics-compat",iV="@firebase/analytics",aV="@firebase/app-check-compat",lV="@firebase/app-check",uV="@firebase/auth",cV="@firebase/auth-compat",dV="@firebase/database",hV="@firebase/data-connect",fV="@firebase/database-compat",pV="@firebase/functions",mV="@firebase/functions-compat",gV="@firebase/installations",yV="@firebase/installations-compat",vV="@firebase/messaging",wV="@firebase/messaging-compat",_V="@firebase/performance",EV="@firebase/performance-compat",TV="@firebase/remote-config",xV="@firebase/remote-config-compat",SV="@firebase/storage",CV="@firebase/storage-compat",AV="@firebase/firestore",IV="@firebase/ai",RV="@firebase/firestore-compat",bV="firebase",PV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",NV={[Bp]:"fire-core",[sV]:"fire-core-compat",[iV]:"fire-analytics",[oV]:"fire-analytics-compat",[lV]:"fire-app-check",[aV]:"fire-app-check-compat",[uV]:"fire-auth",[cV]:"fire-auth-compat",[dV]:"fire-rtdb",[hV]:"fire-data-connect",[fV]:"fire-rtdb-compat",[pV]:"fire-fn",[mV]:"fire-fn-compat",[gV]:"fire-iid",[yV]:"fire-iid-compat",[vV]:"fire-fcm",[wV]:"fire-fcm-compat",[_V]:"fire-perf",[EV]:"fire-perf-compat",[TV]:"fire-rc",[xV]:"fire-rc-compat",[SV]:"fire-gcs",[CV]:"fire-gcs-compat",[AV]:"fire-fst",[RV]:"fire-fst-compat",[IV]:"fire-vertex","fire-js":"fire-js",[bV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Map,kV=new Map,zp=new Map;function uw(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){const e=t.name;if(zp.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(const n of Al.values())uw(n,t);for(const n of kV.values())uw(n,t);return!0}function Lg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jg(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new tS("app","Firebase",DV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=PV;function sS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$p,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Cs.create("bad-app-name",{appName:String(s)});if(n||(n=Jx()),!n)throw Cs.create("no-options");const o=Al.get(s);if(o){if(nd(n,o.options)&&nd(r,o.config))return o;throw Cs.create("duplicate-app",{appName:s})}const i=new UO(s);for(const u of zp.values())i.addComponent(u);const a=new OV(n,r,i);return Al.set(s,a),a}function Fg(t=$p){const e=Al.get(t);if(!e&&t===$p&&Jx())return sS();if(!e)throw Cs.create("no-app",{appName:t});return e}function cw(){return Array.from(Al.values())}function lr(t,e,n){let r=NV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(i.join(" "));return}zi(new Io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="firebase-heartbeat-database",LV=1,Il="firebase-heartbeat-store";let mf=null;function oS(){return mf||(mf=ZO(MV,LV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),mf}async function jV(t){try{const n=(await oS()).transaction(Il),r=await n.objectStore(Il).get(iS(t));return await n.done,r}catch(e){if(e instanceof Vo)jr.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function dw(t,e){try{const r=(await oS()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,iS(t)),await r.done}catch(n){if(n instanceof Vo)jr.warn(n.message);else{const r=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=1024,UV=30;class BV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>UV){const i=HV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hw(),{heartbeatsToSend:r,unsentEntries:s}=$V(this._heartbeatsCache.heartbeats),o=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jr.warn(n),""}}}function hw(){return new Date().toISOString().substring(0,10)}function $V(t,e=FV){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),fw(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),fw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kO()?DO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fw(t){return td(JSON.stringify({version:2,heartbeats:t})).length}function HV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){zi(new Io("platform-logger",e=>new nV(e),"PRIVATE")),zi(new Io("heartbeat",e=>new BV(e),"PRIVATE")),lr(Bp,lw,t),lr(Bp,lw,"esm2020"),lr("fire-js","")}WV("");var pw="@firebase/ai",Hp="2.2.1";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="AI",mw="us-central1",qV="firebasevertexai.googleapis.com",GV="v1beta",gw=Hp,KV="gl-js",QV=180*1e3,YV="gemini-2.0-flash-lite";/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=["user","model","function","system"],aS={HARM_SEVERITY_NEGLIGIBLE:"HARM_SEVERITY_NEGLIGIBLE",HARM_SEVERITY_LOW:"HARM_SEVERITY_LOW",HARM_SEVERITY_MEDIUM:"HARM_SEVERITY_MEDIUM",HARM_SEVERITY_HIGH:"HARM_SEVERITY_HIGH",HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},vw={STOP:"STOP",MAX_TOKENS:"MAX_TOKENS",SAFETY:"SAFETY",RECITATION:"RECITATION",OTHER:"OTHER",BLOCKLIST:"BLOCKLIST",PROHIBITED_CONTENT:"PROHIBITED_CONTENT",SPII:"SPII",MALFORMED_FUNCTION_CALL:"MALFORMED_FUNCTION_CALL"},ww={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.backendType=e}}class Gl extends lS{constructor(){super($r.GOOGLE_AI)}}class Yd extends lS{constructor(e=mw){super($r.VERTEX_AI),e?this.location=e:this.location=mw}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n,r,s,o){this.app=e,this.backend=n,this.chromeAdapterFactory=o;const i=s==null?void 0:s.getImmediate({optional:!0}),a=r==null?void 0:r.getImmediate({optional:!0});this.auth=a||null,this.appCheck=i||null,n instanceof Yd?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(e){this._options=e}get options(){return this._options}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe extends Vo{constructor(e,n,r){const s=Hi,o=`${s}/${e}`,i=`${s}: ${n} (${o})`;super(e,i),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,fe),Object.setPrototypeOf(this,fe.prototype),this.toString=()=>i}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){if(t instanceof Gl)return`${Hi}/googleai`;if(t instanceof Yd)return`${Hi}/vertexai/${t.location}`;throw new fe(pe.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function ZV(t){const e=t.split("/");if(e[0]!==Hi)throw new fe(pe.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new fe(pe.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new Yd(r);case"googleai":return new Gl;default:throw new fe(pe.ERROR,`Invalid instance identifier string: '${t}'`)}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){var r,s,o,i,a,u,c;if((s=(r=e.app)==null?void 0:r.options)!=null&&s.apiKey)if((i=(o=e.app)==null?void 0:o.options)!=null&&i.projectId)if((u=(a=e.app)==null?void 0:a.options)!=null&&u.appId){if(this._apiSettings={apiKey:e.app.options.apiKey,project:e.app.options.projectId,appId:e.app.options.appId,automaticDataCollectionEnabled:e.app.automaticDataCollectionEnabled,location:e.location,backend:e.backend},jg(e.app)&&e.app.settings.appCheckToken){const d=e.app.settings.appCheckToken;this._apiSettings.getAppCheckToken=()=>Promise.resolve({token:d})}else e.appCheck&&((c=e.options)!=null&&c.useLimitedUseAppCheckTokens?this._apiSettings.getAppCheckToken=()=>e.appCheck.getLimitedUseToken():this._apiSettings.getAppCheckToken=()=>e.appCheck.getToken());e.auth&&(this._apiSettings.getAuthToken=()=>e.auth.getToken()),this.model=Za.normalizeModelName(n,this._apiSettings.backend.backendType)}else throw new fe(pe.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.');else throw new fe(pe.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new fe(pe.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.')}static normalizeModelName(e,n){return n===$r.GOOGLE_AI?Za.normalizeGoogleAIModelName(e):Za.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new Vg("@firebase/vertexai");/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rl;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.PREDICT="predict"})(Rl||(Rl={}));class uS{constructor(e,n,r,s,o){this.model=e,this.task=n,this.apiSettings=r,this.stream=s,this.requestOptions=o}toString(){const e=new URL(this.baseUrl);return e.pathname=`/${this.apiVersion}/${this.modelPath}:${this.task}`,e.search=this.queryParams.toString(),e.toString()}get baseUrl(){var e;return((e=this.requestOptions)==null?void 0:e.baseUrl)||`https://${qV}`}get apiVersion(){return GV}get modelPath(){if(this.apiSettings.backend instanceof Gl)return`projects/${this.apiSettings.project}/${this.model}`;if(this.apiSettings.backend instanceof Yd)return`projects/${this.apiSettings.project}/locations/${this.apiSettings.backend.location}/${this.model}`;throw new fe(pe.ERROR,`Invalid backend: ${JSON.stringify(this.apiSettings.backend)}`)}get queryParams(){const e=new URLSearchParams;return this.stream&&e.set("alt","sse"),e}}function eM(){const t=[];return t.push(`${KV}/${gw}`),t.push(`fire/${gw}`),t.join(" ")}async function tM(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",eM()),e.append("x-goog-api-key",t.apiSettings.apiKey),t.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.apiSettings.appId),t.apiSettings.getAppCheckToken){const n=await t.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&Yt.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.apiSettings.getAuthToken){const n=await t.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function nM(t,e,n,r,s,o){const i=new uS(t,e,n,r,o);return{url:i.toString(),fetchOptions:{method:"POST",headers:await tM(i),body:s}}}async function Ug(t,e,n,r,s,o){const i=new uS(t,e,n,r,o);let a,u;try{const c=await nM(t,e,n,r,s,o),d=(o==null?void 0:o.timeout)!=null&&o.timeout>=0?o.timeout:QV,h=new AbortController;if(u=setTimeout(()=>h.abort(),d),c.fetchOptions.signal=h.signal,a=await fetch(c.url,c.fetchOptions),!a.ok){let p="",m;try{const S=await a.json();p=S.error.message,S.error.details&&(p+=` ${JSON.stringify(S.error.details)}`,m=S.error.details)}catch{}throw a.status===403&&m&&m.some(S=>S.reason==="SERVICE_DISABLED")&&m.some(S=>{var y,E;return(E=(y=S.links)==null?void 0:y[0])==null?void 0:E.description.includes("Google developers console API activation")})?new fe(pe.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${i.apiSettings.project}/genai/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:a.status,statusText:a.statusText,errorDetails:m}):new fe(pe.FETCH_ERROR,`Error fetching from ${i}: [${a.status} ${a.statusText}] ${p}`,{status:a.status,statusText:a.statusText,errorDetails:m})}}catch(c){let d=c;throw c.code!==pe.FETCH_ERROR&&c.code!==pe.API_NOT_ENABLED&&c instanceof Error&&(d=new fe(pe.ERROR,`Error fetching from ${i.toString()}: ${c.message}`),d.stack=c.stack),d}finally{u&&clearTimeout(u)}return a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&Yt.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),cS(t.candidates[0]))throw new fe(pe.RESPONSE_ERROR,`Response error: ${uo(t)}. Response body stored in error.response`,{response:t});return!0}else return!1}function rd(t){return t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0),rM(t)}function rM(t){return t.text=()=>{if(Uu(t))return _w(t,e=>!e.thought);if(t.promptFeedback)throw new fe(pe.RESPONSE_ERROR,`Text not available. ${uo(t)}`,{response:t});return""},t.thoughtSummary=()=>{if(Uu(t)){const e=_w(t,n=>!!n.thought);return e===""?void 0:e}else if(t.promptFeedback)throw new fe(pe.RESPONSE_ERROR,`Thought summary not available. ${uo(t)}`,{response:t})},t.inlineDataParts=()=>{if(Uu(t))return oM(t);if(t.promptFeedback)throw new fe(pe.RESPONSE_ERROR,`Data not available. ${uo(t)}`,{response:t})},t.functionCalls=()=>{if(Uu(t))return sM(t);if(t.promptFeedback)throw new fe(pe.RESPONSE_ERROR,`Function call not available. ${uo(t)}`,{response:t})},t}function _w(t,e){var r,s,o,i;const n=[];if((s=(r=t.candidates)==null?void 0:r[0].content)!=null&&s.parts)for(const a of(i=(o=t.candidates)==null?void 0:o[0].content)==null?void 0:i.parts)a.text&&e(a)&&n.push(a.text);return n.length>0?n.join(""):""}function sM(t){var n,r,s,o;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const i of(o=(s=t.candidates)==null?void 0:s[0].content)==null?void 0:o.parts)i.functionCall&&e.push(i.functionCall);if(e.length>0)return e}function oM(t){var n,r,s,o;const e=[];if((r=(n=t.candidates)==null?void 0:n[0].content)!=null&&r.parts)for(const i of(o=(s=t.candidates)==null?void 0:s[0].content)==null?void 0:o.parts)i.inlineData&&e.push(i);if(e.length>0)return e}const iM=[vw.RECITATION,vw.SAFETY];function cS(t){return!!t.finishReason&&iM.some(e=>e===t.finishReason)}function uo(t){var n,r,s;let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",(n=t.promptFeedback)!=null&&n.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),(r=t.promptFeedback)!=null&&r.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if((s=t.candidates)!=null&&s[0]){const o=t.candidates[0];cS(o)&&(e+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(e+=`: ${o.finishMessage}`))}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){var e,n;if((e=t.safetySettings)==null||e.forEach(r=>{if(r.method)throw new fe(pe.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),(n=t.generationConfig)!=null&&n.topK){const r=Math.round(t.generationConfig.topK);r!==t.generationConfig.topK&&(Yt.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=r)}return t}function Bg(t){return{candidates:t.candidates?lM(t.candidates):void 0,prompt:t.promptFeedback?uM(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function aM(t,e){return{generateContentRequest:{model:e,...t}}}function lM(t){const e=[];let n;return e&&t.forEach(r=>{var i;let s;if(r.citationMetadata&&(s={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(a=>({...a,severity:a.severity??aS.HARM_SEVERITY_UNSUPPORTED,probabilityScore:a.probabilityScore??0,severityScore:a.severityScore??0}))),(i=r.content)!=null&&i.parts.some(a=>a==null?void 0:a.videoMetadata))throw new fe(pe.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const o={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:s,groundingMetadata:r.groundingMetadata};e.push(o)}),e}function uM(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??aS.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function cM(t,e){const n=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=fM(n),[s,o]=r.tee();return{stream:hM(s,e),response:dM(o,e)}}async function dM(t,e){const n=[],r=t.getReader();for(;;){const{done:s,value:o}=await r.read();if(s){let i=pM(n);return e.backend.backendType===$r.GOOGLE_AI&&(i=Bg(i)),rd(i)}n.push(o)}}async function*hM(t,e){const n=t.getReader();for(;;){const{value:r,done:s}=await n.read();if(s)break;let o;e.backend.backendType===$r.GOOGLE_AI?o=rd(Bg(r)):o=rd(r),yield o}}function fM(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return o();function o(){return e.read().then(({value:i,done:a})=>{if(a){if(s.trim()){r.error(new fe(pe.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}s+=i;let u=s.match(Ew),c;for(;u;){try{c=JSON.parse(u[1])}catch{r.error(new fe(pe.PARSE_FAILED,`Error parsing JSON response: "${u[1]}`));return}r.enqueue(c),s=s.substring(u[0].length),u=s.match(Ew)}return o()})}}})}function pM(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const s of r.candidates){const o=s.index||0;if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:s.index}),n.candidates[o].citationMetadata=s.citationMetadata,n.candidates[o].finishReason=s.finishReason,n.candidates[o].finishMessage=s.finishMessage,n.candidates[o].safetyRatings=s.safetyRatings,n.candidates[o].groundingMetadata=s.groundingMetadata,s.content&&s.content.parts){n.candidates[o].content||(n.candidates[o].content={role:s.content.role||"user",parts:[]});const i={};for(const a of s.content.parts){if(a.text!==void 0){if(a.text==="")continue;i.text=a.text}if(a.functionCall&&(i.functionCall=a.functionCall),Object.keys(i).length===0)throw new fe(pe.INVALID_CONTENT,"Part should have at least one property, but there are none. This is likely caused by a malformed response from the backend.");n.candidates[o].content.parts.push(i)}}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e,n,r){return t.backend.backendType===$r.GOOGLE_AI&&(n=dS(n)),Ug(e,Rl.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r)}async function hS(t,e,n,r,s){let o;return r&&await r.isAvailable(n)?o=await r.generateContentStream(n):o=await mM(t,e,n,s),cM(o,t)}async function gM(t,e,n,r){return t.backend.backendType===$r.GOOGLE_AI&&(n=dS(n)),Ug(e,Rl.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)}async function fS(t,e,n,r,s){let o;r&&await r.isAvailable(n)?o=await r.generateContent(n):o=await gM(t,e,n,s);const i=await yM(o,t);return{response:rd(i)}}async function yM(t,e){const n=await t.json();return e.backend.backendType===$r.GOOGLE_AI?Bg(n):n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Wp(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return vM(e)}function vM(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),s=!0):(e.parts.push(o),r=!0);if(r&&s)throw new fe(pe.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!s)throw new fe(pe.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function gf(t){let e;return t.contents?e=t:e={contents:[Wp(t)]},t.systemInstruction&&(e.systemInstruction=pS(t.systemInstruction)),e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],wM={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},xw={user:["model"],function:["model"],model:["user","function"],system:[]};function _M(t){let e=null;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new fe(pe.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!yw.includes(r))throw new fe(pe.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(yw)}`);if(!Array.isArray(s))throw new fe(pe.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(s.length===0)throw new fe(pe.INVALID_CONTENT,"Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0};for(const a of s)for(const u of Tw)u in a&&(o[u]+=1);const i=wM[r];for(const a of Tw)if(!i.includes(a)&&o[a]>0)throw new fe(pe.INVALID_CONTENT,`Content with role '${r}' can't contain '${a}' part`);if(e&&!xw[r].includes(e.role))throw new fe(pe.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(xw)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="SILENT_ERROR";class EM{constructor(e,n,r,s,o){this.model=n,this.chromeAdapter=r,this.params=s,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,s!=null&&s.history&&(_M(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var o,i,a,u,c;await this._sendPromise;const n=Wp(e),r={safetySettings:(o=this.params)==null?void 0:o.safetySettings,generationConfig:(i=this.params)==null?void 0:i.generationConfig,tools:(a=this.params)==null?void 0:a.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(c=this.params)==null?void 0:c.systemInstruction,contents:[...this._history,n]};let s={};return this._sendPromise=this._sendPromise.then(()=>fS(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions)).then(d=>{var h,p;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(n);const m={parts:((h=d.response.candidates)==null?void 0:h[0].content.parts)||[],role:((p=d.response.candidates)==null?void 0:p[0].content.role)||"model"};this._history.push(m)}else{const m=uo(d.response);m&&Yt.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}s=d}),await this._sendPromise,s}async sendMessageStream(e){var o,i,a,u,c;await this._sendPromise;const n=Wp(e),r={safetySettings:(o=this.params)==null?void 0:o.safetySettings,generationConfig:(i=this.params)==null?void 0:i.generationConfig,tools:(a=this.params)==null?void 0:a.tools,toolConfig:(u=this.params)==null?void 0:u.toolConfig,systemInstruction:(c=this.params)==null?void 0:c.systemInstruction,contents:[...this._history,n]},s=hS(this._apiSettings,this.model,r,this.chromeAdapter,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>s).catch(d=>{throw new Error(Sw)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(n);const h={...d.candidates[0].content};h.role||(h.role="model"),this._history.push(h)}else{const h=uo(d);h&&Yt.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(d=>{d.message!==Sw&&Yt.error(d)}),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e,n,r){let s="";if(t.backend.backendType===$r.GOOGLE_AI){const i=aM(n,e);s=JSON.stringify(i)}else s=JSON.stringify(n);return(await Ug(e,Rl.COUNT_TOKENS,t,!1,s,r)).json()}async function xM(t,e,n,r,s){return r&&await r.isAvailable(n)?(await r.countTokens(n)).json():TM(t,e,n,s)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM extends Za{constructor(e,n,r,s){super(e,n.model),this.chromeAdapter=s,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=pS(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=gf(e);return fS(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}async generateContentStream(e){const n=gf(e);return hS(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...n},this.chromeAdapter,this.requestOptions)}startChat(e){return new EM(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e){const n=gf(e);return xM(this._apiSettings,this.model,n,this.chromeAdapter)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t=Fg(),e){t=pr(t);const n=Lg(t,Hi),r=(e==null?void 0:e.backend)??new Gl,s={useLimitedUseAppCheckTokens:(e==null?void 0:e.useLimitedUseAppCheckTokens)??!1},o=JV(r),i=n.getImmediate({identifier:o});return i.options=s,i}function AM(t,e,n){var i;const r=e;let s;if(r.mode?s=r.inCloudParams||{model:YV}:s=e,!s.model)throw new fe(pe.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const o=(i=t.chromeAdapterFactory)==null?void 0:i.call(t,r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new SM(t,s,n,o)}var ro;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(ro||(ro={}));/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r={createOptions:{expectedInputs:[{type:"image"}]}}){this.languageModelProvider=e,this.mode=n,this.onDeviceParams=r,this.isDownloading=!1}async isAvailable(e){if(!this.mode)return Yt.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===ww.ONLY_IN_CLOUD)return Yt.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===ww.ONLY_ON_DEVICE){if(n===ro.UNAVAILABLE)throw new fe(pe.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===ro.DOWNLOADABLE||n===ro.DOWNLOADING)&&(Yt.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==ro.AVAILABLE?(Yt.debug(`On-device inference unavailable because availability is "${n}".`),!1):Mn.isOnDeviceRequest(e)?!0:(Yt.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Mn.toLanguageModelMessage)),s=await n.prompt(r,this.onDeviceParams.promptOptions);return Mn.toResponse(s)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map(Mn.toLanguageModelMessage)),s=n.promptStreaming(r,this.onDeviceParams.promptOptions);return Mn.toStreamResponse(s)}async countTokens(e){throw new fe(pe.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return Yt.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return Yt.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&Mn.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Yt.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){var n;const e=await((n=this.languageModelProvider)==null?void 0:n.availability(this.onDeviceParams.createOptions));return e===ro.DOWNLOADABLE&&this.download(),e}download(){var e;this.isDownloading||(this.isDownloading=!0,this.downloadPromise=(e=this.languageModelProvider)==null?void 0:e.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map(Mn.toLanguageModelMessageContent));return{role:Mn.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new fe(pe.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new fe(pe.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,s){const o=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});s.enqueue(n.encode(`data: ${o}

`))}}))}}}Mn.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function IM(t,e,n){if(typeof e<"u"&&t)return new Mn(e.LanguageModel,t,n)}function RM(t,{instanceIdentifier:e}){if(!e)throw new fe(pe.ERROR,"AIService instance identifier is undefined.");const n=ZV(e),r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new XV(r,n,s,o,IM)}function bM(){zi(new Io(Hi,RM,"PUBLIC").setMultipleInstances(!0)),lr(pw,Hp),lr(pw,Hp,"esm2020")}bM();var PM="firebase",NM="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(PM,NM,"app");var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,mS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function R(){}R.prototype=C.prototype,A.D=C.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(b,k,D){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return C.prototype[k].apply(b,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,C,R){R||(R=0);var b=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)b[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;16>k;++k)b[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=A.g[0],R=A.g[1],k=A.g[2];var D=A.g[3],N=C+(D^R&(k^D))+b[0]+3614090360&4294967295;C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+b[1]+3905402710&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+b[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+b[3]+3250441966&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+b[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+b[5]+1200080426&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+b[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+b[7]+4249261313&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+b[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+b[9]+2336552879&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+b[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+b[11]+2304563134&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(D^R&(k^D))+b[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=D+(k^C&(R^k))+b[13]+4254626195&4294967295,D=C+(N<<12&4294967295|N>>>20),N=k+(R^D&(C^R))+b[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=R+(C^k&(D^C))+b[15]+1236535329&4294967295,R=k+(N<<22&4294967295|N>>>10),N=C+(k^D&(R^k))+b[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+b[6]+3225465664&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+b[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+b[0]+3921069994&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+b[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+b[10]+38016083&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+b[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+b[4]+3889429448&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+b[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+b[14]+3275163606&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+b[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+b[8]+1163531501&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(k^D&(R^k))+b[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=D+(R^k&(C^R))+b[2]+4243563512&4294967295,D=C+(N<<9&4294967295|N>>>23),N=k+(C^R&(D^C))+b[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=R+(D^C&(k^D))+b[12]+2368359562&4294967295,R=k+(N<<20&4294967295|N>>>12),N=C+(R^k^D)+b[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+b[8]+2272392833&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+b[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+b[14]+4259657740&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+b[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+b[4]+1272893353&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+b[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+b[10]+3200236656&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+b[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+b[0]+3936430074&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+b[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+b[6]+76029189&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(R^k^D)+b[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=D+(C^R^k)+b[12]+3873151461&4294967295,D=C+(N<<11&4294967295|N>>>21),N=k+(D^C^R)+b[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=R+(k^D^C)+b[2]+3299628645&4294967295,R=k+(N<<23&4294967295|N>>>9),N=C+(k^(R|~D))+b[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+b[7]+1126891415&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+b[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+b[5]+4237533241&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+b[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+b[3]+2399980690&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+b[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+b[1]+2240044497&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+b[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+b[15]+4264355552&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+b[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+b[13]+1309151649&4294967295,R=k+(N<<21&4294967295|N>>>11),N=C+(k^(R|~D))+b[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=D+(R^(C|~k))+b[11]+3174756917&4294967295,D=C+(N<<10&4294967295|N>>>22),N=k+(C^(D|~R))+b[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=R+(D^(k|~C))+b[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var R=C-this.blockSize,b=this.B,k=this.h,D=0;D<C;){if(k==0)for(;D<=R;)s(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<C;)if(b[k++]=A.charCodeAt(D++),k==this.blockSize){s(this,b),k=0;break}}else for(;D<C;)if(b[k++]=A[D++],k==this.blockSize){s(this,b),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var R=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=R&255,R/=256;for(this.u(A),A=Array(16),C=R=0;4>C;++C)for(var b=0;32>b;b+=8)A[R++]=this.g[C]>>>b&255;return A};function o(A,C){var R=a;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=C(A)}function i(A,C){this.h=C;for(var R=[],b=!0,k=A.length-1;0<=k;k--){var D=A[k]|0;b&&D==C||(R[k]=D,b=!1)}this.g=R}var a={};function u(A){return-128<=A&&128>A?o(A,function(C){return new i([C|0],0>C?-1:0)}):new i([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return E(c(-A));for(var C=[],R=1,b=0;A>=R;b++)C[b]=A/R|0,R*=4294967296;return new i(C,0)}function d(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return E(d(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(C,8)),b=h,k=0;k<A.length;k+=8){var D=Math.min(8,A.length-k),N=parseInt(A.substring(k,k+D),C);8>D?(D=c(Math.pow(C,D)),b=b.j(D).add(c(N))):(b=b.j(R),b=b.add(c(N)))}return b}var h=u(0),p=u(1),m=u(16777216);t=i.prototype,t.m=function(){if(y(this))return-E(this).m();for(var A=0,C=1,R=0;R<this.g.length;R++){var b=this.i(R);A+=(0<=b?b:4294967296+b)*C,C*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(y(this))return"-"+E(this).toString(A);for(var C=c(Math.pow(A,6)),R=this,b="";;){var k=P(R,C).g;R=_(R,k.j(C));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=k,S(R))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=_(this,A),y(A)?-1:S(A)?0:1};function E(A){for(var C=A.g.length,R=[],b=0;b<C;b++)R[b]=~A.g[b];return new i(R,~A.h).add(p)}t.abs=function(){return y(this)?E(this):this},t.add=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],b=0,k=0;k<=C;k++){var D=b+(this.i(k)&65535)+(A.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);b=N>>>16,D&=65535,N&=65535,R[k]=N<<16|D}return new i(R,R[R.length-1]&-2147483648?-1:0)};function _(A,C){return A.add(E(C))}t.j=function(A){if(S(this)||S(A))return h;if(y(this))return y(A)?E(this).j(E(A)):E(E(this).j(A));if(y(A))return E(this.j(E(A)));if(0>this.l(m)&&0>A.l(m))return c(this.m()*A.m());for(var C=this.g.length+A.g.length,R=[],b=0;b<2*C;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<A.g.length;k++){var D=this.i(b)>>>16,N=this.i(b)&65535,H=A.i(k)>>>16,ne=A.i(k)&65535;R[2*b+2*k]+=N*ne,v(R,2*b+2*k),R[2*b+2*k+1]+=D*ne,v(R,2*b+2*k+1),R[2*b+2*k+1]+=N*H,v(R,2*b+2*k+1),R[2*b+2*k+2]+=D*H,v(R,2*b+2*k+2)}for(b=0;b<C;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=C;b<2*C;b++)R[b]=0;return new i(R,0)};function v(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function x(A,C){this.g=A,this.h=C}function P(A,C){if(S(C))throw Error("division by zero");if(S(A))return new x(h,h);if(y(A))return C=P(E(A),C),new x(E(C.g),E(C.h));if(y(C))return C=P(A,E(C)),new x(E(C.g),C.h);if(30<A.g.length){if(y(A)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var R=p,b=C;0>=b.l(A);)R=O(R),b=O(b);var k=V(R,1),D=V(b,1);for(b=V(b,2),R=V(R,2);!S(b);){var N=D.add(b);0>=N.l(A)&&(k=k.add(R),D=N),b=V(b,1),R=V(R,1)}return C=_(A,k.j(C)),new x(k,C)}for(k=h;0<=A.l(C);){for(R=Math.max(1,Math.floor(A.m()/C.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=c(R),N=D.j(C);y(N)||0<N.l(A);)R-=b,D=c(R),N=D.j(C);S(D)&&(D=p),k=k.add(D),A=_(A,N)}return new x(k,A)}t.A=function(A){return P(this,A).h},t.and=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)&A.i(b);return new i(R,this.h&A.h)},t.or=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)|A.i(b);return new i(R,this.h|A.h)},t.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)^A.i(b);return new i(R,this.h^A.h)};function O(A){for(var C=A.g.length+1,R=[],b=0;b<C;b++)R[b]=A.i(b)<<1|A.i(b-1)>>>31;return new i(R,A.h)}function V(A,C){var R=C>>5;C%=32;for(var b=A.g.length-R,k=[],D=0;D<b;D++)k[D]=0<C?A.i(D+R)>>>C|A.i(D+R+1)<<32-C:A.i(D+R);return new i(k,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mS=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=c,i.fromString=d,As=i}).apply(typeof Cw<"u"?Cw:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gS,La,yS,hc,qp,vS,wS,_S;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var M=l[I];if(!(M in g))break e;g=g[M]}l=l[l.length-1],I=g[l],f=f(I),f!=I&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var g=0,I=!1,M={next:function(){if(!I&&g<l.length){var j=g++;return{value:f(j,l[j]),done:!1}}return I=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return o(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,I),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function S(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(I,M,j){for(var G=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)G[Ve-2]=arguments[Ve];return f.prototype[M].apply(I,G)}}function y(l){const f=l.length;if(0<f){const g=Array(f);for(let I=0;I<f;I++)g[I]=l[I];return g}return[]}function E(l,f){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(u(I)){const M=l.length||0,j=I.length||0;l.length=M+j;for(let G=0;G<j;G++)l[M+G]=I[G]}else l.push(I)}}class _{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(l,f,g){for(const I in l)f.call(g,l[I],I,l)}function A(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function C(l){const f={};for(const g in l)f[g]=l[g];return f}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,f){let g,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(g in I)l[g]=I[g];for(let j=0;j<R.length;j++)g=R[j],Object.prototype.hasOwnProperty.call(I,g)&&(l[g]=I[g])}}function k(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function N(){var l=U;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class H{constructor(){this.h=this.g=null}add(f,g){const I=ne.get();I.set(f,g),this.h?this.h.next=I:this.g=I,this.h=I}}var ne=new _(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let te,F=!1,U=new H,K=()=>{const l=a.Promise.resolve(void 0);te=()=>{l.then(se)}};var se=()=>{for(var l;l=N();){try{l.h.call(l.g)}catch(g){D(g)}var f=ne;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}F=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function Re(l,f){if(Z.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(O){e:{try{P(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ze[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}S(Re,Z);var ze={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),be=0;function He(l,f,g,I,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!I,this.ha=M,this.key=++be,this.da=this.fa=!1}function ge(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function he(l){this.src=l,this.g={},this.h=0}he.prototype.add=function(l,f,g,I,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var G=it(l,f,I,M);return-1<G?(f=l[G],g||(f.fa=!1)):(f=new He(f,this.src,j,!!I,M),f.fa=g,l.push(f)),f};function ye(l,f){var g=f.type;if(g in l.g){var I=l.g[g],M=Array.prototype.indexOf.call(I,f,void 0),j;(j=0<=M)&&Array.prototype.splice.call(I,M,1),j&&(ge(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function it(l,f,g,I){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==f&&j.capture==!!g&&j.ha==I)return M}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),In={};function Rn(l,f,g,I,M){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Rn(l,f[j],g,I,M);return null}return g=tu(g),l&&l[Q]?l.K(f,g,c(I)?!!I.capture:!!I,M):yr(l,f,g,!1,I,M)}function yr(l,f,g,I,M,j){if(!f)throw Error("Invalid event type");var G=c(M)?!!M.capture:!!M,Ve=bn(l);if(Ve||(l[Rt]=Ve=new he(l)),g=Ve.add(f,g,I,G,j),g.proxy)return g;if(I=Ws(),g.proxy=I,I.src=l,I.listener=g,l.addEventListener)ie||(M=G),M===void 0&&(M=!1),l.addEventListener(f.toString(),I,M);else if(l.attachEvent)l.attachEvent(zr(f.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ws(){function l(g){return f.call(l.src,l.listener,g)}const f=eu;return l}function vr(l,f,g,I,M){if(Array.isArray(f))for(var j=0;j<f.length;j++)vr(l,f[j],g,I,M);else I=c(I)?!!I.capture:!!I,g=tu(g),l&&l[Q]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],g=it(j,g,I,M),-1<g&&(ge(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=bn(l))&&(f=l.g[f.toString()],l=-1,f&&(l=it(f,g,I,M)),(g=-1<l?f[l]:null)&&Uo(g))}function Uo(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Q])ye(f.i,l);else{var g=l.type,I=l.proxy;f.removeEventListener?f.removeEventListener(g,I,l.capture):f.detachEvent?f.detachEvent(zr(g),I):f.addListener&&f.removeListener&&f.removeListener(I),(g=bn(f))?(ye(g,l),g.h==0&&(g.src=null,f[Rt]=null)):ge(l)}}}function zr(l){return l in In?In[l]:In[l]="on"+l}function eu(l,f){if(l.da)l=!0;else{f=new Re(f,this);var g=l.listener,I=l.ha||l.src;l.fa&&Uo(l),l=g.call(I,f)}return l}function bn(l){return l=l[Rt],l instanceof he?l:null}var ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(l){return typeof l=="function"?l:(l[ua]||(l[ua]=function(f){return l.handleEvent(f)}),l[ua])}function Ne(){L.call(this),this.i=new he(this),this.M=this,this.F=null}S(Ne,L),Ne.prototype[Q]=!0,Ne.prototype.removeEventListener=function(l,f,g,I){vr(this,l,f,g,I)};function Je(l,f){var g,I=l.F;if(I)for(g=[];I;I=I.F)g.push(I);if(l=l.M,I=f.type||f,typeof f=="string")f=new Z(f,l);else if(f instanceof Z)f.target=f.target||l;else{var M=f;f=new Z(I,l),b(f,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var G=f.g=g[j];M=Bo(G,I,!0,f)&&M}if(G=f.g=l,M=Bo(G,I,!0,f)&&M,M=Bo(G,I,!1,f)&&M,g)for(j=0;j<g.length;j++)G=f.g=g[j],M=Bo(G,I,!1,f)&&M}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],I=0;I<g.length;I++)ge(g[I]);delete l.g[f],l.h--}}this.F=null},Ne.prototype.K=function(l,f,g,I){return this.i.add(String(l),f,!1,g,I)},Ne.prototype.L=function(l,f,g,I){return this.i.add(String(l),f,!0,g,I)};function Bo(l,f,g,I){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,j=0;j<f.length;++j){var G=f[j];if(G&&!G.da&&G.capture==g){var Ve=G.listener,_t=G.ha||G.src;G.fa&&ye(l.i,G),M=Ve.call(_t,I)!==!1&&M}}return M&&!I.defaultPrevented}function nu(l,f,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function qs(l){l.g=nu(()=>{l.g=null,l.i&&(l.i=!1,qs(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class yh extends L{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(l){L.call(this),this.h=l,this.g={}}S(Hr,L);var $o=[];function wr(l){V(l.g,function(f,g){this.g.hasOwnProperty(g)&&Uo(f)},l),l.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),wr(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zo=a.JSON.stringify,Wr=a.JSON.parse,vh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ca(){}ca.prototype.h=null;function da(l){return l.h||(l.h=l.i())}function ha(){}var Gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ks(){Z.call(this,"d")}S(Ks,Z);function mn(){Z.call(this,"c")}S(mn,Z);var _r={},ae=null;function Se(){return ae=ae||new Ne}_r.La="serverreachability";function Oe(l){Z.call(this,_r.La,l)}S(Oe,Z);function vt(l){const f=Se();Je(f,new Oe(f))}_r.STAT_EVENT="statevent";function Gt(l,f){Z.call(this,_r.STAT_EVENT,l),this.stat=f}S(Gt,Z);function We(l){const f=Se();Je(f,new Gt(f,l))}_r.Ma="timingevent";function Qn(l,f){Z.call(this,_r.Ma,l),this.size=f}S(Qn,Z);function wt(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Kt(){this.g=!0}Kt.prototype.xa=function(){this.g=!1};function XA(l,f,g,I,M,j){l.info(function(){if(l.g)if(j)for(var G="",Ve=j.split("&"),_t=0;_t<Ve.length;_t++){var Ae=Ve[_t].split("=");if(1<Ae.length){var bt=Ae[0];Ae=Ae[1];var Pt=bt.split("_");G=2<=Pt.length&&Pt[1]=="type"?G+(bt+"="+Ae+"&"):G+(bt+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+f+`
`+g+`
`+G})}function JA(l,f,g,I,M,j,G){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+f+`
`+g+`
`+j+" "+G})}function Ho(l,f,g,I){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+eI(l,g)+(I?" "+I:"")})}function ZA(l,f){l.info(function(){return"TIMEOUT: "+f})}Kt.prototype.info=function(){};function eI(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var I=g[l];if(!(2>I.length)){var M=I[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return zo(g)}catch{return f}}var ru={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wh;function su(){}S(su,ca),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},wh=new su;function qr(l,f,g,I){this.j=l,this.i=f,this.l=g,this.R=I||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cy}function Cy(){this.i=null,this.g="",this.h=!1}var Ay={},_h={};function Eh(l,f,g){l.L=1,l.v=lu(Er(f)),l.m=g,l.P=!0,Iy(l,null)}function Iy(l,f){l.F=Date.now(),ou(l),l.A=Er(l.v);var g=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),By(g.i,"t",I),l.C=0,g=l.j.J,l.h=new Cy,l.g=ov(l.j,g?f:null,!l.m),0<l.O&&(l.M=new yh(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,I=l.ca;var M="readystatechange";Array.isArray(M)||(M&&($o[0]=M.toString()),M=$o);for(var j=0;j<M.length;j++){var G=Rn(g,M[j],I||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),vt(),XA(l.i,l.u,l.A,l.l,l.R,l.m)}qr.prototype.ca=function(l){l=l.target;const f=this.M;f&&Tr(l)==3?f.j():this.Y(l)},qr.prototype.Y=function(l){try{if(l==this.g)e:{const Pt=Tr(this.g);var f=this.g.Ba();const Go=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Ky(this.g)))){this.J||Pt!=4||f==7||(f==8||0>=Go?vt(3):vt(2)),Th(this);var g=this.g.Z();this.X=g;t:if(Ry(this)){var I=Ky(this.g);l="";var M=I.length,j=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),fa(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(I[f],{stream:!(j&&f==M-1)});I.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,JA(this.i,this.u,this.A,this.l,this.R,Pt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,_t=this.g;if((Ve=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ve)){var Ae=Ve;break t}}Ae=null}if(g=Ae)Ho(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xh(this,g);else{this.o=!1,this.s=3,We(12),Qs(this),fa(this);break e}}if(this.P){g=!0;let Pn;for(;!this.J&&this.C<G.length;)if(Pn=tI(this,G),Pn==_h){Pt==4&&(this.s=4,We(14),g=!1),Ho(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Ay){this.s=4,We(15),Ho(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Ho(this.i,this.l,Pn,null),xh(this,Pn);if(Ry(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||G.length!=0||this.h.h||(this.s=1,We(16),g=!1),this.o=this.o&&g,!g)Ho(this.i,this.l,G,"[Invalid Chunked Response]"),Qs(this),fa(this);else if(0<G.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),bh(bt),bt.M=!0,We(11))}}else Ho(this.i,this.l,G,null),xh(this,G);Pt==4&&Qs(this),this.o&&!this.J&&(Pt==4?tv(this.j,this):(this.o=!1,ou(this)))}else vI(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),Qs(this),fa(this)}}}catch{}finally{}};function Ry(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function tI(l,f){var g=l.C,I=f.indexOf(`
`,g);return I==-1?_h:(g=Number(f.substring(g,I)),isNaN(g)?Ay:(I+=1,I+g>f.length?_h:(f=f.slice(I,I+g),l.C=I+g,f)))}qr.prototype.cancel=function(){this.J=!0,Qs(this)};function ou(l){l.S=Date.now()+l.I,by(l,l.I)}function by(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wt(p(l.ba,l),f)}function Th(l){l.B&&(a.clearTimeout(l.B),l.B=null)}qr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ZA(this.i,this.A),this.L!=2&&(vt(),We(17)),Qs(this),this.s=2,fa(this)):by(this,this.S-l)};function fa(l){l.j.G==0||l.J||tv(l.j,l)}function Qs(l){Th(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,wr(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function xh(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Sh(g.h,l))){if(!l.K&&Sh(g.h,l)&&g.G==3){try{var I=g.Da.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)pu(g),hu(g);else break e;Rh(g),We(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=wt(p(g.Za,g),6e3));if(1>=ky(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Xs(g,11)}else if((l.K||g.g==l)&&pu(g),!v(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Ae=M[f];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const bt=Ae[3];bt!=null&&(g.la=bt,g.j.info("VER="+g.la));const Pt=Ae[4];Pt!=null&&(g.Aa=Pt,g.j.info("SVER="+g.Aa));const Go=Ae[5];Go!=null&&typeof Go=="number"&&0<Go&&(I=1.5*Go,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const Pn=l.g;if(Pn){const gu=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var j=I.h;j.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ch(j,j.h),j.h=null))}if(I.D){const Ph=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ph&&(I.ya=Ph,je(I.I,I.D,Ph))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var G=l;if(I.qa=sv(I,I.J?I.ia:null,I.W),G.K){Dy(I.h,G);var Ve=G,_t=I.L;_t&&(Ve.I=_t),Ve.B&&(Th(Ve),ou(Ve)),I.g=G}else Zy(I);0<g.i.length&&fu(g)}else Ae[0]!="stop"&&Ae[0]!="close"||Xs(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Xs(g,7):Ih(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}vt(4)}catch{}}var nI=class{constructor(l,f){this.g=l,this.map=f}};function Py(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ny(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ky(l){return l.h?1:l.g?l.g.size:0}function Sh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ch(l,f){l.g?l.g.add(f):l.h=f}function Dy(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Py.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Oy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return y(l.i)}function rI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,I=0;I<g;I++)f.push(l[I]);return f}f=[],g=0;for(I in l)f[g++]=l[I];return f}function sI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const I in l)f[g++]=I;return f}}}function Vy(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=sI(l),I=rI(l),M=I.length,j=0;j<M;j++)f.call(void 0,I[j],g&&g[j],l)}var My=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oI(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var I=l[g].indexOf("="),M=null;if(0<=I){var j=l[g].substring(0,I);M=l[g].substring(I+1)}else j=l[g];f(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ys(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ys){this.h=l.h,iu(this,l.j),this.o=l.o,this.g=l.g,au(this,l.s),this.l=l.l;var f=l.i,g=new ga;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ly(this,g),this.m=l.m}else l&&(f=String(l).match(My))?(this.h=!1,iu(this,f[1]||"",!0),this.o=pa(f[2]||""),this.g=pa(f[3]||"",!0),au(this,f[4]),this.l=pa(f[5]||"",!0),Ly(this,f[6]||"",!0),this.m=pa(f[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}Ys.prototype.toString=function(){var l=[],f=this.j;f&&l.push(ma(f,jy,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(ma(f,jy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ma(g,g.charAt(0)=="/"?lI:aI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ma(g,cI)),l.join("")};function Er(l){return new Ys(l)}function iu(l,f,g){l.j=g?pa(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function au(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ly(l,f,g){f instanceof ga?(l.i=f,dI(l.i,l.h)):(g||(f=ma(f,uI)),l.i=new ga(f,l.h))}function je(l,f,g){l.i.set(f,g)}function lu(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function pa(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ma(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,iI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function iI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jy=/[#\/\?@]/g,aI=/[#\?:]/g,lI=/[#\?]/g,uI=/[#\?@]/g,cI=/#/g;function ga(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Gr(l){l.g||(l.g=new Map,l.h=0,l.i&&oI(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=ga.prototype,t.add=function(l,f){Gr(this),this.i=null,l=Wo(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Fy(l,f){Gr(l),f=Wo(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Uy(l,f){return Gr(l),f=Wo(l,f),l.g.has(f)}t.forEach=function(l,f){Gr(this),this.g.forEach(function(g,I){g.forEach(function(M){l.call(f,M,I,this)},this)},this)},t.na=function(){Gr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let I=0;I<f.length;I++){const M=l[I];for(let j=0;j<M.length;j++)g.push(f[I])}return g},t.V=function(l){Gr(this);let f=[];if(typeof l=="string")Uy(this,l)&&(f=f.concat(this.g.get(Wo(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return Gr(this),this.i=null,l=Wo(this,l),Uy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function By(l,f,g){Fy(l,f),0<g.length&&(l.i=null,l.g.set(Wo(l,f),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var I=f[g];const j=encodeURIComponent(String(I)),G=this.V(I);for(I=0;I<G.length;I++){var M=j;G[I]!==""&&(M+="="+encodeURIComponent(String(G[I]))),l.push(M)}}return this.i=l.join("&")};function Wo(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function dI(l,f){f&&!l.j&&(Gr(l),l.i=null,l.g.forEach(function(g,I){var M=I.toLowerCase();I!=M&&(Fy(this,I),By(this,M,g))},l)),l.j=f}function hI(l,f){const g=new Kt;if(a.Image){const I=new Image;I.onload=m(Kr,g,"TestLoadImage: loaded",!0,f,I),I.onerror=m(Kr,g,"TestLoadImage: error",!1,f,I),I.onabort=m(Kr,g,"TestLoadImage: abort",!1,f,I),I.ontimeout=m(Kr,g,"TestLoadImage: timeout",!1,f,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else f(!1)}function fI(l,f){const g=new Kt,I=new AbortController,M=setTimeout(()=>{I.abort(),Kr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:I.signal}).then(j=>{clearTimeout(M),j.ok?Kr(g,"TestPingServer: ok",!0,f):Kr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Kr(g,"TestPingServer: error",!1,f)})}function Kr(l,f,g,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(g)}catch{}}function pI(){this.g=new vh}function mI(l,f,g){const I=g||"";try{Vy(l,function(M,j){let G=M;c(M)&&(G=zo(M)),f.push(I+j+"="+encodeURIComponent(G))})}catch(M){throw f.push(I+"type="+encodeURIComponent("_badmap")),M}}function uu(l){this.l=l.Ub||null,this.j=l.eb||!1}S(uu,ca),uu.prototype.g=function(){return new cu(this.l,this.j)},uu.prototype.i=function(l){return function(){return l}}({});function cu(l,f){Ne.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(cu,Ne),t=cu.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,va(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$y(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function $y(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?ya(this):va(this),this.readyState==3&&$y(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ya(this))},t.Qa=function(l){this.g&&(this.response=l,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(l){l.readyState=4,l.l=null,l.j=null,l.v=null,va(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function va(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function zy(l){let f="";return V(l,function(g,I){f+=I,f+=":",f+=g,f+=`\r
`}),f}function Ah(l,f,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=zy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):je(l,f,g))}function Ze(l){Ne.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ze,Ne);var gI=/^https?$/i,yI=["POST","PUT"];t=Ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wh.g(),this.v=this.o?da(this.o):da(wh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){Hy(this,j);return}if(l=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)g.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const j of I.keys())g.set(j,I.get(j));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yI,f,void 0))||I||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of g)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Hy(this,j)}};function Hy(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Wy(l),du(l)}function Wy(l){l.A||(l.A=!0,Je(l,"complete"),Je(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Je(this,"complete"),Je(this,"abort"),du(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),du(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qy(this):this.bb())},t.bb=function(){qy(this)};function qy(l){if(l.h&&typeof i<"u"&&(!l.v[1]||Tr(l)!=4||l.Z()!=2)){if(l.u&&Tr(l)==4)nu(l.Ea,0,l);else if(Je(l,"readystatechange"),Tr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var I;if(I=G===0){var M=String(l.D).match(My)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),I=!gI.test(M?M.toLowerCase():"")}g=I}if(g)Je(l,"complete"),Je(l,"success");else{l.m=6;try{var j=2<Tr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Wy(l)}}finally{du(l)}}}}function du(l,f){if(l.g){Gy(l);const g=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Je(l,"ready");try{g.onreadystatechange=I}catch{}}}function Gy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Tr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Wr(f)}};function Ky(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vI(l){const f={};l=(l.g&&2<=Tr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(v(l[I]))continue;var g=k(l[I]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=f[M]||[];f[M]=j,j.push(g)}A(f,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Qy(l){this.Aa=0,this.i=[],this.j=new Kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,l),this.cb=wa("retryDelaySeedMs",1e4,l),this.Wa=wa("forwardChannelMaxRetries",2,l),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Py(l&&l.concurrentRequestLimit),this.Da=new pI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qy.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,I){We(0),this.W=l,this.H=f||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=sv(this,null,this.W),fu(this)};function Ih(l){if(Yy(l),l.G==3){var f=l.U++,g=Er(l.I);if(je(g,"SID",l.K),je(g,"RID",f),je(g,"TYPE","terminate"),_a(l,g),f=new qr(l,l.j,f),f.L=2,f.v=lu(Er(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=ov(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ou(f)}rv(l)}function hu(l){l.g&&(bh(l),l.g.cancel(),l.g=null)}function Yy(l){hu(l),l.u&&(a.clearTimeout(l.u),l.u=null),pu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function fu(l){if(!Ny(l.h)&&!l.s){l.s=!0;var f=l.Ga;te||K(),F||(te(),F=!0),U.add(f,l),l.B=0}}function wI(l,f){return ky(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wt(p(l.Ga,l,f),nv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new qr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=C(j),b(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Jy(this,M,f),g=Er(this.I),je(g,"RID",l),je(g,"CVER",22),this.D&&je(g,"X-HTTP-Session-Id",this.D),_a(this,g),j&&(this.O?f="headers="+encodeURIComponent(String(zy(j)))+"&"+f:this.m&&Ah(g,this.m,j)),Ch(this.h,M),this.Ua&&je(g,"TYPE","init"),this.P?(je(g,"$req",f),je(g,"SID","null"),M.T=!0,Eh(M,g,null)):Eh(M,g,f),this.G=2}}else this.G==3&&(l?Xy(this,l):this.i.length==0||Ny(this.h)||Xy(this))};function Xy(l,f){var g;f?g=f.l:g=l.U++;const I=Er(l.I);je(I,"SID",l.K),je(I,"RID",g),je(I,"AID",l.T),_a(l,I),l.m&&l.o&&Ah(I,l.m,l.o),g=new qr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Jy(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ch(l.h,g),Eh(g,I,f)}function _a(l,f){l.H&&V(l.H,function(g,I){je(f,I,g)}),l.l&&Vy({},function(g,I){je(f,I,g)})}function Jy(l,f,g){g=Math.min(l.i.length,g);var I=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const G=["count="+g];j==-1?0<g?(j=M[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let Ve=!0;for(let _t=0;_t<g;_t++){let Ae=M[_t].g;const bt=M[_t].map;if(Ae-=j,0>Ae)j=Math.max(0,M[_t].g-100),Ve=!1;else try{mI(bt,G,"req"+Ae+"_")}catch{I&&I(bt)}}if(Ve){I=G.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,I}function Zy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;te||K(),F||(te(),F=!0),U.add(f,l),l.v=0}}function Rh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wt(p(l.Fa,l),nv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ev(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wt(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),hu(this),ev(this))};function bh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ev(l){l.g=new qr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Er(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),_a(l,f),l.m&&l.o&&Ah(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=lu(Er(f)),g.m=null,g.P=!0,Iy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,hu(this),Rh(this),We(19))};function pu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function tv(l,f){var g=null;if(l.g==f){pu(l),bh(l),l.g=null;var I=2}else if(Sh(l.h,f))g=f.D,Dy(l.h,f),I=1;else return;if(l.G!=0){if(f.o)if(I==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;I=Se(),Je(I,new Qn(I,g)),fu(l)}else Zy(l);else if(M=f.s,M==3||M==0&&0<f.X||!(I==1&&wI(l,f)||I==2&&Rh(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),M){case 1:Xs(l,5);break;case 4:Xs(l,10);break;case 3:Xs(l,6);break;default:Xs(l,2)}}}function nv(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Xs(l,f){if(l.j.info("Error code "+f),f==2){var g=p(l.fb,l),I=l.Xa;const M=!I;I=new Ys(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||iu(I,"https"),lu(I),M?hI(I.toString(),g):fI(I.toString(),g)}else We(2);l.G=0,l.l&&l.l.sa(f),rv(l),Yy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function rv(l){if(l.G=0,l.ka=[],l.l){const f=Oy(l.h);(f.length!=0||l.i.length!=0)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.ra()}}function sv(l,f,g){var I=g instanceof Ys?Er(g):new Ys(g);if(I.g!="")f&&(I.g=f+"."+I.g),au(I,I.s);else{var M=a.location;I=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var j=new Ys(null);I&&iu(j,I),f&&(j.g=f),M&&au(j,M),g&&(j.l=g),I=j}return g=l.D,f=l.ya,g&&f&&je(I,g,f),je(I,"VER",l.la),_a(l,I),I}function ov(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ze(new uu({eb:g})):new Ze(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iv(){}t=iv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mu(){}mu.prototype.g=function(l,f){return new on(l,f)};function on(l,f){Ne.call(this),this.g=new Qy(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new qo(this)}S(on,Ne),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ih(this.g)},on.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=zo(l),l=g);f.i.push(new nI(f.Ya++,l)),f.G==3&&fu(f)},on.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,on.aa.N.call(this)};function av(l){Ks.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}S(av,Ks);function lv(){mn.call(this),this.status=1}S(lv,mn);function qo(l){this.g=l}S(qo,iv),qo.prototype.ua=function(){Je(this.g,"a")},qo.prototype.ta=function(l){Je(this.g,new av(l))},qo.prototype.sa=function(l){Je(this.g,new lv)},qo.prototype.ra=function(){Je(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,_S=function(){return new mu},wS=function(){return Se()},vS=_r,qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ru.NO_ERROR=0,ru.TIMEOUT=8,ru.HTTP_ERROR=6,hc=ru,Sy.COMPLETE="complete",yS=Sy,ha.EventType=Gs,Gs.OPEN="a",Gs.CLOSE="b",Gs.ERROR="c",Gs.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,La=ha,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,gS=Ze}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore",Iw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Vg("@firebase/firestore");function Jo(){return Ro.logLevel}function J(t,...e){if(Ro.logLevel<=Te.DEBUG){const n=e.map($g);Ro.debug(`Firestore (${ra}): ${t}`,...n)}}function Fr(t,...e){if(Ro.logLevel<=Te.ERROR){const n=e.map($g);Ro.error(`Firestore (${ra}): ${t}`,...n)}}function Wi(t,...e){if(Ro.logLevel<=Te.WARN){const n=e.map($g);Ro.warn(`Firestore (${ra}): ${t}`,...n)}}function $g(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ES(t,r,n)}function ES(t,e,n){let r=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ES(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class DM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OM{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Is,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Is)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new TS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class VM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new VM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jg(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,J("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jM(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Gp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return yf(s)===yf(o)?we(s,o):yf(s)?1:-1}return we(t.length,e.length)}const FM=55296,UM=57343;function yf(t){const e=t.charCodeAt(0);return e>=FM&&e<=UM}function qi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__name__";class Jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Jn.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return we(e.length,n.length)}static compareSegments(e,n){const r=Jn.isNumericId(e),s=Jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):Gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class Me extends Jn{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const BM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Jn{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return BM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new xt([bw])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Me.fromString(e))}static fromName(e){return new re(Me.fromString(e).popFirst(5))}static empty(){return new re(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $M(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pw(t){if(!re.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(re.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kl(t,e){if(!SS(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=-62135596800,Dw=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Dw);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kw)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dw}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:dt("string",Be._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Be(0,0))}static max(){return new le(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function zM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Os(s,re.empty(),e)}function HM(t){return new Os(t.readTime,t.key,bl)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(le.min(),re.empty(),bl)}static max(){return new Os(le.max(),re.empty(),bl)}}function WM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==qM)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},u=>r(u))}),i=!0,o===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{i[c]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function KM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function Zd(t){return t==null}function sd(t){return t===0&&1/t==-1/0}function QM(t){return typeof t=="number"&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="";function YM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ow(e)),e=XM(t.get(n),e);return Ow(e)}function XM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case CS:n+="";break;default:n+=o}}return n}function Ow(t){return t+CS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=s??Tt.EMPTY,this.right=o??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Tt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new pt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IS("Invalid base64 string: "+o):o}}(e);return new It(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const JM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=JM.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="server_timestamp",bS="__type__",PS="__previous_value__",NS="__local_write_time__";function Wg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bS])==null?void 0:r.stringValue)===RS}function eh(t){const e=t.mapValue.fields[PS];return Wg(e)?eh(e):e}function Pl(t){const e=Vs(t.mapValue.fields[NS].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,s,o,i,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const od="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="__type__",DS="__max__",zu={mapValue:{fields:{__type__:{stringValue:DS}}}},OS="__vector__",id="value";function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wg(t)?4:tL(t)?9007199254740991:eL(t)?10:11:oe(28295,{value:t})}function mr(t,e){if(t===e)return!0;const n=Ls(t);if(n!==Ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=Vs(s.timestampValue),a=Vs(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ms(s.bytesValue).isEqual(Ms(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return rt(s.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return rt(s.integerValue)===rt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=rt(s.doubleValue),a=rt(o.doubleValue);return i===a?sd(i)===sd(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(Vw(i)!==Vw(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!mr(i[u],a[u])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function kl(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;const n=Ls(t),r=Ls(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=rt(o.integerValue||o.doubleValue),u=rt(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Lw(t.timestampValue,e.timestampValue);case 4:return Lw(Pl(t),Pl(e));case 5:return Gp(t.stringValue,e.stringValue);case 6:return function(o,i){const a=Ms(o),u=Ms(i);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),u=i.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=we(a[c],u[c]);if(d!==0)return d}return we(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=we(rt(o.latitude),rt(i.latitude));return a!==0?a:we(rt(o.longitude),rt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jw(t.arrayValue,e.arrayValue);case 10:return function(o,i){var p,m,S,y;const a=o.fields||{},u=i.fields||{},c=(p=a[id])==null?void 0:p.arrayValue,d=(m=u[id])==null?void 0:m.arrayValue,h=we(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:jw(c,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===zu.mapValue&&i===zu.mapValue)return 0;if(o===zu.mapValue)return 1;if(i===zu.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=i.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=Gp(u[h],d[h]);if(p!==0)return p;const m=Gi(a[u[h]],c[d[h]]);if(m!==0)return m}return we(u.length,d.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function Lw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Vs(t),r=Vs(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function jw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Gi(n[s],r[s]);if(o)return o}return we(n.length,r.length)}function Ki(t){return Kp(t)}function Kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Kp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Kp(n.fields[i])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function fc(t){switch(Ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eh(t);return e?16+fc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+fc(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Mo(r.fields,(o,i)=>{s+=o.length+fc(i)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function Fw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qp(t){return!!t&&"integerValue"in t}function qg(t){return!!t&&"arrayValue"in t}function Uw(t){return!!t&&"nullValue"in t}function Bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pc(t){return!!t&&"mapValue"in t}function eL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kS])==null?void 0:r.stringValue)===OS}function el(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return{...t}}function tL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=xt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=el(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new _n(el(this.value))}}function VS(t){const e=[];return Mo(t.fields,(n,r)=>{const s=new xt([n]);if(pc(r)){const o=VS(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,le.min(),le.min(),le.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,le.min(),le.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,le.min(),le.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=re.comparator(re.fromName(i.referenceValue),n.key):r=Gi(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function nL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class ct extends MS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sL(e,n,r):n==="array-contains"?new aL(e,r):n==="in"?new lL(e,r):n==="not-in"?new uL(e,r):n==="array-contains-any"?new cL(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oL(e,r):new iL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gi(n,this.value)):n!==null&&Ls(this.value)===Ls(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends MS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return LS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LS(t){return t.op==="and"}function jS(t){return rL(t)&&LS(t)}function rL(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Yp(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(jS(t))return t.filters.map(e=>Yp(e)).join(",");{const e=t.filters.map(n=>Yp(n)).join(",");return`${t.op}(${e})`}}function FS(t,e){return t instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&mr(r.value,s.value)}(t,e):t instanceof Kn?function(r,s){return s instanceof Kn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&FS(i,s.filters[a]),!0):!1}(t,e):void oe(19439)}function US(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"}(t):"Filter"}class sL extends ct{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class oL extends ct{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iL extends ct{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class aL extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qg(n)&&kl(n.arrayValue,this.value)}}class lL extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class uL extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class cL extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.Te=null}}function Hw(t,e=null,n=[],r=[],s=null,o=null,i=null){return new dL(t,e,n,r,s,o,i)}function Gg(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ki(r)).join(",")),e.Te=n}return e.Te}function Kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function Xp(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hL(t,e,n,r,s,o,i,a){return new Ql(t,e,n,r,s,o,i,a)}function th(t){return new Ql(t)}function Ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $S(t){return t.collectionGroup!==null}function tl(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new pt(xt.comparator);return i.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ld(o,r))}),n.has(xt.keyField().canonicalString())||e.Ie.push(new ld(xt.keyField(),r))}return e.Ie}function ur(t){const e=ue(t);return e.Ee||(e.Ee=fL(e,tl(t))),e.Ee}function fL(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ld(s.field,o)});const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jp(t,e){const n=t.filters.concat([e]);return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zp(t,e,n){return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nh(t,e){return Kg(ur(t),ur(e))&&t.limitType===e.limitType}function zS(t){return`${Gg(ur(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>US(s)).join(", ")}]`),Zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ki(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ki(s)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function rh(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of tl(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,u){const c=$w(i,a,u);return i.inclusive?c<=0:c<0}(r.startAt,tl(r),s)||r.endAt&&!function(i,a,u){const c=$w(i,a,u);return i.inclusive?c>=0:c>0}(r.endAt,tl(r),s))}(t,e)}function pL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HS(t){return(e,n)=>{let r=!1;for(const s of tl(t)){const o=mL(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function mL(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,i,a){const u=i.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Gi(u,c):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return AS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Xe(re.comparator);function Ur(){return gL}const WS=new Xe(re.comparator);function ja(...t){let e=WS;for(const n of t)e=e.insert(n.key,n);return e}function qS(t){let e=WS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return nl()}function GS(){return nl()}function nl(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const yL=new Xe(re.comparator),vL=new pt(re.comparator);function _e(...t){let e=vL;for(const n of t)e=e.add(n);return e}const wL=new pt(we);function _L(){return wL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function KS(t){return{integerValue:""+t}}function EL(t,e){return QM(e)?KS(e):Qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function TL(t,e,n){return t instanceof Dl?function(s,o){const i={fields:{[bS]:{stringValue:RS},[NS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Wg(o)&&(o=eh(o)),o&&(i.fields[PS]=o),{mapValue:i}}(n,e):t instanceof Ol?YS(t,e):t instanceof Vl?XS(t,e):function(s,o){const i=QS(s,o),a=qw(i)+qw(s.Ae);return Qp(i)&&Qp(s.Ae)?KS(a):Qg(s.serializer,a)}(t,e)}function xL(t,e,n){return t instanceof Ol?YS(t,e):t instanceof Vl?XS(t,e):n}function QS(t,e){return t instanceof ud?function(r){return Qp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Dl extends sh{}class Ol extends sh{constructor(e){super(),this.elements=e}}function YS(t,e){const n=JS(e);for(const r of t.elements)n.some(s=>mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends sh{constructor(e){super(),this.elements=e}}function XS(t,e){let n=JS(e);for(const r of t.elements)n=n.filter(s=>!mr(s,r));return{arrayValue:{values:n}}}class ud extends sh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qw(t){return rt(t.integerValue||t.doubleValue)}function JS(t){return qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.field=e,this.transform=n}}function CL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ol&&s instanceof Ol||r instanceof Vl&&s instanceof Vl?qi(r.elements,s.elements,mr):r instanceof ud&&s instanceof ud?mr(r.Ae,s.Ae):r instanceof Dl&&s instanceof Dl}(t.transform,e.transform)}class AL{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oh{}function ZS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tC(t.key,Nr.none()):new Yl(t.key,t.data,Nr.none());{const n=t.data,r=_n.empty();let s=new pt(xt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new jo(t.key,r,new Bn(s.toArray()),Nr.none())}}function IL(t,e,n){t instanceof Yl?function(s,o,i){const a=s.value.clone(),u=Kw(s.fieldTransforms,o,i.transformResults);a.setAll(u),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jo?function(s,o,i){if(!mc(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=Kw(s.fieldTransforms,o,i.transformResults),u=o.data;u.setAll(eC(s)),u.setAll(a),o.convertToFoundDocument(i.version,u).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof Yl?function(o,i,a,u){if(!mc(o.precondition,i))return a;const c=o.value.clone(),d=Qw(o.fieldTransforms,u,i);return c.setAll(d),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jo?function(o,i,a,u){if(!mc(o.precondition,i))return a;const c=Qw(o.fieldTransforms,u,i),d=i.data;return d.setAll(eC(o)),d.setAll(c),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,i,a){return mc(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function RL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=QS(r.transform,s||null);o!=null&&(n===null&&(n=_n.empty()),n.set(r.field,o))}return n||null}function Gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qi(r,s,(o,i)=>CL(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yl extends oh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jo extends oh{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function eC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kw(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,xL(i,a,n[s]))}return r}function Qw(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,TL(o,i,e))}return r}class tC extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bL extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IL(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GS();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const u=ZS(i,a);u!==null&&r.set(s.key,u),i.isValidDocument()||i.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(n,r)=>Gw(n,r))&&qi(this.baseMutations,e.baseMutations,(n,r)=>Gw(n,r))}}class Yg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return yL}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Yg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Ee;function DL(t){switch(t){case $.OK:return oe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function nC(t){if(t===void 0)return Fr("GRPC error has no .code"),$.UNKNOWN;switch(t){case lt.OK:return $.OK;case lt.CANCELLED:return $.CANCELLED;case lt.UNKNOWN:return $.UNKNOWN;case lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case lt.INTERNAL:return $.INTERNAL;case lt.UNAVAILABLE:return $.UNAVAILABLE;case lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case lt.NOT_FOUND:return $.NOT_FOUND;case lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case lt.ABORTED:return $.ABORTED;case lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case lt.DATA_LOSS:return $.DATA_LOSS;default:return oe(39323,{code:t})}}(Ee=lt||(lt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new As([4294967295,4294967295],0);function Yw(t){const e=OL().encode(t),n=new mS;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new As([n,r],0),new As([s,o],0)]}class Xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(r<0)throw new Fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=As.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(As.fromNumber(r)));return s.compare(VL)===1&&(s=new As([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Yw(e),[r,s]=Xw(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Xg(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.ge===0)return;const n=Yw(e),[r,s]=Xw(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ih(le.min(),s,new Xe(we),Ur(),_e())}}class Xl{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xl(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rC{constructor(e,n){this.targetId=e,this.Ce=n}}class sC{constructor(e,n,r=It.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Jw{constructor(){this.ve=0,this.Fe=Zw(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:o})}}),new Xl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Zw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ML{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=Hu(),this.He=Hu(),this.Ye=new Xe(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Xp(o))if(r===0){const i=new re(o.path);this.et(n,i,jt.newNoDocument(i,le.min()))}else Pe(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const a=this.ut(e),u=a?this.ct(a,e,i):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=Ms(r).toUint8Array()}catch(u){if(u instanceof IS)return Wi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Xg(i,s,o)}catch(u){return Wi(u instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const a=this.ot(i);if(a){if(o.current&&Xp(a.target)){const u=new re(a.target.path);this.It(u).has(i)||this.Et(i,u)||this.et(i,u,jt.newNoDocument(u,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=_e();this.He.forEach((o,i)=>{let a=!0;i.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new ih(e,n,this.Ye,this.je,r);return this.je=Ur(),this.Je=Hu(),this.He=Hu(),this.Ye=new Xe(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Jw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hu(){return new Xe(re.comparator)}function Zw(){return new Xe(re.comparator)}const LL={asc:"ASCENDING",desc:"DESCENDING"},jL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FL={and:"AND",or:"OR"};class UL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(t,e){return t.useProto3Json||Zd(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BL(t,e){return cd(t,e.toTimestamp())}function cr(t){return Pe(!!t,49232),le.fromTimestamp(function(n){const r=Vs(n);return new Be(r.seconds,r.nanos)}(t))}function Jg(t,e){return tm(t,e).canonicalString()}function tm(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){const e=Me.fromString(t);return Pe(dC(e),10190,{key:e.toString()}),e}function nm(t,e){return Jg(t.databaseId,e.path)}function vf(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(lC(n))}function aC(t,e){return Jg(t.databaseId,e)}function $L(t){const e=iC(t);return e.length===4?Me.emptyPath():lC(e)}function rm(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lC(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function e_(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function zL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Pe(d===void 0||typeof d=="string",58123),It.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),It.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(c){const d=c.code===void 0?$.UNKNOWN:nC(c.code);return new Y(d,c.message||"")}(i);n=new sC(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vf(t,r.document.name),o=cr(r.document.updateTime),i=r.document.createTime?cr(r.document.createTime):le.min(),a=new _n({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(s,o,i,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vf(t,r.document),o=r.readTime?cr(r.readTime):le.min(),i=jt.newNoDocument(s,o),a=r.removedTargetIds||[];n=new gc([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vf(t,r.document),o=r.removedTargetIds||[];n=new gc([],o,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new kL(s,o),a=r.targetId;n=new rC(a,i)}}return n}function HL(t,e){let n;if(e instanceof Yl)n={update:e_(t,e.key,e.value)};else if(e instanceof tC)n={delete:nm(t,e.key)};else if(e instanceof jo)n={update:e_(t,e.key,e.data),updateMask:ZL(e.fieldMask)};else{if(!(e instanceof bL))return oe(16599,{Vt:e.type});n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof Dl)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ol)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ud)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:BL(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(t,e.precondition)),n}function WL(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?cr(s.updateTime):cr(o);return i.isEqual(le.min())&&(i=cr(o)),new AL(i,s.transformResults||[])}(n,e))):[]}function qL(t,e){return{documents:[aC(t,e.path)]}}function GL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aC(t,s);const o=function(c){if(c.length!==0)return cC(Kn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:ei(p.field),direction:YL(p.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function KL(t){let e=$L(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=uC(h);return p instanceof Kn&&jS(p)?p.getFilters():[p]}(n.where));let i=[];n.orderBy&&(i=function(h){return h.map(p=>function(S){return new ld(ti(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Zd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,m=h.values||[];return new ad(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new ad(m,p)}(n.endAt)),hL(e,s,i,o,a,"F",u,c)}function QL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ti(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ti(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ti(n.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ti(n.unaryFilter.field);return ct.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(ti(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>uC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function YL(t){return LL[t]}function XL(t){return jL[t]}function JL(t){return FL[t]}function ei(t){return{fieldPath:t.canonicalString()}}function ti(t){return xt.fromServerFormat(t.fieldPath)}function cC(t){return t instanceof ct?function(n){if(n.op==="=="){if(Bw(n.value))return{unaryFilter:{field:ei(n.field),op:"IS_NAN"}};if(Uw(n.value))return{unaryFilter:{field:ei(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bw(n.value))return{unaryFilter:{field:ei(n.field),op:"IS_NOT_NAN"}};if(Uw(n.value))return{unaryFilter:{field:ei(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ei(n.field),op:XL(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(s=>cC(s));return r.length===1?r[0]:{compositeFilter:{op:JL(n.op),filters:r}}}(t):oe(54877,{filter:t})}function ZL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,s,o=le.min(),i=le.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.yt=e}}function t4(t){const e=KL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Cn=new r4}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Os.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(Me.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hC=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(hC,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qi(0)}static cr(){return new Qi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",s4=1048576;function r_([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class o4{constructor(e){this.Ir=e,this.buffer=new pt(r_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();r_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oa(n)?J(n_,"Ignoring IndexedDB error during garbage collection: ",n):await sa(n)}await this.Vr(3e5)})}}class a4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Jd.ce);const r=new o4(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(t_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,i=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Jo()<=Te.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(a-i)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:h})))}}function l4(t,e){return new a4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&rl(r.mutation,s,Bn.empty(),Be.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=co();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=ja();return o.forEach((a,u)=>{i=i.insert(a,u.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=Ur();const i=nl(),a=function(){return nl()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof jo)?o=o.insert(c.key,c):d!==void 0?(i.set(c.key,d.mutation.getFieldMask()),rl(d.mutation,c,d.mutation.getFieldMask(),Be.now())):i.set(c.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>i.set(c,d)),n.forEach((c,d)=>a.set(c,new c4(d,i.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=nl();let s=new Xe((i,a)=>i-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Bn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(s.get(a.batchId)||_e()).add(u);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=GS();d.forEach(p=>{if(!o.has(p)){const m=ZS(n.get(p),r.get(p));m!==null&&h.set(p,m),o=o.add(p)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,h))}return z.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):z.resolve(co());let a=bl,u=o;return i.next(c=>z.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,_e())).next(d=>({batchId:a,changes:qS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=ja();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=ja();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,u=>{const c=function(h,p){return new Ql(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{i=i.insert(h,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((u,c)=>{const d=c.getKey();i.get(d)===null&&(i=i.insert(d,jt.newInvalidDocument(d)))});let a=ja();return i.forEach((u,c)=>{const d=o.get(u);d!==void 0&&rl(d.mutation,c,Bn.empty(),Be.now()),rh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:cr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:t4(s.bundledQuery),readTime:cr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new Xe(re.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return z.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=co(),o=n.length+1,i=new re(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Xe((c,d)=>c-d);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=co(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=co(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new NL(n,r));let o=this.qr.get(n);o===void 0&&(o=_e(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Qr=new pt(mt.$r),this.Ur=new pt(mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new Me([])),r=new mt(n,e),s=new mt(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new Me([])),r=new mt(n,e),s=new mt(n,e+1);let o=_e();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(mt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new PL(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Zr=this.Zr.add(new mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(i)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const a=this.Xr(i.Yr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(we);return n.forEach(s=>{const o=new mt(s,0),i=new mt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;re.isDocumentKey(o)||(o=o.child(""));const i=new mt(new re(o),0);let a=new pt(we);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Yr)),!0)},i),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const o=new mt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new mt(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.ri=e,this.docs=function(){return new Xe(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():jt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ur();const i=n.path,a=new re(i.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||WM(HM(d),r)<=0||(s.has(d.key)||rh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y4(this)}getSize(e){return z.resolve(this.size)}}class y4 extends u4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.persistence=e,this.si=new Lo(n=>Gg(n),Kg),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new Zg,this.targetCount=0,this.ai=Qi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(o).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jd(0),this.li=!1,this.li=!0,this.hi=new p4,this.referenceDelegate=e(this),this.Pi=new v4(this),this.indexManager=new n4,this.remoteDocumentCache=function(s){return new g4(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new e4(n),this.Ii=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new m4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new w4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class w4 extends GM{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Ri=new Zg,this.Vi=null}static mi(e){return new ey(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=re.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.pi=new Lo(r=>YM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=l4(this,n)}static mi(e,n){return new dd(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(a=>{a||(r++,o.removeEntry(i,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fc(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ty(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return NO()?8:KM(bO())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new _4;return this.Ss(e,n,i).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,i,a.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Jo()<=Te.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Jo()<=Te.DEBUG&&J("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Jo()<=Te.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):z.resolve())}ys(e,n){if(Ww(n))return z.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zp(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=_e(...o);return this.ps.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,i,u.readTime)?this.ys(e,Zp(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,s){return Ww(n)||s.isEqual(le.min())?z.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?z.resolve(null):(Jo()<=Te.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zo(n)),this.vs(e,i,n,zM(s,bl)).next(a=>a))})}Ds(e,n){let r=new pt(HS(e));return n.forEach((s,o)=>{rh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Jo()<=Te.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Os.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="LocalStore",T4=3e8;class x4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Xe(we),this.xs=new Lo(o=>Gg(o),Kg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function S4(t,e,n,r){return new x4(t,e,n,r)}async function pC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let u=_e();for(const c of s){i.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:i,addedBatchIds:a}))})})}function C4(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let m=z.resolve();return p.forEach(S=>{m=m.next(()=>d.getEntry(u,S)).next(y=>{const E=c.docVersions.get(S);Pe(E!==null,48541),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function mC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function A4(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(It.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=T4?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let u=Ur(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(I4(o,i,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(le.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(h=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ms=s,o))}function I4(t,e,n){let r=_e(),s=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Ur();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),i=i.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),i=i.insert(a,u)):J(ny,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:i,qs:s}})}function R4(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b4(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,z.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new ms(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sm(t,e,n){const r=ue(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!oa(i))throw i;J(ny,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function s_(t,e,n){const r=ue(t);let s=le.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",i=>function(u,c,d){const h=ue(u),p=h.xs.get(d);return p!==void 0?z.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(r,i,ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:le.min(),n?o:_e())).next(a=>(P4(r,pL(e),a),{documents:a,Qs:o})))}function P4(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class o_{constructor(){this.activeTargetIds=_L()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N4{constructor(){this.Mo=new o_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(i_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function om(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",D4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===od?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=om(),a=this.zo(e,n.toUriEncodedString());J(wf,`Sending RPC '${e}' ${i}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,o);const{host:c}=new URL(a),d=Qd(c);return this.Jo(e,a,u,r,d).then(h=>(J(wf,`Received RPC '${e}' ${i}: `,h),h),h=>{throw Wi(wf,`RPC '${e}' ${i} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=D4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class M4 extends O4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=om();return new Promise((a,u)=>{const c=new gS;c.setWithCredentials(!0),c.listenOnce(yS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hc.NO_ERROR:const h=c.getResponseJson();J(Ot,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case hc.TIMEOUT:J(Ot,`RPC '${e}' ${i} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const p=c.getStatus();if(J(Ot,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const y=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(S.status);u(new Y(y,S.message))}else u(new Y($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:i,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{J(Ot,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);J(Ot,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=om(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=_S(),a=wS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");J(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,u);const h=i.createWebChannel(d,u);this.I_(h);let p=!1,m=!1;const S=new V4({Yo:E=>{m?J(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(J(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),J(Ot,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),y=(E,_,v)=>{E.listen(_,x=>{try{v(x)}catch(P){setTimeout(()=>{throw P},0)}})};return y(h,La.EventType.OPEN,()=>{m||(J(Ot,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),y(h,La.EventType.CLOSE,()=>{m||(m=!0,J(Ot,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(h))}),y(h,La.EventType.ERROR,E=>{m||(m=!0,Wi(Ot,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),y(h,La.EventType.MESSAGE,E=>{var _;if(!m){const v=E.data[0];Pe(!!v,16349);const x=v,P=(x==null?void 0:x.error)||((_=x[0])==null?void 0:_.error);if(P){J(Ot,`RPC '${e}' stream ${s} received error:`,P);const O=P.status;let V=function(R){const b=lt[R];if(b!==void 0)return nC(b)}(O),A=P.message;V===void 0&&(V=$.INTERNAL,A="Unknown error status: "+O+" with message "+P.message),m=!0,S.a_(new Y(V,A)),h.close()}else J(Ot,`RPC '${e}' stream ${s} received:`,v),S.u_(v)}}),y(a,vS.STAT_EVENT,E=>{E.stat===qp.PROXY?J(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===qp.NOPROXY&&J(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){return new UL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class yC{constructor(e,n,r,s,o,i,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L4 extends yC{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zL(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?le.min():i.readTime?cr(i.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(o,i){let a;const u=i.target;if(a=Xp(u)?{documents:qL(o,u)}:{query:GL(o,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=oC(o,i.resumeToken);const c=em(o,i.expectedCount);c!==null&&(a.expectedCount=c)}else if(i.snapshotVersion.compareTo(le.min())>0){a.readTime=cd(o,i.snapshotVersion.toTimestamp());const c=em(o,i.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=QL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.q_(n)}}class j4 extends yC{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WL(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{}class U4 extends F4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,tm(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Ho(e,tm(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class B4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class $4{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{Fo(this)&&(J(bo,"Restarting streams for network reachability change."),await async function(u){const c=ue(u);c.Ea.add(4),await Jl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await lh(c)}(this))})}),this.Ra=new B4(r,s)}}async function lh(t){if(Fo(t))for(const e of t.da)await e(!0)}async function Jl(t){for(const e of t.da)await e(!1)}function vC(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iy(n)?oy(n):ia(n).O_()&&sy(n,e))}function ry(t,e){const n=ue(t),r=ia(n);n.Ia.delete(e),r.O_()&&wC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fo(n)&&n.Ra.set("Unknown"))}function sy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).Y_(e)}function wC(t,e){t.Va.Ue(e),ia(t).Z_(e)}function oy(t){t.Va=new ML({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.Ra.ua()}function iy(t){return Fo(t)&&!ia(t).x_()&&t.Ia.size>0}function Fo(t){return ue(t).Ea.size===0}function _C(t){t.Va=void 0}async function z4(t){t.Ra.set("Online")}async function H4(t){t.Ia.forEach((e,n)=>{sy(t,e)})}async function W4(t,e){_C(t),iy(t)?(t.Ra.ha(e),oy(t)):t.Ra.set("Unknown")}async function q4(t,e,n){if(t.Ra.set("Online"),e instanceof sC&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){J(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hd(t,r)}else if(e instanceof gc?t.Va.Ze(e):e instanceof rC?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await mC(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Va.Tt(i);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.Ia.get(c);d&&o.Ia.set(c,d.withResumeToken(u.resumeToken,i))}}),a.targetMismatches.forEach((u,c)=>{const d=o.Ia.get(u);if(!d)return;o.Ia.set(u,d.withResumeToken(It.EMPTY_BYTE_STRING,d.snapshotVersion)),wC(o,u);const h=new ms(d.target,u,c,d.sequenceNumber);sy(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J(bo,"Failed to raise snapshot:",r),await hd(t,r)}}async function hd(t,e,n){if(!oa(e))throw e;t.Ea.add(1),await Jl(t),t.Ra.set("Offline"),n||(n=()=>mC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lh(t)})}function EC(t,e){return e().catch(n=>hd(t,n,e))}async function uh(t){const e=ue(t),n=js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;G4(e);)try{const s=await R4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,K4(e,s)}catch(s){await hd(e,s)}TC(e)&&xC(e)}function G4(t){return Fo(t)&&t.Ta.length<10}function K4(t,e){t.Ta.push(e);const n=js(t);n.O_()&&n.X_&&n.ea(e.mutations)}function TC(t){return Fo(t)&&!js(t).x_()&&t.Ta.length>0}function xC(t){js(t).start()}async function Q4(t){js(t).ra()}async function Y4(t){const e=js(t);for(const n of t.Ta)e.ea(n.mutations)}async function X4(t,e,n){const r=t.Ta.shift(),s=Yg.from(r,e,n);await EC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uh(t)}async function J4(t,e){e&&js(t).X_&&await async function(r,s){if(function(i){return DL(i)&&i!==$.ABORTED}(s.code)){const o=r.Ta.shift();js(r).B_(),await EC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await uh(r)}}(t,e),TC(t)&&xC(t)}async function u_(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J(bo,"RemoteStore received new credentials");const r=Fo(n);n.Ea.add(3),await Jl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lh(n)}async function Z4(t,e){const n=ue(t);e?(n.Ea.delete(2),await lh(n)):e||(n.Ea.add(2),await Jl(n),n.Ra.set("Unknown"))}function ia(t){return t.ma||(t.ma=function(n,r,s){const o=ue(n);return o.sa(),new L4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:z4.bind(null,t),t_:H4.bind(null,t),r_:W4.bind(null,t),H_:q4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),iy(t)?oy(t):t.Ra.set("Unknown")):(await t.ma.stop(),_C(t))})),t.ma}function js(t){return t.fa||(t.fa=function(n,r,s){const o=ue(n);return o.sa(),new j4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q4.bind(null,t),r_:J4.bind(null,t),ta:Y4.bind(null,t),na:X4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await uh(t)):(await t.fa.stop(),t.Ta.length>0&&(J(bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new ay(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),oa(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{static emptySet(e){return new xi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new Xe(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yi{constructor(e,n,r,s,o,i,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Yi(e,n,xi.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tj{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),o=s.queries;s.queries=d_(),o.forEach((i,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function d_(){return new Lo(t=>zS(t),nh)}async function SC(t,e){const n=ue(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new ej,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=ly(i,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&uy(n)}async function CC(t,e){const n=ue(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nj(t,e){const n=ue(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.Sa)a.Fa(s)&&(r=!0);i.wa=s}}r&&uy(n)}function rj(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function uy(t){t.Ca.forEach(e=>{e.next()})}var im,h_;(h_=im||(im={})).Ma="default",h_.Cache="cache";class AC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.key=e}}class RC{constructor(e){this.key=e}}class sj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=HS(e),this.tu=new xi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new c_,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=rh(this.query,h)?h:null,S=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?S!==y&&(r.track({type:3,doc:m}),E=!0):this.su(p,m)||(r.track({type:2,doc:m}),E=!0,(u&&this.eu(m,u)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(m?(i=i.add(m),o=y?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,h)=>function(m,S){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:E})}};return y(m)-y(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,c=u!==this.Za;return this.Za=u,i.length!==0||c?{snapshot:new Yi(this.query,e.tu,o,i,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new RC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new IC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cy="SyncEngine";class oj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ij{constructor(e){this.key=e,this.hu=!1}}class aj{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new Lo(a=>zS(a),nh),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(re.comparator),this.Au=new Map,this.Ru=new Zg,this.Vu={},this.mu=new Map,this.fu=Qi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lj(t,e,n=!0){const r=OC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await bC(r,e,n,!0),s}async function uj(t,e){const n=OC(t);await bC(n,e,!0,!1)}async function bC(t,e,n,r){const s=await b4(t.localStore,ur(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await cj(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&vC(t.remoteStore,s),a}async function cj(t,e,n,r,s){t.pu=(h,p,m)=>async function(y,E,_,v){let x=E.view.ru(_);x.Cs&&(x=await s_(y.localStore,E.query,!1).then(({documents:A})=>E.view.ru(A,x)));const P=v&&v.targetChanges.get(E.targetId),O=v&&v.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(x,y.isPrimaryClient,P,O);return p_(y,E.targetId,V.au),V.snapshot}(t,h,p,m);const o=await s_(t.localStore,e,!0),i=new sj(e,o.Qs),a=i.ru(o.documents),u=Xl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=i.applyChanges(a,t.isPrimaryClient,u);p_(t,n,c.au);const d=new oj(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function dj(t,e,n){const r=ue(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!nh(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ry(r.remoteStore,s.targetId),am(r,s.targetId)}).catch(sa)):(am(r,s.targetId),await sm(r.localStore,s.targetId,!0))}async function hj(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ry(n.remoteStore,r.targetId))}async function fj(t,e,n){const r=_j(t);try{const s=await function(i,a){const u=ue(i),c=Be.now(),d=a.reduce((m,S)=>m.add(S.key),_e());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Ur(),y=_e();return u.Ns.getEntries(m,d).next(E=>{S=E,S.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,S)).next(E=>{h=E;const _=[];for(const v of a){const x=RL(v,h.get(v.key).overlayedDocument);x!=null&&_.push(new jo(v.key,x,VS(x.value.mapValue),Nr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(h,y);return u.documentOverlayCache.saveOverlays(m,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:qS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new Xe(we)),c=c.insert(a,u),i.Vu[i.currentUser.toKey()]=c}(r,s.batchId,n),await Zl(r,s.changes),await uh(r.remoteStore)}catch(s){const o=ly(s,"Failed to persist write");n.reject(o)}}async function PC(t,e){const n=ue(t);try{const r=await A4(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?Pe(i.hu,14607):s.removedDocuments.size>0&&(Pe(i.hu,42227),i.hu=!1))}),await Zl(n,r,e)}catch(r){await sa(r)}}function f_(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const a=i.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const u=ue(i);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&uy(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pj(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new Xe(re.comparator);i=i.insert(o,jt.newNoDocument(o,le.min()));const a=_e().add(o),u=new ih(le.min(),new Map,new Xe(we),i,a);await PC(r,u),r.du=r.du.remove(o),r.Au.delete(e),dy(r)}else await sm(r.localStore,e,!1).then(()=>am(r,e,n)).catch(sa)}async function mj(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await C4(n.localStore,e);kC(n,r,null),NC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(n,s)}catch(s){await sa(s)}}async function gj(t,e,n){const r=ue(t);try{const s=await function(i,a){const u=ue(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(Pe(h!==null,37113),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);kC(r,e,n),NC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zl(r,s)}catch(s){await sa(s)}}function NC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function kC(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||DC(t,r)})}function DC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ry(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dy(t))}function p_(t,e,n){for(const r of n)r instanceof IC?(t.Ru.addReference(r.key,e),yj(t,r)):r instanceof RC?(J(cy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||DC(t,r.key)):oe(19791,{wu:r})}function yj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(J(cy,"New document in limbo: "+n),t.Eu.add(r),dy(t))}function dy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new ij(n)),t.du=t.du.insert(n,r),vC(t.remoteStore,new ms(ur(th(n.path)),r,"TargetPurposeLimboResolution",Jd.ce))}}async function Zl(t,e,n){const r=ue(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{i.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){s.push(c);const h=ty.As(u.targetId,c);o.push(h)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(u,c){const d=ue(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(c,p=>z.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>z.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!oa(h))throw h;J(ny,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.Ms.get(p),S=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,y)}}}(r.localStore,o))}async function vj(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J(cy,"User change. New user:",e.toKey());const r=await pC(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new Y($.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(n,r.Ls)}}function wj(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const a=n.Tu.get(i);s=s.unionWith(a.view.nu)}return s}}function OC(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pj.bind(null,e),e.Pu.H_=nj.bind(null,e.eventManager),e.Pu.yu=rj.bind(null,e.eventManager),e}function _j(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gj.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S4(this.persistence,new E4,e.initialUser,this.serializer)}Cu(e){return new fC(ey.mi,this.serializer)}Du(e){return new N4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class Ej extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pe(this.persistence.referenceDelegate instanceof dd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new fC(r=>dd.mi(r,n),this.serializer)}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vj.bind(null,this.syncEngine),await Z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tj}()}createDatastore(e){const n=ah(e.databaseInfo.databaseId),r=function(o){return new M4(o)}(e.databaseInfo);return function(o,i,a,u){return new U4(o,i,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new $4(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>f_(this.syncEngine,n,0),function(){return a_.v()?new a_:new k4}())}createSyncEngine(e,n){return function(s,o,i,a,u,c,d){const h=new aj(s,o,i,a,u,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ue(s);J(bo,"RemoteStore shutting down."),o.Ea.add(5),await Jl(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class Tj{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mt.UNAUTHENTICATED,this.clientId=zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{J(Fs,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(J(Fs,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ly(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ef(t,e){t.asyncQueue.verifyOperationInProgress(),J(Fs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xj(t);J(Fs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>u_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>u_(e.remoteStore,s)),t._onlineComponents=e}async function xj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Fs,"Using user provided OfflineComponentProvider");try{await Ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wi("Error using user provided cache. Falling back to memory cache: "+n),await Ef(t,new fd)}}else J(Fs,"Using default OfflineComponentProvider"),await Ef(t,new Ej(void 0));return t._offlineComponents}async function MC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Fs,"Using user provided OnlineComponentProvider"),await m_(t,t._uninitializedComponentsProvider._online)):(J(Fs,"Using default OnlineComponentProvider"),await m_(t,new lm))),t._onlineComponents}function Sj(t){return MC(t).then(e=>e.syncEngine)}async function um(t){const e=await MC(t),n=e.eventManager;return n.onListen=lj.bind(null,e.syncEngine),n.onUnlisten=dj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hj.bind(null,e.syncEngine),n}function Cj(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,u,c){const d=new VC({next:p=>{d.Nu(),i.enqueueAndForget(()=>CC(o,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&u&&u.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new AC(th(a.path),d,{includeMetadataChanges:!0,qa:!0});return SC(o,h)}(await um(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firestore.googleapis.com",y_=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jC,this.ssl=y_}else this.host=e.host,this.ssl=e.ssl??y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s4)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kM;switch(r.type){case"firstParty":return new MM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g_.get(n);r&&(J("ComponentProvider","Removing Datastore"),g_.delete(n),r.terminate())}(this),Promise.resolve()}}function Aj(t,e,n,r={}){var c;t=Rs(t,ch);const s=Qd(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Zx(`https://${a}`),eS("Firestore",!0)),o.host!==jC&&o.host!==a&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:a,ssl:s,emulatorOptions:r};if(!nd(u,i)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Mt.MOCK_USER;else{d=AO(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mt(p)}t._authCredentials=new DM(new TS(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kl(n,ot._jsonSchema))return new ot(e,r||null,new re(Me.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:dt("string",ot._jsonSchemaVersion),referencePath:dt("string")};class bs extends aa{constructor(e,n,r){super(e,n,th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new re(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function hy(t,e,...n){if(t=pr(t),xS("collection","path",e),t instanceof ch){const r=Me.fromString(e,...n);return Nw(r),new bs(t,null,r)}{if(!(t instanceof ot||t instanceof bs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Nw(r),new bs(t.firestore,null,r)}}function cm(t,e,...n){if(t=pr(t),arguments.length===1&&(e=zg.newId()),xS("doc","path",e),t instanceof ch){const r=Me.fromString(e,...n);return Pw(r),new ot(t,null,new re(r))}{if(!(t instanceof ot||t instanceof bs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Pw(r),new ot(t.firestore,t instanceof bs?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gC(this,"async_queue_retry"),this._c=()=>{const r=_f();r&&J(w_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Is;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oa(e))throw e;J(w_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",E_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ay.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:E_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function E_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ml extends ch{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new __,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function Ij(t,e){const n=typeof t=="object"?t:Fg(),r=typeof t=="string"?t:od,s=Lg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Xx("firestore");o&&Aj(s,...o)}return s}function fy(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rj(t),t._firestoreClient}function Rj(t){var r,s,o;const e=t._freezeSettings(),n=function(a,u,c,d){return new ZM(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Tj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(It.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:dt("string",En._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:dt("string",dr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:dt("string",hr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^__.*__$/;class Pj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}function FC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class gy{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FC(this.Ac)&&bj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}Cc(e,n,r,s=!1){return new gy({Ac:e,methodName:n,Dc:r,path:xt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UC(t){const e=t._freezeSettings(),n=ah(t._databaseId);return new Nj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kj(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);zC("Data must be an object, but it was:",i,r);const a=BC(r,i);let u,c;if(o.merge)u=new Bn(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Oj(e,h,n);if(!i.contains(p))throw new Y($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Mj(d,p)||d.push(p)}u=new Bn(d),c=i.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=i.fieldTransforms;return new Pj(new _n(a),u,c)}class yy extends my{_toFieldTransform(e){return new SL(e.path,new Dl)}isEqual(e){return e instanceof yy}}function Dj(t,e,n,r=!1){return vy(n,t.Cc(r?4:3,e))}function vy(t,e){if($C(t=pr(t)))return zC("Unsupported field value:",e,t),BC(t,e);if(t instanceof my)return function(r,s){if(!FC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let u=vy(a,s.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Be.fromDate(r);return{timestampValue:cd(s.serializer,o)}}if(r instanceof Be){const o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(s.serializer,o)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof En)return{bytesValue:oC(s.serializer,r._byteString)};if(r instanceof ot){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(i,a){return{mapValue:{fields:{[kS]:{stringValue:OS},[id]:{arrayValue:{values:i.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Qg(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Xd(r)}`)}(t,e)}function BC(t,e){const n={};return AS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,s)=>{const o=vy(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $C(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof dr||t instanceof En||t instanceof ot||t instanceof my||t instanceof hr)}function zC(t,e,n){if(!$C(n)||!SS(n)){const r=Xd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Oj(t,e,n){if((e=pr(e))instanceof py)return e._internalPath;if(typeof e=="string")return HC(t,e);throw pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vj=new RegExp("[~\\*/\\[\\]]");function HC(t,e,n){if(e.search(Vj)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new py(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pd(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||i)&&(u+=" (found",o&&(u+=` in field ${r}`),i&&(u+=` in document ${s}`),u+=")"),new Y($.INVALID_ARGUMENT,a+t+u)}function Mj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lj extends WC{data(){return super.data()}}function qC(t,e){return typeof e=="string"?HC(t,e):e instanceof py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wy{}class Fj extends wy{}function Uj(t,e,...n){let r=[];e instanceof wy&&r.push(e),r=r.concat(n),function(o){const i=o.filter(u=>u instanceof Ey).length,a=o.filter(u=>u instanceof _y).length;if(i>1||i>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _y extends Fj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _y(e,n,r)}_apply(e){const n=this._parse(e);return GC(e._query,n),new aa(e.firestore,e.converter,Jp(e._query,n))}_parse(e){const n=UC(e.firestore);return function(o,i,a,u,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S_(h,d);const S=[];for(const y of h)S.push(x_(u,o,y));p={arrayValue:{values:S}}}else p=x_(u,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S_(h,d),p=Dj(a,i,h,d==="in"||d==="not-in");return ct.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ey extends wy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ey(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const a=o.getFlattenedFilters();for(const u of a)GC(i,u),i=Jp(i,u)}(e._query,n),new aa(e.firestore,e.converter,Jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function x_(t,e,n){if(typeof(n=pr(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!re.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fw(t,new re(r))}if(n instanceof ot)return Fw(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GC(t,e){const n=function(s,o){for(const i of s)for(const a of i.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bj{convertValue(e,n="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[id].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>rt(i.doubleValue));return new hr(n)}convertGeoPoint(e){return new dr(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Pe(dC(r),9688,{name:e});const s=new Nl(r.get(1),r.get(3)),o=new re(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends WC{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:dt("string",_o._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class yc extends _o{data(e={}){return super.data(e)}}class Si{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ua(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yc(this._firestore,this._userDataWriter,r.key,r,new Ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const u=new yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ua(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new yc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ua(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),d=i.indexOf(a.doc.key)),{type:zj(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Si._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){t=Rs(t,ot);const e=Rs(t.firestore,Ml);return Cj(fy(e),t._key).then(n=>YC(e,t,n))}Si._jsonSchemaVersion="firestore/querySnapshot/1.0",Si._jsonSchema={type:dt("string",Si._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class KC extends Bj{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function QC(t,e,n){t=Rs(t,ot);const r=Rs(t.firestore,Ml),s=$j(t.converter,e,n);return qj(r,[kj(UC(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Nr.none())])}function Wj(t,...e){var u,c,d;t=pr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||T_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(T_(e[r])){const h=e[r];e[r]=(u=h.next)==null?void 0:u.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let o,i,a;if(t instanceof ot)i=Rs(t.firestore,Ml),a=th(t._key.path),o={next:h=>{e[r]&&e[r](YC(i,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Rs(t,aa);i=Rs(h.firestore,Ml),a=h._query;const p=new KC(i);o={next:m=>{e[r]&&e[r](new Si(i,p,h,m))},error:e[r+1],complete:e[r+2]},jj(t._query)}return function(p,m,S,y){const E=new VC(y),_=new AC(m,E,S);return p.asyncQueue.enqueueAndForget(async()=>SC(await um(p),_)),()=>{E.Nu(),p.asyncQueue.enqueueAndForget(async()=>CC(await um(p),_))}}(fy(i),a,s,o)}function qj(t,e){return function(r,s){const o=new Is;return r.asyncQueue.enqueueAndForget(async()=>fj(await Sj(r),s,o)),o.promise}(fy(t),e)}function YC(t,e,n){const r=n.docs.get(e._key),s=new KC(t);return new _o(t,s,e._key,r,new Ua(n.hasPendingWrites,n.fromCache),e.converter)}function XC(){return new yy("serverTimestamp")}(function(e,n=!0){(function(s){ra=s})(VV),zi(new Io("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new Ml(new OM(r.getProvider("auth-internal")),new LM(i,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(c.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),lr(Aw,Iw,e),lr(Aw,Iw,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,jg(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="us-central1";class Kj{constructor(e,n,r,s,o=dm,i=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new Gj(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=dm}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Qj(t,e,n){const r=Qd(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Zx(t.emulatorOrigin+"/backends"),eS("Functions",!0))}const C_="@firebase/functions",A_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="auth-internal",Xj="app-check-internal",Jj="messaging-internal";function Zj(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(Yj),i=n.getProvider(Jj),a=n.getProvider(Xj);return new Kj(s,o,i,a,r)};zi(new Io(JC,e,"PUBLIC").setMultipleInstances(!0)),lr(C_,A_,t),lr(C_,A_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t=Fg(),e=dm){const r=Lg(pr(t),JC).getImmediate({identifier:e}),s=Xx("functions");return s&&tF(r,...s),r}function tF(t,e,n){Qj(pr(t),e,n)}Zj();const nF={apiKey:"AIzaSyADjIm9FJPn1pdf3RV-teKKjHcHKGqynjU",authDomain:"credit-check-paradox.firebaseapp.com",projectId:"credit-check-paradox",storageBucket:"credit-check-paradox.firebasestorage.app",messagingSenderId:"693435546549",appId:"1:693435546549:web:bbd82aab1caba65d1437fc",measurementId:"G-5RK4XD4WSW"};let vc,wc,_c;function dh(){return vc||(vc=cw().length?cw()[0]:sS(nF)),vc}function hh(){return wc||(wc=Ij(dh())),wc}function rF(){return _c||(_c=eF(dh(),"us-central1")),_c}vc=dh();wc=hh();_c=rF();async function sF(t,e){try{const n=dh(),r=CM(n,{backend:new Gl}),s=AM(r,{model:"gemini-2.5-flash"}),o=e.map(h=>({name:h.name,bankName:h.bankName,cardType:h.cardType,feesAndCharges:h.feesAndCharges,benefits:h.benefits.map(p=>({category:p.category,type:p.type,value:p.value,description:p.description??""}))})),i=`You are a credit card rewards expert. Rank the given credit cards for the user's query.
Return STRICT JSON with keys: results (array of up to 5 objects with keys name and optional reason) and reasoning (short string).`,a=`Query: ${t}
Cards: ${JSON.stringify(o)}`;console.log(a);const d=(await s.generateContent(`${i}

${a}`)).response.text().match(/\{[\s\S]*\}/);if(d){const h=JSON.parse(d[0]);if(Array.isArray(h.results))return{results:h.results.map(p=>{if(typeof p=="string")return{name:p};if(p&&typeof p=="object"){const m=p,S=m.name??m.card??m.title,y=m.reason??m.why??m.explanation;return{name:String(S??""),reason:y==null?void 0:String(y)}}return{name:""}}).filter(p=>p.name).slice(0,5),reasoning:typeof h.reasoning=="string"?h.reasoning:void 0};if(Array.isArray(h.rankedCardNames))return{results:h.rankedCardNames.filter(p=>typeof p=="string").slice(0,5).map(p=>({name:p})),reasoning:typeof h.reasoning=="string"?h.reasoning:void 0}}throw new Error("AI response parsing failed")}catch{const r=t.toLowerCase();return{results:e.map(o=>{const a=o.benefits.filter(c=>{var d;return c.category.toLowerCase().includes(r)||(((d=c.description)==null?void 0:d.toLowerCase().includes(r))??!1)}).reduce((c,d)=>d.value>c.value?{value:d.value,category:d.category,description:d.description}:c,{value:0}),u=a.value>0?`Up to ${a.value}% on ${a.category??"relevant spends"}`:void 0;return{name:o.name,score:a.value,reason:u}}).sort((o,i)=>i.score-o.score).slice(0,5).map(({name:o,reason:i})=>({name:o,reason:i}))}}}const oF=({cards:t})=>{const[e,n]=T.useState(""),[r,s]=T.useState([]),[o,i]=T.useState(!1),[a,u]=T.useState(!1),[c,d]=T.useState(void 0),[h,p]=T.useState({}),[m,S]=T.useState(""),[y,E]=T.useState(""),_=async P=>{const O=(P??e).trim();if(O){i(!0),u(!0),s([]),d(void 0),p({}),S(""),E("");try{const{results:V,reasoning:A}=await sF(O,t),C=new Map(t.map(H=>[H.name,H])),R=V.map(H=>C.get(H.name)).filter(Boolean);s(R);const b={};V.forEach(H=>{b[H.name]=H.reason}),p(b),d(A);const k=Wx.find(H=>O.toLowerCase().includes(H.toLowerCase()));let D=k,N=(k==null?void 0:k.toLowerCase())??"";if(!D&&R[0]){const H=R[0].benefits??[];H.length&&(D=H.reduce((X,te)=>te.value>X.value?te:X,H[0]).category,N=D.toLowerCase())}S(D||"Top Picks"),E(N),i(!0)}finally{u(!1)}}},v=P=>{P.key==="Enter"&&_()},x=["Amazon","Flipkart","Swiggy","Travel","Fuel","Dining"];return w.jsxs("div",{className:"space-y-6",children:[w.jsxs(ao,{className:"bg-gradient-card shadow-card border-0",children:[w.jsx(Gd,{children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-financial-light rounded-lg",children:w.jsx(cc,{className:"h-5 w-5 text-financial-blue"})}),w.jsx(Kd,{className:"text-xl text-card-foreground",children:"Find Best Credit Card"})]})}),w.jsxs(lo,{className:"space-y-4",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx(at,{value:e,onChange:P=>n(P.target.value),onKeyPress:v,placeholder:"Enter merchant or category (e.g., Amazon, Travel, Dining)",className:"flex-1"}),w.jsxs(ps,{onClick:P=>{P.preventDefault(),_()},className:"px-6",children:[w.jsx(cc,{className:"h-4 w-4 mr-2"}),"Search"]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"text-sm text-muted-foreground",children:"Popular searches:"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(P=>w.jsx(ps,{variant:"outline",size:"sm",onClick:()=>{n(P),_(P)},className:"text-xs",children:P},P))})]})]})]}),o&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(XP,{className:"h-5 w-5 text-financial-blue"}),a?w.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Searching…"}):w.jsxs("h2",{className:"text-xl font-semibold text-foreground",children:['Best Cards for "',m||e,'"']}),w.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.length," result",r.length!==1?"s":"",")"]})]}),!a&&c&&w.jsx("p",{className:"text-sm text-muted-foreground",children:c}),a?w.jsx(ao,{className:"bg-gradient-card shadow-card border-0",children:w.jsx(lo,{className:"py-12",children:w.jsx("div",{className:"flex items-center justify-center",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-financial-blue border-t-transparent animate-spin"}),w.jsx("span",{className:"text-sm text-muted-foreground",children:"Finding the best cards for you..."})]})})})}):r.length===0?w.jsx(ao,{className:"bg-gradient-card shadow-card border-0",children:w.jsxs(lo,{className:"flex flex-col items-center justify-center py-12 text-center",children:[w.jsx(cc,{className:"h-12 w-12 text-muted-foreground mb-4"}),w.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:"No matching cards found"}),w.jsx("p",{className:"text-muted-foreground max-w-md",children:'Try searching for popular categories like "Amazon", "Travel", "Dining", or "Fuel"'})]})}):w.jsx(ao,{className:"bg-gradient-card shadow-card border-0",children:w.jsx(lo,{children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs(qx,{children:[w.jsx(Gx,{children:w.jsxs(jp,{children:[w.jsx(Va,{children:"Card"}),w.jsx(Va,{children:"Best Match Benefit"}),w.jsx(Va,{children:"Description"}),w.jsx(Va,{children:"Why"})]})}),w.jsx(Kx,{children:r.map(P=>{const O=(y||e).toLowerCase(),V=P.benefits.filter(R=>{var b;return R.category.toLowerCase().includes(O)||(((b=R.description)==null?void 0:b.toLowerCase().includes(O))??!1)}),A=V.length?V:P.benefits??[],C=A.length?A.reduce((R,b)=>b.value>R.value?b:R,A[0]):void 0;return w.jsxs(jp,{children:[w.jsx(Ma,{className:"font-medium",children:P.name}),w.jsx(Ma,{children:C?w.jsxs("span",{children:[C.category,": ",C.value,"%",C.type===wn.REWARD_POINTS?" RP":""]}):w.jsx("span",{className:"text-muted-foreground",children:"—"})}),w.jsx(Ma,{className:"max-w-[360px] truncate",title:P.description||"",children:P.description||"—"}),w.jsx(Ma,{className:"max-w-[360px] truncate",title:h[P.name]||"",children:h[P.name]||"—"})]},P.name)})})]})})})})]})]})},iF=Vd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ZC({className:t,variant:e,...n}){return w.jsx("div",{className:xe(iF({variant:e}),t),...n})}const aF=({card:t})=>{const e=n=>{switch(n){case Zt.PREMIUM:return"bg-gradient-financial text-white";case Zt.REGULAR:return"bg-primary text-primary-foreground";case Zt.ENTRY:return"bg-secondary text-secondary-foreground";case Zt.COBRAND:return"bg-accent text-accent-foreground";default:return"bg-muted text-muted-foreground"}};return w.jsxs(ao,{className:"bg-gradient-card shadow-card hover:shadow-card-hover transition-all duration-300 border-0",children:[w.jsx(Gd,{className:"pb-3",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-financial-light rounded-lg",children:w.jsx(vg,{className:"h-5 w-5 text-financial-blue"})}),w.jsxs("div",{children:[w.jsx(Kd,{className:"text-lg text-card-foreground",children:t.name}),w.jsx("p",{className:"text-sm text-muted-foreground",children:t.bankName})]})]}),w.jsx(ZC,{className:`${e(t.cardType)} capitalize font-medium`,children:t.cardType})]})}),w.jsxs(lo,{className:"space-y-4",children:[t.description&&w.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-muted-foreground",children:"Joining Fee"}),w.jsx("span",{className:"font-semibold text-card-foreground",children:t.feesAndCharges.joining.type==="fixed"?`₹${t.feesAndCharges.joining.value}`:`${t.feesAndCharges.joining.value}%`})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-muted-foreground",children:"Annual Fee"}),w.jsx("span",{className:"font-semibold text-card-foreground",children:t.feesAndCharges.annual.type==="fixed"?`₹${t.feesAndCharges.annual.value}`:`${t.feesAndCharges.annual.value}%`})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h4",{className:"text-sm font-medium text-card-foreground",children:"Key Benefits"}),w.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[t.benefits.slice(0,4).map((n,r)=>w.jsxs("div",{className:"flex items-center justify-between p-2 bg-financial-light rounded-md",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[n.type===wn.CASHBACK?w.jsx(qP,{className:"h-4 w-4 text-financial-green"}):w.jsx(WP,{className:"h-4 w-4 text-financial-blue"}),w.jsx("span",{className:"text-sm font-medium text-card-foreground",children:n.category})]}),w.jsxs("span",{className:"text-sm font-semibold text-financial-blue",children:[n.value,"%",n.type===wn.REWARD_POINTS?" RP":""]})]},r)),t.benefits.length>4&&w.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",t.benefits.length-4," more benefits"]})]})]})]})]})};var lF="Label",eA=T.forwardRef((t,e)=>w.jsx(De.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eA.displayName=lF;var tA=eA;const uF=Vd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=T.forwardRef(({className:t,...e},n)=>w.jsx(tA,{ref:n,className:xe(uF(),t),...e}));Ge.displayName=tA.displayName;function I_(t,[e,n]){return Math.min(n,Math.max(e,t))}var cF=T.createContext(void 0);function dF(t){const e=T.useContext(cF);return t||e||"ltr"}var Tf=0;function hF(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??R_()),document.body.insertAdjacentElement("beforeend",t[1]??R_()),Tf++,()=>{Tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tf--}},[])}function R_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xf="focusScope.autoFocusOnMount",Sf="focusScope.autoFocusOnUnmount",b_={bubbles:!1,cancelable:!0},fF="FocusScope",nA=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,u]=T.useState(null),c=Wn(s),d=Wn(o),h=T.useRef(null),p=nt(e,y=>u(y)),m=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const P=x.target;a.contains(P)?h.current=P:Zr(h.current,{select:!0})},E=function(x){if(m.paused||!a)return;const P=x.relatedTarget;P!==null&&(a.contains(P)||Zr(h.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&Zr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,m.paused]),T.useEffect(()=>{if(a){N_.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(xf,b_);a.addEventListener(xf,c),a.dispatchEvent(_),_.defaultPrevented||(pF(wF(rA(a)),{select:!0}),document.activeElement===y&&Zr(a))}return()=>{a.removeEventListener(xf,c),setTimeout(()=>{const _=new CustomEvent(Sf,b_);a.addEventListener(Sf,d),a.dispatchEvent(_),_.defaultPrevented||Zr(y??document.body,{select:!0}),a.removeEventListener(Sf,d),N_.remove(m)},0)}}},[a,c,d,m]);const S=T.useCallback(y=>{if(!n&&!r||m.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(E&&_){const v=y.currentTarget,[x,P]=mF(v);x&&P?!y.shiftKey&&_===P?(y.preventDefault(),n&&Zr(x,{select:!0})):y.shiftKey&&_===x&&(y.preventDefault(),n&&Zr(P,{select:!0})):_===v&&y.preventDefault()}},[n,r,m.paused]);return w.jsx(De.div,{tabIndex:-1,...i,ref:p,onKeyDown:S})});nA.displayName=fF;function pF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zr(r,{select:e}),document.activeElement!==n)return}function mF(t){const e=rA(t),n=P_(e,t),r=P_(e.reverse(),t);return[n,r]}function rA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function P_(t,e){for(const n of t)if(!gF(n,{upTo:e}))return n}function gF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yF(t){return t instanceof HTMLInputElement&&"select"in t}function Zr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yF(t)&&e&&t.select()}}var N_=vF();function vF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=k_(t,e),t.unshift(e)},remove(e){var n;t=k_(t,e),(n=t[0])==null||n.resume()}}}function k_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wF(t){return t.filter(e=>e.tagName!=="A")}function _F(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var EF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qo=new WeakMap,qu=new WeakMap,Gu={},Cf=0,sA=function(t){return t&&(t.host||sA(t.parentNode))},TF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xF=function(t,e,n,r){var s=TF(e,Array.isArray(t)?t:[t]);Gu[n]||(Gu[n]=new WeakMap);var o=Gu[n],i=[],a=new Set,u=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),S=m!==null&&m!=="false",y=(Qo.get(p)||0)+1,E=(o.get(p)||0)+1;Qo.set(p,y),o.set(p,E),i.push(p),y===1&&S&&qu.set(p,!0),E===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),a.clear(),Cf++,function(){i.forEach(function(h){var p=Qo.get(h)-1,m=o.get(h)-1;Qo.set(h,p),o.set(h,m),p||(qu.has(h)||h.removeAttribute(r),qu.delete(h)),m||h.removeAttribute(n)}),Cf--,Cf||(Qo=new WeakMap,Qo=new WeakMap,qu=new WeakMap,Gu={})}},SF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=EF(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),xF(r,s,n,"aria-hidden")):function(){return null}},rr=function(){return rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rr.apply(this,arguments)};function oA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ec="right-scroll-bar-position",Tc="width-before-scroll-bar",AF="with-scroll-bars-hidden",IF="--removed-body-scroll-bar-size";function Af(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function RF(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var bF=typeof window<"u"?T.useLayoutEffect:T.useEffect,D_=new WeakMap;function PF(t,e){var n=RF(null,function(r){return t.forEach(function(s){return Af(s,r)})});return bF(function(){var r=D_.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||Af(a,null)}),o.forEach(function(a){s.has(a)||Af(a,i)})}D_.set(n,t)},[t]),n}function NF(t){return t}function kF(t,e){e===void 0&&(e=NF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var u=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function DF(t){t===void 0&&(t={});var e=kF(null);return e.options=rr({async:!0,ssr:!1},t),e}var iA=function(t){var e=t.sideCar,n=oA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,rr({},n))};iA.isSideCarExport=!0;function OF(t,e){return t.useMedium(e),iA}var aA=DF(),If=function(){},fh=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,S=t.noIsolation,y=t.inert,E=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,x=t.gapMode,P=oA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,V=PF([n,e]),A=rr(rr({},P),s);return T.createElement(T.Fragment,null,d&&T.createElement(O,{sideCar:aA,removeScrollBar:c,shards:h,noRelative:m,noIsolation:S,inert:y,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:x}),i?T.cloneElement(T.Children.only(a),rr(rr({},A),{ref:V})):T.createElement(v,rr({},A,{className:u,ref:V}),a))});fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fh.classNames={fullWidth:Tc,zeroRight:Ec};var VF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=VF();return e&&t.setAttribute("nonce",e),t}function LF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var FF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=MF())&&(LF(e,n),jF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UF=function(){var t=FF();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lA=function(){var t=UF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},BF={left:0,top:0,right:0,gap:0},Rf=function(t){return parseInt(t||"",10)||0},$F=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Rf(n),Rf(r),Rf(s)]},zF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BF;var e=$F(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},HF=lA(),Ci="data-scroll-locked",WF=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(AF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ec,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Tc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tc," .").concat(Tc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ci,`] {
    `).concat(IF,": ").concat(a,`px;
  }
`)},O_=function(){var t=parseInt(document.body.getAttribute(Ci)||"0",10);return isFinite(t)?t:0},qF=function(){T.useEffect(function(){return document.body.setAttribute(Ci,(O_()+1).toString()),function(){var t=O_()-1;t<=0?document.body.removeAttribute(Ci):document.body.setAttribute(Ci,t.toString())}},[])},GF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;qF();var o=T.useMemo(function(){return zF(s)},[s]);return T.createElement(HF,{styles:WF(o,!e,s,n?"":"!important")})},hm=!1;if(typeof window<"u")try{var Ku=Object.defineProperty({},"passive",{get:function(){return hm=!0,!0}});window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{hm=!1}var Yo=hm?{passive:!1}:!1,KF=function(t){return t.tagName==="TEXTAREA"},uA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!KF(t)&&n[e]==="visible")},QF=function(t){return uA(t,"overflowY")},YF=function(t){return uA(t,"overflowX")},V_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cA(t,r);if(s){var o=dA(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},XF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cA=function(t,e){return t==="v"?QF(e):YF(e)},dA=function(t,e){return t==="v"?XF(e):JF(e)},ZF=function(t,e){return t==="h"&&e==="rtl"?-1:1},e3=function(t,e,n,r,s){var o=ZF(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,u=e.contains(a),c=!1,d=i>0,h=0,p=0;do{if(!a)break;var m=dA(t,a),S=m[0],y=m[1],E=m[2],_=y-E-o*S;(S||_)&&cA(t,a)&&(h+=_,p+=S);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},Qu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},M_=function(t){return[t.deltaX,t.deltaY]},L_=function(t){return t&&"current"in t?t.current:t},t3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},r3=0,Xo=[];function s3(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(r3++)[0],o=T.useState(lA)[0],i=T.useRef(t);T.useEffect(function(){i.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=CF([t.lockRef.current],(t.shards||[]).map(L_),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var _=Qu(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-_[0],P="deltaY"in y?y.deltaY:v[1]-_[1],O,V=y.target,A=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in y&&A==="h"&&V.type==="range")return!1;var C=V_(A,V);if(!C)return!0;if(C?O=A:(O=A==="v"?"h":"v",C=V_(A,V)),!C)return!1;if(!r.current&&"changedTouches"in y&&(x||P)&&(r.current=O),!O)return!0;var R=r.current||O;return e3(R,E,y,R==="h"?x:P,!0)},[]),u=T.useCallback(function(y){var E=y;if(!(!Xo.length||Xo[Xo.length-1]!==o)){var _="deltaY"in E?M_(E):Qu(E),v=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&t3(O.delta,_)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(L_).filter(Boolean).filter(function(O){return O.contains(E.target)}),P=x.length>0?a(E,x[0]):!i.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=T.useCallback(function(y,E,_,v){var x={name:y,delta:E,target:_,should:v,shadowParent:o3(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(P){return P!==x})},1)},[]),d=T.useCallback(function(y){n.current=Qu(y),r.current=void 0},[]),h=T.useCallback(function(y){c(y.type,M_(y),y.target,a(y,t.lockRef.current))},[]),p=T.useCallback(function(y){c(y.type,Qu(y),y.target,a(y,t.lockRef.current))},[]);T.useEffect(function(){return Xo.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Yo),document.addEventListener("touchmove",u,Yo),document.addEventListener("touchstart",d,Yo),function(){Xo=Xo.filter(function(y){return y!==o}),document.removeEventListener("wheel",u,Yo),document.removeEventListener("touchmove",u,Yo),document.removeEventListener("touchstart",d,Yo)}},[]);var m=t.removeScrollBar,S=t.inert;return T.createElement(T.Fragment,null,S?T.createElement(o,{styles:n3(s)}):null,m?T.createElement(GF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function o3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i3=OF(aA,s3);var hA=T.forwardRef(function(t,e){return T.createElement(fh,rr({},t,{ref:e,sideCar:i3}))});hA.classNames=fh.classNames;var a3=[" ","Enter","ArrowUp","ArrowDown"],l3=[" ","Enter"],Po="Select",[ph,mh,u3]=cT(Po),[la,o6]=Hl(Po,[u3,Fd]),gh=Fd(),[c3,zs]=la(Po),[d3,h3]=la(Po),fA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:u,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:S}=t,y=gh(e),[E,_]=T.useState(null),[v,x]=T.useState(null),[P,O]=T.useState(!1),V=dF(c),[A,C]=Tp({prop:r,defaultProp:s??!1,onChange:o,caller:Po}),[R,b]=Tp({prop:i,defaultProp:a,onChange:u,caller:Po}),k=T.useRef(null),D=E?S||!!E.closest("form"):!0,[N,H]=T.useState(new Set),ne=Array.from(N).map(X=>X.props.value).join(";");return w.jsx(D2,{...y,children:w.jsxs(c3,{required:m,scope:e,trigger:E,onTriggerChange:_,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:P,onValueNodeHasChildrenChange:O,contentId:_g(),value:R,onValueChange:b,open:A,onOpenChange:C,dir:V,triggerPointerDownPosRef:k,disabled:p,children:[w.jsx(ph.Provider,{scope:e,children:w.jsx(d3,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(X=>{H(te=>new Set(te).add(X))},[]),onNativeOptionRemove:T.useCallback(X=>{H(te=>{const F=new Set(te);return F.delete(X),F})},[]),children:n})}),D?w.jsxs(LA,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:R,onChange:X=>b(X.target.value),disabled:p,form:S,children:[R===void 0?w.jsx("option",{value:""}):null,Array.from(N)]},ne):null]})})};fA.displayName=Po;var pA="SelectTrigger",mA=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=gh(n),i=zs(pA,n),a=i.disabled||r,u=nt(e,i.onTriggerChange),c=mh(n),d=T.useRef("touch"),[h,p,m]=FA(y=>{const E=c().filter(x=>!x.disabled),_=E.find(x=>x.value===i.value),v=UA(E,y,_);v!==void 0&&i.onValueChange(v.value)}),S=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return w.jsx(vx,{asChild:!0,...o,children:w.jsx(De.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":jA(i.value)?"":void 0,...s,ref:u,onClick:ve(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&S(y)}),onPointerDown:ve(s.onPointerDown,y=>{d.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:ve(s.onKeyDown,y=>{const E=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(E&&y.key===" ")&&a3.includes(y.key)&&(S(),y.preventDefault())})})})});mA.displayName=pA;var gA="SelectValue",yA=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,u=zs(gA,n),{onValueNodeHasChildrenChange:c}=u,d=o!==void 0,h=nt(e,u.onValueNodeChange);return At(()=>{c(d)},[c,d]),w.jsx(De.span,{...a,ref:h,style:{pointerEvents:"none"},children:jA(u.value)?w.jsx(w.Fragment,{children:i}):o})});yA.displayName=gA;var f3="SelectIcon",vA=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return w.jsx(De.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});vA.displayName=f3;var p3="SelectPortal",wA=t=>w.jsx(fg,{asChild:!0,...t});wA.displayName=p3;var No="SelectContent",_A=T.forwardRef((t,e)=>{const n=zs(No,t.__scopeSelect),[r,s]=T.useState();if(At(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Oo.createPortal(w.jsx(EA,{scope:t.__scopeSelect,children:w.jsx(ph.Slot,{scope:t.__scopeSelect,children:w.jsx("div",{children:t.children})})}),o):null}return w.jsx(TA,{...t,ref:e})});_A.displayName=No;var Dn=10,[EA,Hs]=la(No),m3="SelectContentImpl",g3=El("SelectContent.RemoveScroll"),TA=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:S,hideWhenDetached:y,avoidCollisions:E,..._}=t,v=zs(No,n),[x,P]=T.useState(null),[O,V]=T.useState(null),A=nt(e,Q=>P(Q)),[C,R]=T.useState(null),[b,k]=T.useState(null),D=mh(n),[N,H]=T.useState(!1),ne=T.useRef(!1);T.useEffect(()=>{if(x)return SF(x)},[x]),hF();const X=T.useCallback(Q=>{const[be,...He]=D().map(ye=>ye.ref.current),[ge]=He.slice(-1),he=document.activeElement;for(const ye of Q)if(ye===he||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===be&&O&&(O.scrollTop=0),ye===ge&&O&&(O.scrollTop=O.scrollHeight),ye==null||ye.focus(),document.activeElement!==he))return},[D,O]),te=T.useCallback(()=>X([C,x]),[X,C,x]);T.useEffect(()=>{N&&te()},[N,te]);const{onOpenChange:F,triggerPointerDownPosRef:U}=v;T.useEffect(()=>{if(x){let Q={x:0,y:0};const be=ge=>{var he,ye;Q={x:Math.abs(Math.round(ge.pageX)-(((he=U.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((ye=U.current)==null?void 0:ye.y)??0))}},He=ge=>{Q.x<=10&&Q.y<=10?ge.preventDefault():x.contains(ge.target)||F(!1),document.removeEventListener("pointermove",be),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",He,{capture:!0})}}},[x,F,U]),T.useEffect(()=>{const Q=()=>F(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[F]);const[K,se]=FA(Q=>{const be=D().filter(he=>!he.disabled),He=be.find(he=>he.ref.current===document.activeElement),ge=UA(be,Q,He);ge&&setTimeout(()=>ge.ref.current.focus())}),L=T.useCallback((Q,be,He)=>{const ge=!ne.current&&!He;(v.value!==void 0&&v.value===be||ge)&&(R(Q),ge&&(ne.current=!0))},[v.value]),Z=T.useCallback(()=>x==null?void 0:x.focus(),[x]),ie=T.useCallback((Q,be,He)=>{const ge=!ne.current&&!He;(v.value!==void 0&&v.value===be||ge)&&k(Q)},[v.value]),Re=r==="popper"?fm:xA,ze=Re===fm?{side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:S,hideWhenDetached:y,avoidCollisions:E}:{};return w.jsx(EA,{scope:n,content:x,viewport:O,onViewportChange:V,itemRefCallback:L,selectedItem:C,onItemLeave:Z,itemTextRefCallback:ie,focusSelectedItem:te,selectedItemText:b,position:r,isPositioned:N,searchRef:K,children:w.jsx(hA,{as:g3,allowPinchZoom:!0,children:w.jsx(nA,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ve(s,Q=>{var be;(be=v.trigger)==null||be.focus({preventScroll:!0}),Q.preventDefault()}),children:w.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:w.jsx(Re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),..._,...ze,onPlaced:()=>H(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ve(_.onKeyDown,Q=>{const be=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!be&&Q.key.length===1&&se(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ge=D().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const he=Q.target,ye=ge.indexOf(he);ge=ge.slice(ye+1)}setTimeout(()=>X(ge)),Q.preventDefault()}})})})})})})});TA.displayName=m3;var y3="SelectItemAlignedPosition",xA=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=zs(No,n),i=Hs(No,n),[a,u]=T.useState(null),[c,d]=T.useState(null),h=nt(e,A=>d(A)),p=mh(n),m=T.useRef(!1),S=T.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:_,focusSelectedItem:v}=i,x=T.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&y&&E&&_){const A=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),b=_.getBoundingClientRect();if(o.dir!=="rtl"){const he=b.left-C.left,ye=R.left-he,it=A.left-ye,Rt=A.width+it,In=Math.max(Rt,C.width),Rn=window.innerWidth-Dn,yr=I_(ye,[Dn,Math.max(Dn,Rn-In)]);a.style.minWidth=Rt+"px",a.style.left=yr+"px"}else{const he=C.right-b.right,ye=window.innerWidth-R.right-he,it=window.innerWidth-A.right-ye,Rt=A.width+it,In=Math.max(Rt,C.width),Rn=window.innerWidth-Dn,yr=I_(ye,[Dn,Math.max(Dn,Rn-In)]);a.style.minWidth=Rt+"px",a.style.right=yr+"px"}const k=p(),D=window.innerHeight-Dn*2,N=y.scrollHeight,H=window.getComputedStyle(c),ne=parseInt(H.borderTopWidth,10),X=parseInt(H.paddingTop,10),te=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),U=ne+X+N+F+te,K=Math.min(E.offsetHeight*5,U),se=window.getComputedStyle(y),L=parseInt(se.paddingTop,10),Z=parseInt(se.paddingBottom,10),ie=A.top+A.height/2-Dn,Re=D-ie,ze=E.offsetHeight/2,Q=E.offsetTop+ze,be=ne+X+Q,He=U-be;if(be<=ie){const he=k.length>0&&E===k[k.length-1].ref.current;a.style.bottom="0px";const ye=c.clientHeight-y.offsetTop-y.offsetHeight,it=Math.max(Re,ze+(he?Z:0)+ye+te),Rt=be+it;a.style.height=Rt+"px"}else{const he=k.length>0&&E===k[0].ref.current;a.style.top="0px";const it=Math.max(ie,ne+y.offsetTop+(he?L:0)+ze)+He;a.style.height=it+"px",y.scrollTop=be-ie+y.offsetTop}a.style.margin=`${Dn}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,c,y,E,_,o.dir,r]);At(()=>x(),[x]);const[P,O]=T.useState();At(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=T.useCallback(A=>{A&&S.current===!0&&(x(),v==null||v(),S.current=!1)},[x,v]);return w.jsx(w3,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:V,children:w.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:w.jsx(De.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xA.displayName=y3;var v3="SelectPopperPosition",fm=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Dn,...o}=t,i=gh(n);return w.jsx(wx,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fm.displayName=v3;var[w3,Ty]=la(No,{}),pm="SelectViewport",SA=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Hs(pm,n),i=Ty(pm,n),a=nt(e,o.onViewportChange),u=T.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w.jsx(ph.Slot,{scope:n,children:w.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(u.current-d.scrollTop);if(m>0){const S=window.innerHeight-Dn*2,y=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),_=Math.max(y,E);if(_<S){const v=_+m,x=Math.min(S,v),P=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});SA.displayName=pm;var CA="SelectGroup",[_3,E3]=la(CA),T3=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_g();return w.jsx(_3,{scope:n,id:s,children:w.jsx(De.div,{role:"group","aria-labelledby":s,...r,ref:e})})});T3.displayName=CA;var AA="SelectLabel",IA=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=E3(AA,n);return w.jsx(De.div,{id:s.id,...r,ref:e})});IA.displayName=AA;var md="SelectItem",[x3,RA]=la(md),bA=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=zs(md,n),u=Hs(md,n),c=a.value===r,[d,h]=T.useState(o??""),[p,m]=T.useState(!1),S=nt(e,v=>{var x;return(x=u.itemRefCallback)==null?void 0:x.call(u,v,r,s)}),y=_g(),E=T.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(x3,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:T.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:w.jsx(ph.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:w.jsx(De.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:S,onFocus:ve(i.onFocus,()=>m(!0)),onBlur:ve(i.onBlur,()=>m(!1)),onClick:ve(i.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ve(i.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ve(i.onPointerDown,v=>{E.current=v.pointerType}),onPointerMove:ve(i.onPointerMove,v=>{var x;E.current=v.pointerType,s?(x=u.onItemLeave)==null||x.call(u):E.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=u.onItemLeave)==null||x.call(u))}),onKeyDown:ve(i.onKeyDown,v=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&v.key===" "||(l3.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});bA.displayName=md;var Ba="SelectItemText",PA=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=zs(Ba,n),a=Hs(Ba,n),u=RA(Ba,n),c=h3(Ba,n),[d,h]=T.useState(null),p=nt(e,_=>h(_),u.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,_,u.value,u.disabled)}),m=d==null?void 0:d.textContent,S=T.useMemo(()=>w.jsx("option",{value:u.value,disabled:u.disabled,children:m},u.value),[u.disabled,u.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=c;return At(()=>(y(S),()=>E(S)),[y,E,S]),w.jsxs(w.Fragment,{children:[w.jsx(De.span,{id:u.textId,...o,ref:p}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Oo.createPortal(o.children,i.valueNode):null]})});PA.displayName=Ba;var NA="SelectItemIndicator",kA=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return RA(NA,n).isSelected?w.jsx(De.span,{"aria-hidden":!0,...r,ref:e}):null});kA.displayName=NA;var mm="SelectScrollUpButton",DA=T.forwardRef((t,e)=>{const n=Hs(mm,t.__scopeSelect),r=Ty(mm,t.__scopeSelect),[s,o]=T.useState(!1),i=nt(e,r.onScrollButtonChange);return At(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;o(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?w.jsx(VA,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});DA.displayName=mm;var gm="SelectScrollDownButton",OA=T.forwardRef((t,e)=>{const n=Hs(gm,t.__scopeSelect),r=Ty(gm,t.__scopeSelect),[s,o]=T.useState(!1),i=nt(e,r.onScrollButtonChange);return At(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;o(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?w.jsx(VA,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});OA.displayName=gm;var VA=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Hs("SelectScrollButton",n),i=T.useRef(null),a=mh(n),u=T.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return T.useEffect(()=>()=>u(),[u]),At(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),w.jsx(De.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{u()})})}),S3="SelectSeparator",MA=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w.jsx(De.div,{"aria-hidden":!0,...r,ref:e})});MA.displayName=S3;var ym="SelectArrow",C3=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gh(n),o=zs(ym,n),i=Hs(ym,n);return o.open&&i.position==="popper"?w.jsx(_x,{...s,...r,ref:e}):null});C3.displayName=ym;var A3="SelectBubbleInput",LA=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=T.useRef(null),o=nt(r,s),i=_F(e);return T.useEffect(()=>{const a=s.current;if(!a)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[i,e]),w.jsx(De.select,{...n,style:{...mT,...n.style},ref:o,defaultValue:e})});LA.displayName=A3;function jA(t){return t===""||t===void 0}function FA(t){const e=Wn(t),n=T.useRef(""),r=T.useRef(0),s=T.useCallback(i=>{const a=n.current+i;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),o=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function UA(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=I3(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const u=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function I3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var R3=fA,BA=mA,b3=yA,P3=vA,N3=wA,$A=_A,k3=SA,zA=IA,HA=bA,D3=PA,O3=kA,WA=DA,qA=OA,GA=MA;const Js=R3,Zs=b3,es=T.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(BA,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,w.jsx(P3,{asChild:!0,children:w.jsx(jT,{className:"h-4 w-4 opacity-50"})})]}));es.displayName=BA.displayName;const KA=T.forwardRef(({className:t,...e},n)=>w.jsx(WA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(KP,{className:"h-4 w-4"})}));KA.displayName=WA.displayName;const QA=T.forwardRef(({className:t,...e},n)=>w.jsx(qA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(jT,{className:"h-4 w-4"})}));QA.displayName=qA.displayName;const ts=T.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>w.jsx(N3,{children:w.jsxs($A,{ref:s,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[w.jsx(KA,{}),w.jsx(k3,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),w.jsx(QA,{})]})}));ts.displayName=$A.displayName;const V3=T.forwardRef(({className:t,...e},n)=>w.jsx(zA,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));V3.displayName=zA.displayName;const Ut=T.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(HA,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(O3,{children:w.jsx(GP,{className:"h-4 w-4"})})}),w.jsx(D3,{children:e})]}));Ut.displayName=HA.displayName;const M3=T.forwardRef(({className:t,...e},n)=>w.jsx(GA,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));M3.displayName=GA.displayName;const YA=T.forwardRef(({className:t,...e},n)=>w.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));YA.displayName="Textarea";function j_({mode:t,initial:e,onSubmit:n,onCancel:r}){var _,v,x,P,O,V,A,C,R,b,k,D,N,H,ne,X,te,F,U,K,se;const[s,o]=T.useState({name:(e==null?void 0:e.name)??"",bankName:(e==null?void 0:e.bankName)??null,cardType:(e==null?void 0:e.cardType)??Zt.REGULAR,description:(e==null?void 0:e.description)??"",link:(e==null?void 0:e.link)??""}),[i,a]=T.useState((e==null?void 0:e.benefits)??[]),[u,c]=T.useState({category:"",type:wn.CASHBACK,value:"",description:""}),[d,h]=T.useState({joiningValue:String(((_=e==null?void 0:e.feesAndCharges.joining)==null?void 0:_.value)??""),joiningType:((v=e==null?void 0:e.feesAndCharges.joining)==null?void 0:v.type)??"fixed",annualValue:String(((x=e==null?void 0:e.feesAndCharges.annual)==null?void 0:x.value)??""),annualType:((P=e==null?void 0:e.feesAndCharges.annual)==null?void 0:P.type)??"fixed",cashWithdrawal:String(((O=e==null?void 0:e.feesAndCharges.cashWithdrawal)==null?void 0:O.value)??"2.5"),forex:String(((V=e==null?void 0:e.feesAndCharges.forex)==null?void 0:V.value)??"3.5"),walletLoad:String(((A=e==null?void 0:e.feesAndCharges.walletLoad)==null?void 0:A.value)??""),education:String(((C=e==null?void 0:e.feesAndCharges.educationTransaction)==null?void 0:C.value)??""),utilities:String(((R=e==null?void 0:e.feesAndCharges.utilityBillPayment)==null?void 0:R.value)??""),rent:String(((b=e==null?void 0:e.feesAndCharges.rentTransaction)==null?void 0:b.value)??""),fuelValue:String(((k=e==null?void 0:e.feesAndCharges.fuelTransaction)==null?void 0:k.value)??""),fuelType:((D=e==null?void 0:e.feesAndCharges.fuelTransaction)==null?void 0:D.type)??"percentage",other:String(((N=e==null?void 0:e.feesAndCharges.other)==null?void 0:N.value)??"")}),[p,m]=T.useState({domesticQty:(ne=(H=e==null?void 0:e.lounge)==null?void 0:H.domestic)!=null&&ne.quantity?String(e.lounge.domestic.quantity):"",domesticPre:((te=(X=e==null?void 0:e.lounge)==null?void 0:X.domestic)==null?void 0:te.precondition)??"",intlQty:(U=(F=e==null?void 0:e.lounge)==null?void 0:F.international)!=null&&U.quantity?String(e.lounge.international.quantity):"",intlPre:((se=(K=e==null?void 0:e.lounge)==null?void 0:K.international)==null?void 0:se.precondition)??""}),S=()=>{if(!u.category||!u.value)return;const L=parseFloat(u.value);if(!Number.isFinite(L))return;const Z={category:u.category,type:u.type,value:L,description:u.description||void 0};a([...i,Z]),c({category:"",type:wn.CASHBACK,value:"",description:""})},y=L=>a(i.filter((Z,ie)=>ie!==L)),E=async L=>{if(L.preventDefault(),!s.name||!s.bankName||i.length===0)return;const Z={name:s.name,bankName:s.bankName,cardType:s.cardType,description:s.description||void 0,benefits:i,link:s.link||"#",feesAndCharges:{joining:{value:parseFloat(d.joiningValue)||0,type:d.joiningType},annual:{value:parseFloat(d.annualValue)||0,type:d.annualType},cashWithdrawal:{value:parseFloat(d.cashWithdrawal)||0,type:"percentage"},forex:{value:parseFloat(d.forex)||0,type:"percentage"},walletLoad:d.walletLoad?{value:parseFloat(d.walletLoad)||0,type:"percentage"}:void 0,educationTransaction:d.education?{value:parseFloat(d.education)||0,type:"percentage"}:void 0,utilityBillPayment:d.utilities?{value:parseFloat(d.utilities)||0,type:"percentage"}:void 0,rentTransaction:d.rent?{value:parseFloat(d.rent)||0,type:"percentage"}:void 0,fuelTransaction:d.fuelValue?{value:parseFloat(d.fuelValue)||0,type:d.fuelType}:void 0,other:d.other?{value:parseFloat(d.other)||0,type:"percentage"}:void 0},lounge:p.domesticQty||p.intlQty?{domestic:p.domesticQty?{quantity:parseInt(p.domesticQty)||0,precondition:p.domesticPre||""}:void 0,international:p.intlQty?{quantity:parseInt(p.intlQty)||0,precondition:p.intlPre||""}:void 0}:void 0};await n(Z)};return w.jsxs(ao,{className:"bg-gradient-card shadow-card border-0",children:[w.jsx(Gd,{children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-financial-light rounded-lg",children:w.jsx(vg,{className:"h-5 w-5 text-financial-blue"})}),w.jsx(Kd,{className:"text-xl text-card-foreground",children:t==="add"?"Add New Credit Card":"Edit Credit Card"})]})}),w.jsx(lo,{children:w.jsxs("form",{onSubmit:E,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Card Name *"}),w.jsx(at,{value:s.name,onChange:L=>o({...s,name:L.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Bank Name *"}),w.jsxs(Js,{value:s.bankName,required:!0,onValueChange:L=>o({...s,bankName:L}),children:[w.jsx(es,{children:w.jsx(Zs,{placeholder:"Select bank"})}),w.jsx(ts,{children:Object.values(ed).map(L=>w.jsx(Ut,{value:L,children:L},L))})]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Card Type"}),w.jsxs(Js,{value:s.cardType,onValueChange:L=>o({...s,cardType:L}),children:[w.jsx(es,{children:w.jsx(Zs,{})}),w.jsxs(ts,{children:[w.jsx(Ut,{value:Zt.ENTRY,children:"Entry Level"}),w.jsx(Ut,{value:Zt.REGULAR,children:"Regular"}),w.jsx(Ut,{value:Zt.PREMIUM,children:"Premium"}),w.jsx(Ut,{value:Zt.COBRAND,children:"Co-brand"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Card Link"}),w.jsx(at,{value:s.link,onChange:L=>o({...s,link:L.target.value}),placeholder:"https://..."})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Description"}),w.jsx(YA,{value:s.description,onChange:L=>o({...s,description:L.target.value}),className:"min-h-[80px]"})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Benefits"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 p-4 bg-financial-light rounded-lg",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Category"}),w.jsxs(Js,{value:u.category,onValueChange:L=>c({...u,category:L}),children:[w.jsx(es,{children:w.jsx(Zs,{placeholder:"Select category"})}),w.jsx(ts,{children:Wx.map(L=>w.jsx(Ut,{value:L,children:L},L))})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Type"}),w.jsxs(Js,{value:u.type,onValueChange:L=>c({...u,type:L}),children:[w.jsx(es,{children:w.jsx(Zs,{})}),w.jsxs(ts,{children:[w.jsx(Ut,{value:wn.CASHBACK,children:"Cashback"}),w.jsx(Ut,{value:wn.REWARD_POINTS,children:"Reward Points"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Value (%)"}),w.jsx(at,{type:"number",value:u.value,onChange:L=>c({...u,value:L.target.value}),min:"0",step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Description"}),w.jsx(at,{value:u.description,onChange:L=>c({...u,description:L.target.value})})]})]}),w.jsxs(ps,{type:"button",onClick:S,variant:"outline",className:"w-full",children:[w.jsx(FT,{className:"h-4 w-4 mr-2"})," Add Benefit"]}),i.length>0&&w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Added Benefits"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((L,Z)=>w.jsxs(ZC,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[L.category,": ",L.value,"% ",L.type===wn.REWARD_POINTS?"RP":"CB",w.jsx(ps,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(Z),className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",children:w.jsx(UT,{className:"h-3 w-3"})})]},Z))})]})]}),w.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Fees & Charges"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Joining Fee"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx(at,{type:"number",value:d.joiningValue,onChange:L=>h({...d,joiningValue:L.target.value}),placeholder:"500"}),w.jsxs(Js,{value:d.joiningType,onValueChange:L=>h({...d,joiningType:L}),children:[w.jsx(es,{children:w.jsx(Zs,{})}),w.jsxs(ts,{children:[w.jsx(Ut,{value:"fixed",children:"₹"}),w.jsx(Ut,{value:"percentage",children:"%"})]})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Annual Fee"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx(at,{type:"number",value:d.annualValue,onChange:L=>h({...d,annualValue:L.target.value}),placeholder:"500"}),w.jsxs(Js,{value:d.annualType,onValueChange:L=>h({...d,annualType:L}),children:[w.jsx(es,{children:w.jsx(Zs,{})}),w.jsxs(ts,{children:[w.jsx(Ut,{value:"fixed",children:"₹"}),w.jsx(Ut,{value:"percentage",children:"%"})]})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Cash Withdrawal Fee (%)"}),w.jsx(at,{type:"number",value:d.cashWithdrawal,onChange:L=>h({...d,cashWithdrawal:L.target.value}),placeholder:"2.5",step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Forex Markup (%)"}),w.jsx(at,{type:"number",value:d.forex,onChange:L=>h({...d,forex:L.target.value}),placeholder:"3.5",step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Wallet Load Fee (%)"}),w.jsx(at,{type:"number",value:d.walletLoad,onChange:L=>h({...d,walletLoad:L.target.value}),step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Education Transaction Fee (%)"}),w.jsx(at,{type:"number",value:d.education,onChange:L=>h({...d,education:L.target.value}),step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Utilities Fee (%)"}),w.jsx(at,{type:"number",value:d.utilities,onChange:L=>h({...d,utilities:L.target.value}),step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Rent Transaction Fee (%)"}),w.jsx(at,{type:"number",value:d.rent,onChange:L=>h({...d,rent:L.target.value}),step:"0.1"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Fuel Transaction"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx(at,{type:"number",value:d.fuelValue,onChange:L=>h({...d,fuelValue:L.target.value})}),w.jsxs(Js,{value:d.fuelType,onValueChange:L=>h({...d,fuelType:L}),children:[w.jsx(es,{children:w.jsx(Zs,{})}),w.jsxs(ts,{children:[w.jsx(Ut,{value:"fixed",children:"₹"}),w.jsx(Ut,{value:"percentage",children:"%"})]})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Other Fee (%)"}),w.jsx(at,{type:"number",value:d.other,onChange:L=>h({...d,other:L.target.value}),step:"0.1"})]})]}),w.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Lounge Access"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"Domestic Visits"}),w.jsx(at,{type:"number",value:p.domesticQty,onChange:L=>m({...p,domesticQty:L.target.value}),placeholder:"0"}),w.jsx(at,{value:p.domesticPre,onChange:L=>m({...p,domesticPre:L.target.value}),placeholder:"Precondition (e.g., minimum spend)"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Ge,{children:"International Visits"}),w.jsx(at,{type:"number",value:p.intlQty,onChange:L=>m({...p,intlQty:L.target.value}),placeholder:"0"}),w.jsx(at,{value:p.intlPre,onChange:L=>m({...p,intlPre:L.target.value}),placeholder:"Precondition"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[w.jsx(ps,{type:"submit",className:"w-full",children:t==="add"?"Add Credit Card":"Save Changes"}),r&&w.jsx(ps,{type:"button",variant:"outline",className:"w-full",onClick:r,children:"Cancel"})]})]})})]})}const L3="/card-assist/assets/hero-credit-cards-DKbb5G-l.jpg",xy="cards";function j3(t){return t===wn.REWARD_POINTS?wn.REWARD_POINTS:wn.CASHBACK}function F3(t){switch(t){case Zt.PREMIUM:case Zt.ENTRY:case Zt.COBRAND:return t;default:return Zt.REGULAR}}function U3(t){const e=String(t??"");return Object.values(ed).includes(e)?e:ed.AXIS_BANK}function B3(t){const e=(t==null?void 0:t.feesAndCharges)??{},n=i=>!!i&&typeof i=="object",r=(i,a=0)=>{if(typeof i=="number")return i;const u=Number(i);return Number.isFinite(u)?u:a},s=i=>typeof i=="string"?i:i==null?void 0:String(i),o=(i,a=0)=>({value:r(n(i)?i.value:void 0,a),type:n(i)&&i.type==="percentage"?"percentage":"fixed",description:s(n(i)?i.description:void 0)});return{annual:o(e.annual,0),joining:o(e.joining,0),cashWithdrawal:o(e.cashWithdrawal,0),forex:o(e.forex,0),educationTransaction:e.educationTransaction?o(e.educationTransaction):void 0,walletLoad:e.walletLoad?o(e.walletLoad):void 0,utilityBillPayment:e.utilityBillPayment?o(e.utilityBillPayment):void 0,rentTransaction:e.rentTransaction?o(e.rentTransaction):void 0,fuelTransaction:e.fuelTransaction?o(e.fuelTransaction):void 0,other:e.other?o(e.other):void 0}}function $3(t){const e=t.data(),n=Array.isArray(e.benefits)?e.benefits.map(r=>({category:String(r.category??""),type:j3(r.type),value:Number(r.value??0),description:r.description?String(r.description):void 0,conditions:r.conditions?String(r.conditions):void 0})):[];return{name:String(e.name??""),bankName:U3(e.bankName),cardType:F3(e.cardType),description:e.description?String(e.description):void 0,benefits:n,feesAndCharges:B3(e),link:String(e.link??"#"),lounge:e.lounge&&typeof e.lounge=="object"?{domestic:e.lounge.domestic?{quantity:Number(e.lounge.domestic.quantity??0),precondition:String(e.lounge.domestic.precondition??"")}:void 0,international:e.lounge.international?{quantity:Number(e.lounge.international.quantity??0),precondition:String(e.lounge.international.precondition??"")}:void 0}:void 0}}function z3(t){const e=hh(),n=Uj(hy(e,xy));return Wj(n,r=>{const s=r.docs.map(o=>$3({id:o.id,data:()=>o.data()}));t(s)})}async function H3(t){const e=hh(),n={name:t.name,bankName:t.bankName,cardType:t.cardType,description:t.description??null,benefits:t.benefits.map(a=>({category:a.category,type:a.type,value:a.value,description:a.description??null,conditions:a.conditions??null})),feesAndCharges:{annual:t.feesAndCharges.annual,joining:t.feesAndCharges.joining,cashWithdrawal:t.feesAndCharges.cashWithdrawal,forex:t.feesAndCharges.forex,educationTransaction:t.feesAndCharges.educationTransaction??null,walletLoad:t.feesAndCharges.walletLoad??null,utilityBillPayment:t.feesAndCharges.utilityBillPayment??null,rentTransaction:t.feesAndCharges.rentTransaction??null,fuelTransaction:t.feesAndCharges.fuelTransaction??null,other:t.feesAndCharges.other??null},link:t.link,lounge:t.lounge?{domestic:t.lounge.domestic??null,international:t.lounge.international??null}:null,createdAt:XC()},r=t.name.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"card";let s=r,o=1;const i=hy(e,xy);for(;(await Hj(cm(i,s))).exists();)o+=1,s=`${r}-${o}`;return await QC(cm(i,s),n,{merge:!0}),s}async function W3(t){const e=hh(),n=hy(e,xy),r=t.name.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"card",s={name:t.name,bankName:t.bankName,cardType:t.cardType,description:t.description??null,benefits:t.benefits.map(o=>({category:o.category,type:o.type,value:o.value,description:o.description??null,conditions:o.conditions??null})),feesAndCharges:{annual:t.feesAndCharges.annual,joining:t.feesAndCharges.joining,cashWithdrawal:t.feesAndCharges.cashWithdrawal,forex:t.feesAndCharges.forex,educationTransaction:t.feesAndCharges.educationTransaction??null,walletLoad:t.feesAndCharges.walletLoad??null,utilityBillPayment:t.feesAndCharges.utilityBillPayment??null,rentTransaction:t.feesAndCharges.rentTransaction??null,fuelTransaction:t.feesAndCharges.fuelTransaction??null,other:t.feesAndCharges.other??null},link:t.link,lounge:t.lounge?{domestic:t.lounge.domestic??null,international:t.lounge.international??null}:null,updatedAt:XC()};await QC(cm(n,r),s,{merge:!0})}const q3=()=>{const[t,e]=T.useState("search"),[n,r]=T.useState([]),[s,o]=T.useState(null);T.useEffect(()=>{const u=z3(c=>r(c));return()=>u()},[]),T.useEffect(()=>{window.history.replaceState({tab:t},"");const u=c=>{const d=c.state&&typeof c.state.tab=="string"?c.state.tab:"search";d!=="edit"&&o(null),e(d)};return window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)},[t]);const i=(u,c)=>{const d=(c==null?void 0:c.replace)||u==="edit",h={tab:u};d?window.history.replaceState(h,""):window.history.pushState(h,""),e(u)},a=async u=>{await H3(u)};return w.jsxs("div",{className:"min-h-screen bg-background",children:[w.jsx(cO,{activeTab:t,onTabChange:u=>i(u),isEditing:!!s}),w.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t==="search"&&w.jsx("div",{className:"mb-8 relative",children:w.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-financial",children:[w.jsx("img",{src:L3,alt:"Credit Cards",className:"w-full h-64 object-cover opacity-20"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("div",{className:"text-center text-white",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Find Your Perfect Credit Card"}),w.jsxs("p",{className:"text-xl md:text-2xl text-white/90 max-w-2xl",children:["Compare benefits across ",n.length," credit cards and discover which one gives you the best rewards for your spending"]})]})})]})}),t==="search"&&w.jsx(oF,{cards:n}),t==="cards"&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex items-center justify-between",children:w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"All Credit Cards"}),w.jsxs("p",{className:"text-muted-foreground",children:["Browse all ",n.length," available credit cards"]})]})}),w.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(u=>w.jsxs("div",{children:[w.jsx(aF,{card:u}),w.jsx("div",{className:"mt-2",children:w.jsx("button",{type:"button",className:"text-xs underline text-financial-blue",onClick:()=>{o(u),i("edit",{replace:!0})},children:"Edit"})})]},u.name))})]}),t==="add"&&w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx(j_,{mode:"add",onSubmit:async u=>{await a(u),i("cards")}})}),t==="edit"&&s&&w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsx(j_,{mode:"edit",initial:s,onSubmit:async u=>{await W3(u),i("cards"),o(null)},onCancel:()=>{i("cards"),o(null)}})})]})]})},G3=()=>{const t=Hx();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),w.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},K3=new ED,Q3=()=>w.jsx(xD,{client:K3,children:w.jsxs(X2,{children:[w.jsx(DN,{}),w.jsx(dk,{}),w.jsx(lO,{basename:"/card-assist",children:w.jsxs(oO,{children:[w.jsx(Mp,{path:"/",element:w.jsx(q3,{})}),w.jsx(Mp,{path:"*",element:w.jsx(G3,{})})]})})]})});aT(document.getElementById("root")).render(w.jsx(Q3,{}));
